
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://farmerboy95.github.io/SystemDesignResources/misc/chrome-blog/inside-browser-3/">
      
      
        <link rel="prev" href="../inside-browser-2/">
      
      
        <link rel="next" href="../inside-browser-4/">
      
      
      <link rel="icon" href="../../../assets/images/ico-sysdesign.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.11">
    
    
      
        <title>Bên trong các trình duyệt ngày nay (Phần 3) - farmerboy's System Design Resources</title>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.7e359304.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">

    
    
      
    

    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-NWZNGRMS0Q"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-NWZNGRMS0Q",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-NWZNGRMS0Q",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
   <link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ben-trong-cac-trinh-duyet-ngay-nay-phan-3" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="farmerboy&#39;s System Design Resources" class="md-header__button md-logo" aria-label="farmerboy's System Design Resources" data-md-component="logo">
      
  <img src="../../../assets/images/ico-sysdesign.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            farmerboy's System Design Resources
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bên trong các trình duyệt ngày nay (Phần 3)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/farmerboy95/SystemDesignResources" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    farmerboy95/SystemDesignResources
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  Trang chủ

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../ByteByteGo/what-happen-when-access-url/" class="md-tabs__link">
          
  
  ByteByteGo

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../inside-browser-1/" class="md-tabs__link">
          
  
  Nguồn khác

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="farmerboy&#39;s System Design Resources" class="md-nav__button md-logo" aria-label="farmerboy's System Design Resources" data-md-component="logo">
      
  <img src="../../../assets/images/ico-sysdesign.png" alt="logo">

    </a>
    farmerboy's System Design Resources
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/farmerboy95/SystemDesignResources" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    farmerboy95/SystemDesignResources
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Trang chủ
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Trang chủ
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giới thiệu
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../navigation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Các tài liệu
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ByteByteGo
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            ByteByteGo
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/what-happen-when-access-url/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chuyện gì sẽ xảy ra khi ta truy cập vào một đường dẫn (URL) trên trình duyệt?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/latency-numbers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Các mốc độ trễ mà lập trình viên nên biết
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/http-versions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HTTP/1 đến HTTP/2 đến HTTP/3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/rest-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/ssl-tls-https/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SSL, TLS và HTTPS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/scan-to-pay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scan to Pay là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/process-vs-thread/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Process vs. Thread
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/debugging-techniques/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Các kĩ thuật debug
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/cdn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tìm hiểu về CDN
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/top-redis-use-cases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Top 5 ứng dụng của Redis
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/why-redis-fast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vì sao Redis lại nhanh?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/storing-passwords/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lưu mật khẩu vào database như thế nào cho đúng?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/api-gateway/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Gateway là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/why-kafka-fast/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tại sao Kafka lại nhanh như vậy?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/sso/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Single Sign-on (SSO) là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/osi-model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mô hình OSI là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/dns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Những thứ bạn cần biết về DNS
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/computer-memory-and-storage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bộ nhớ và ổ cứng trong máy tính
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/chatgpt-hacks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 cách mà lập trình viên tận dụng ChatGPT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/cap-theorem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Định lý CAP - CAP theorem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/grpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    gRPC là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/graphql/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GraphQL là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/proxy-vs-reverse-proxy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Proxy vs. Reverse Proxy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/design-location-based-service/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thiết kế hệ thống: Thiết kế Location Based Service
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/system-patterns/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 kiểu hệ thống phân tán thông dụng
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/lsm-tree/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bí mật đằng sau NoSQL: Cây LSM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/bloom-filter/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bloom Filter là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/ci-cd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI/CD là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/choose-database/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Làm sao chọn database cho đúng?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/kubernetes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kiến trúc Kubernetes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/microservices/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Microservices là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/why-system-design-interview-important/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vì sao phỏng vấn System Design lại quan trọng?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/stackoverflow-architecture/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hệ thống của Stack Overflow có gì hay?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/netflix-architecture-evolution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giải mã sự phát triển trong kiến trúc API của Netflix
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/oauth2-explained/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Giải thích dễ hiểu OAuth2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/discord-messages-migration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord lưu hàng nghìn tỉ tin nhắn như thế nào?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/optimize-api-performance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 cách để tăng hiệu suất API của bạn
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/system-design-interview-guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hướng dẫn từng bước phỏng vấn System Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/consistent-hashing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Consistent Hashing là gì?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/git-merge-vs-rebase/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Merge vs Rebase
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/load-balancing-algorithms/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6 thuật toán load balancing phổ biến
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/sql-execution-order/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Thứ tự thực thi câu lệnh SQL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/apple-google-pay/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Apple Pay và Google Pay hoạt động như thế nào?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/container-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Những hiểu nhầm về Bare Metal, Virtual Machine và Container
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ByteByteGo/back-of-the-envelope-estimation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dự toán công suất cho ứng dụng - Back-of-the-envelope Estimation / Capacity planning
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Nguồn khác
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Nguồn khác
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" checked>
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Chrome Developers Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            Chrome Developers Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inside-browser-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bên trong các trình duyệt ngày nay (Phần 1)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inside-browser-2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bên trong các trình duyệt ngày nay (Phần 2)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Bên trong các trình duyệt ngày nay (Phần 3)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Bên trong các trình duyệt ngày nay (Phần 3)
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nguon" class="md-nav__link">
    <span class="md-ellipsis">
      Nguồn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ben-trong-renderer-process" class="md-nav__link">
    <span class="md-ellipsis">
      Bên trong Renderer Process
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cac-renderer-process-xu-ly-noi-dung-web" class="md-nav__link">
    <span class="md-ellipsis">
      Các renderer process xử lý nội dung web
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-phan-tich-cu-phap" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing (Phân tích cú pháp)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parsing (Phân tích cú pháp)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xay-dung-dom" class="md-nav__link">
    <span class="md-ellipsis">
      Xây dựng DOM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tai-nguon-phu" class="md-nav__link">
    <span class="md-ellipsis">
      Tải nguồn phụ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#javascript-co-the-chan-parsing" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript có thể chặn parsing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goi-y-cho-trinh-duyet-rang-ban-muon-tai-tai-nguyen-nhu-the-nao" class="md-nav__link">
    <span class="md-ellipsis">
      Gợi ý cho trình duyệt rằng bạn muốn tải tài nguyên như thế nào
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tinh-toan-cho-cac-style" class="md-nav__link">
    <span class="md-ellipsis">
      Tính toán cho các style
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layout" class="md-nav__link">
    <span class="md-ellipsis">
      Layout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ve" class="md-nav__link">
    <span class="md-ellipsis">
      Vẽ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vẽ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cap-nhat-rendering-pipeline-rat-ton-kem" class="md-nav__link">
    <span class="md-ellipsis">
      Cập nhật rendering pipeline rất tốn kém.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compositor" class="md-nav__link">
    <span class="md-ellipsis">
      Compositor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compositor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ban-ve-mot-trang-nhu-the-nao" class="md-nav__link">
    <span class="md-ellipsis">
      Bạn vẽ một trang như thế nào?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compositing-la-gi" class="md-nav__link">
    <span class="md-ellipsis">
      Compositing là gì?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chia-ra-thanh-cac-layer" class="md-nav__link">
    <span class="md-ellipsis">
      Chia ra thành các layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raster-va-composite-khong-lien-quan-en-main-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Raster và composite không liên quan đến main thread
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ket-phan-3" class="md-nav__link">
    <span class="md-ellipsis">
      Kết phần 3
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inside-browser-4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Bên trong các trình duyệt ngày nay (Phần 4)
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Discord Blog
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Discord Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discord-blog/storing-billions-messages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord lưu trữ hàng tỉ tin nhắn như thế nào?
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../discord-blog/storing-trillions-messages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discord lưu trữ hàng nghìn tỉ tin nhắn như thế nào?
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Bài báo khoa học
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Bài báo khoa học
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../papers/amazon-dynamo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Amazon Dynamo
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#nguon" class="md-nav__link">
    <span class="md-ellipsis">
      Nguồn
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ben-trong-renderer-process" class="md-nav__link">
    <span class="md-ellipsis">
      Bên trong Renderer Process
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cac-renderer-process-xu-ly-noi-dung-web" class="md-nav__link">
    <span class="md-ellipsis">
      Các renderer process xử lý nội dung web
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#parsing-phan-tich-cu-phap" class="md-nav__link">
    <span class="md-ellipsis">
      Parsing (Phân tích cú pháp)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Parsing (Phân tích cú pháp)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#xay-dung-dom" class="md-nav__link">
    <span class="md-ellipsis">
      Xây dựng DOM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tai-nguon-phu" class="md-nav__link">
    <span class="md-ellipsis">
      Tải nguồn phụ
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#javascript-co-the-chan-parsing" class="md-nav__link">
    <span class="md-ellipsis">
      JavaScript có thể chặn parsing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#goi-y-cho-trinh-duyet-rang-ban-muon-tai-tai-nguyen-nhu-the-nao" class="md-nav__link">
    <span class="md-ellipsis">
      Gợi ý cho trình duyệt rằng bạn muốn tải tài nguyên như thế nào
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tinh-toan-cho-cac-style" class="md-nav__link">
    <span class="md-ellipsis">
      Tính toán cho các style
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#layout" class="md-nav__link">
    <span class="md-ellipsis">
      Layout
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ve" class="md-nav__link">
    <span class="md-ellipsis">
      Vẽ
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Vẽ">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cap-nhat-rendering-pipeline-rat-ton-kem" class="md-nav__link">
    <span class="md-ellipsis">
      Cập nhật rendering pipeline rất tốn kém.
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compositor" class="md-nav__link">
    <span class="md-ellipsis">
      Compositor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Compositor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ban-ve-mot-trang-nhu-the-nao" class="md-nav__link">
    <span class="md-ellipsis">
      Bạn vẽ một trang như thế nào?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compositing-la-gi" class="md-nav__link">
    <span class="md-ellipsis">
      Compositing là gì?
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chia-ra-thanh-cac-layer" class="md-nav__link">
    <span class="md-ellipsis">
      Chia ra thành các layer
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raster-va-composite-khong-lien-quan-en-main-thread" class="md-nav__link">
    <span class="md-ellipsis">
      Raster và composite không liên quan đến main thread
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ket-phan-3" class="md-nav__link">
    <span class="md-ellipsis">
      Kết phần 3
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


<h1 id="ben-trong-cac-trinh-duyet-ngay-nay-phan-3">Bên trong các trình duyệt ngày nay (Phần 3)</h1>
<h2 id="nguon">Nguồn</h2>
<p><a class="glightbox" href="../../../assets/images/chrome.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img src="../../../assets/images/chrome.png" width="16" height="16"/></a> <a href="https://developer.chrome.com/blog/inside-browser-part3/">Inside look at modern web browser (part 3) - Chrome Developers Blog</a></p>
<h2 id="ben-trong-renderer-process">Bên trong Renderer Process</h2>
<p>Đây là phần 3 trong series 4 phần về cách trình duyệt hoạt động. Trước đó, ta đã đi qua kiến trúc đa tiến trình và quá trình điều hướng. Trong phần này, ta sẽ xem điều gì xảy ra trong renderer process.</p>
<p>Renderer process liên quan đến nhiều khía cạnh của hiệu suất web. Vì có rất nhiều thứ xảy ra trong renderer process, phần này sẽ chỉ là khái quát chung. Nếu bạn muốn đi sâu hơn, <a href="https://developers.google.com/web/fundamentals/performance/why-performance-matters/">phần Hiệu suất của Web cơ bản</a> có rất nhiều tài nguyên.</p>
<h2 id="cac-renderer-process-xu-ly-noi-dung-web">Các renderer process xử lý nội dung web</h2>
<p>Renderer process chịu trách nhiệm cho tất cả mọi thứ xảy ra trong một tab trên trình duyệt. Trong renderer process, main thread sẽ xử lý gần như mọi code bạn gửi cho user. Đôi khi các phần của code JavaScript được xử lý bởi các worker thread nếu bạn dùng một web worker hoặc một service worker. Các raster thread và compositor thread cũng được chạy trong renderer process để render trang một cách hiệu quả và mượt mà.</p>
<p>Công việc chủ yếu của renderer process là chuyển HTML, CSS và JavaScript thành một trang web mà người dùng có thể tương tác.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure1.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 1: Renderer process với một main thread, các worker thread, một compositor thread và một raster thread bên trong" data-desc-position="bottom"><img alt="Hình 1: Renderer process với một main thread, các worker thread, một compositor thread và một raster thread bên trong" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure1.avif" /></a></p>
<figcaption>Hình 1: Renderer process với một main thread, các worker thread, một compositor thread và một raster thread bên trong</figcaption>
</figure>
<h2 id="parsing-phan-tich-cu-phap">Parsing (Phân tích cú pháp)</h2>
<h3 id="xay-dung-dom">Xây dựng DOM</h3>
<p>Khi renderer process nhận một thông báo commit cho điều hướng và bắt đầu nhận dữ liệu HTML, main thread bắt đầu parse (phân tích cú pháp) chuỗi văn bản (HTML) và biến nó thành Mô hình Đối tượng Tài liệu - <strong>D</strong>ocument <strong>O</strong>bject <strong>M</strong>odel (<strong>DOM</strong>).</p>
<p>DOM là biểu diễn bên trong của trình duyệt về trang cũng như cấu trúc dữ liệu và API mà nhà phát triển web có thể tương tác qua JavaScript.</p>
<p>Parse một tài liệu HTML thành DOM được định nghĩa bởi <a href="https://html.spec.whatwg.org/">Tiêu chuẩn HTML</a>. Bạn có thể nhận thấy rằng việc cung cấp HTML cho trình duyệt không bao giờ gây ra lỗi. Ví dụ, thiếu thẻ đóng <code>&lt;/p&gt;</code> là một HTML hợp lệ. Markup sai như <code>Hi! &lt;b&gt;I'm &lt;i&gt;Chrome&lt;/b&gt;!&lt;/i&gt;</code> (tag b đóng trước tag i) sẽ được xem như bạn viết <code>Hi! &lt;b&gt;I'm &lt;i&gt;Chrome&lt;/i&gt;&lt;/b&gt;&lt;i&gt;!&lt;/i&gt;</code>. Điều này là do đặc tả HTML được thiết kế để linh hoạt xử lý các lỗi đó. Nếu bạn muốn biết chúng được thực hiện như thế nào, bạn có thể đọc phần "<a href="https://html.spec.whatwg.org/multipage/parsing.html#an-introduction-to-error-handling-and-strange-cases-in-the-parser">Giới thiệu về xử lý lỗi và các trường hợp lạ trong parser</a>" của đặc tả HTML.</p>
<h3 id="tai-nguon-phu">Tải nguồn phụ</h3>
<p>Một website thường dùng các tài nguyên bên ngoài như hình ảnh, CSS và JavaScript. Các file này cần được tải từ mạng hoặc cache. Main thread <em>có thể</em> yêu cầu từng cái một khi nó tìm ra các tài nguyên đó trong lúc parse để xây dựng DOM, nhưng để tăng tốc, "scanner tải trước" được chạy đồng thời. Nếu có những thứ như <code>&lt;img&gt;</code> hoặc <code>&lt;link&gt;</code> trong tài liệu HTML, scanner tải trước sẽ xem xét mã thông báo do HTML parser tạo và gửi request đến network thread trong browser process.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure2.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 2: Main thread parse HTML và xây dựng cây DOM" data-desc-position="bottom"><img alt="Hình 2: Main thread parse HTML và xây dựng cây DOM" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure2.avif" /></a></p>
<figcaption>Hình 2: Main thread parse HTML và xây dựng cây DOM</figcaption>
</figure>
<h3 id="javascript-co-the-chan-parsing">JavaScript có thể chặn parsing</h3>
<p>Khi HTML parser tìm thấy thẻ <code>&lt;script&gt;</code>, nó sẽ tạm dừng việc parse tài liệu HTML và phải tải, parse và thực thi code JavaScript. Vì sao? Bởi vì JavaScript có thể thay đổi tài liệu HTML với những thứ như <code>document.write()</code>, nó sẽ thay đổi toàn bộ cấu trúc DROM (<a href="https://html.spec.whatwg.org/multipage/parsing.html#overview-of-the-parsing-model">tổng quan về mô hình parsing</a> trong đặc tả HTML có một sơ đồ rất đẹp). Đây là lý do vì sao HTML parser phải đợi JavaScript chạy trước khi tiếp tục parse tài liệu HTML. Nếu bạn tò mò về những thứ xảy ra trong quá trình thực thi JavaScript, <a href="https://mathiasbynens.be/notes/shapes-ics">team V8 đã có những buổi toạ đàm và bài viết về vấn đề đó</a>.</p>
<h2 id="goi-y-cho-trinh-duyet-rang-ban-muon-tai-tai-nguyen-nhu-the-nao">Gợi ý cho trình duyệt rằng bạn muốn tải tài nguyên như thế nào</h2>
<p>Có nhiều cách để các nhà phát triển ứng dụng web có thể gửi gợi ý đến trình duyệt để tải tài nguyên theo thứ tự nào đó. Nếu code JavaScript của bạn không dùng <code>document.write()</code>, bạn có thể thêm các thuộc tính <a href="https://developer.mozilla.org/docs/Web/HTML/Element/script#attr-async"><code>async</code></a> hay <a href="https://developer.mozilla.org/docs/Web/HTML/Element/script#attr-defer"><code>defer</code></a> cho thẻ <code>&lt;script&gt;</code>. Trình duyệt sẽ tải và chạy code JavaScript một cách bất đồng bộ và không làm gián đoạn việc parse. Bạn có thể dùng <a href="https://developers.google.com/web/fundamentals/primers/modules">JavaScript module</a> nếu thấy hợp lý. <code>&lt;link rel="preload"&gt;</code> là một cách để báo cho trình duyệt rằng tài nguyên là rất cần thiết cho việc điều hướng bây giờ và bạn muốn tải càng sớm càng tốt. Bạn có thể đọc thêm tại <a href="https://developers.google.com/web/fundamentals/performance/resource-prioritization">Ưu tiên tài nguyên - Nhờ trình duyệt giúp bạn</a>.</p>
<h2 id="tinh-toan-cho-cac-style">Tính toán cho các style</h2>
<p>DOM là chưa đủ để biết trang web sẽ trông như thế nào vì ta cần các style trong CSS. Main thread sẽ parse CSS và quyết định computed style cho từng node DOM. Đây là thông tin về loại style được áp dụng cho từng element dựa trên bộ chọn CSS. Bạn có thể xem thông tin này trong phần <code>computed</code> của DevTools.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure3.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 3: Main thread parse CSS để thêm các computed style vào" data-desc-position="bottom"><img alt="Hình 3: Main thread parse CSS để thêm các computed style vào" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure3.avif" /></a></p>
<figcaption>Hình 3: Main thread parse CSS để thêm các computed style vào</figcaption>
</figure>
<p>Ngay cả khi nếu bạn không cung cấp CSS, mỗi DOM node vẫn có một style được tính toán. Tag <code>&lt;h1&gt;</code> được hiển thị to hơn tag <code>&lt;h2&gt;</code> và margin được định nghĩa cho mỗi element. Lý do là vì browser có CSS mặc định. Nếu bạn muốn biết CSS mặc định của Chrome trông như nào, <a href="https://cs.chromium.org/chromium/src/third_party/blink/renderer/core/html/resources/html.css">bạn có thể xem source code ở đây</a>.</p>
<h2 id="layout">Layout</h2>
<p>Giờ renderer process đã biết cấu trúc của tài liệu và style cho từng node, nhưng vẫn không đủ để render trang. Tưởng tượng bạn đang cố gắng miêu tả một bức vẽ cho bạn của mình qua điện thoại. "Có một hình tròn lớn màu đủ và một hình vuông nhỏ màu xanh" là không đủ thông tin để bạn của bạn biết chính xác bức vẽ trông thế nào.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure4.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 4: Một người đứng trước một bức vẽ, với kết nối điện thoại đến một người khác" data-desc-position="bottom"><img alt="Hình 4: Một người đứng trước một bức vẽ, với kết nối điện thoại đến một người khác" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure4.avif" /></a></p>
<figcaption>Hình 4: Một người đứng trước một bức vẽ, với kết nối điện thoại đến một người khác</figcaption>
</figure>
<p>Layout (bố cục) là một process để tìm hình dạng của các element. Main thread sẽ đi qua DOM và các computed style và tạo cây layout, nó sẽ có các thông tin như toạ độ x y và kích thước hộp giới hạn. Cây layout có cấu trúc tương tự cây DOM, nhưng nó chỉ chứa thông tin liên quan đến những gì hiển thị trên trang. Nếu <code>display: none</code> được áp dụng, element đó không nằm trong layout tree (tuy nhiên, element với <code>visibility: hidden</code> vẫn nằm trên cây layout). Tương tự, nếu một lớp giả với nội dung như <code>p::before{content:"Hi!"}</code> được áp dụng, nó sẽ nằm trong cây layout mặc dù nó không nằm trong DOM.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure5.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 5: Main thread chạy dọc cây DOM với computed style và tạo ra cây layout" data-desc-position="bottom"><img alt="Hình 5: Main thread chạy dọc cây DOM với computed style và tạo ra cây layout" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure5.avif" /></a></p>
<figcaption>Hình 5: Main thread chạy dọc cây DOM với computed style và tạo ra cây layout</figcaption>
</figure>
<p>Xác định layout của trang là một việc khó. Ngay cả layout của trang đơn giản nhất như một đống block từ trên xuống dưới cũng phải xem xét độ lớn của font chữ và vị trí ngắt dòng vì chúng ảnh hưởng đến kích thước và hình dạng của đoạn văn; mà sau đó ảnh hưởng đến vị trí của đoạn sau, như video dưới đây.</p>
<figure>
<video controls="controls">
    <source id="mp4" src="../../../assets/misc/chrome-blog/inside-browser-3/figure6.mp4" type="video/mp4">
</video>
<figcaption>Hình 6: Box Layout của đoạn văn phải di chuyển vì có dấu xuống dòng mới</figcaption>
</figure>
<p>CSS có thể làm cho phần tử nổi sang một bên, che phần mục tràn và thay đổi hướng viết. Bạn có thể tưởng tượng, giai đoạn layout này có một nhiệm vụ to lớn. Trong Chrome, toàn bộ team kỹ sư làm việc trên layout. Nếu bạn muốn xem chi tiết về công việc của họ, bạn có thể xem <a href="https://www.youtube.com/watch?v=Y5Xa4H2wtVA">một vài buổi toạ đàm từ Hội nghị BlinkOn</a>.</p>
<h2 id="ve">Vẽ</h2>
<p>Có DOM, style, và layout vẫn chưa đủ để render trang. Giả sử bạn muốn vẽ lại bức tranh đó. Bạn biết kích thước, hình dáng và vị trí các element, nhưng theo thứ tự nào?</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure7.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 7: Một người đứng trước một bức vẽ với cọ sơn, tự hỏi xem mình nên vẽ hình tròn hay hình vuông trước" data-desc-position="bottom"><img alt="Hình 7: Một người đứng trước một bức vẽ với cọ sơn, tự hỏi xem mình nên vẽ hình tròn hay hình vuông trước" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure7.avif" /></a></p>
<figcaption>Hình 7: Một người đứng trước một bức vẽ với cọ sơn, tự hỏi xem mình nên vẽ hình tròn hay hình vuông trước</figcaption>
</figure>
<p>Ví dụ, <code>z-index</code> có thể được set cho một số element nhất định, trong trường hợp đó, vẽ theo thứ tự trên HTML sẽ cho ra kết quả sai khi render.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure8.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 8: Element của trang xuất hiện theo thứ tự HTML markup, cho ra kết quả sai vì z-index không được sử dụng" data-desc-position="bottom"><img alt="Hình 8: Element của trang xuất hiện theo thứ tự HTML markup, cho ra kết quả sai vì z-index không được sử dụng" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure8.avif" /></a></p>
<figcaption>Hình 8: Element của trang xuất hiện theo thứ tự HTML markup, cho ra kết quả sai vì z-index không được sử dụng</figcaption>
</figure>
<p>Ở bước vẽ này, main thread sẽ đi qua cây layout để tạo ra các bản ghi vẽ. Bản ghi vẽ (paint record) là một ghi chú của quá trình vẽ như "nền trước, rồi chữ, rồi đến hình chữ nhật". Nếu bạn từng vẽ trên element <code>&lt;canvas&gt;</code> với JavaScript, bạn sẽ quen với quá trình này.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure9.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 9: Main thread đi qua cây layout và cho ra các bản ghi vẽ" data-desc-position="bottom"><img alt="Hình 9: Main thread đi qua cây layout và cho ra các bản ghi vẽ" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure9.avif" /></a></p>
<figcaption>Hình 9: Main thread đi qua cây layout và cho ra các bản ghi vẽ</figcaption>
</figure>
<h3 id="cap-nhat-rendering-pipeline-rat-ton-kem">Cập nhật rendering pipeline rất tốn kém.</h3>
<p>Điều quan trọng nhất cần nắm bắt trong renderer pipeline là ở mỗi bước, kết quả của thao tác trước đó được sử dụng để tạo dữ liệu mới. Ví dụ, nếu có gì đó thay đổi trong cây layout, thì thứ tự vẽ cần được tạo lại cho các phần bị ảnh hưởng của tài liệu. Video bên dưới cho thấy các cây DOM + Style, Layout và Paint theo thứ tự chúng được sinh ra.</p>
<figure>
<video controls="controls">
    <source id="mp4" src="../../../assets/misc/chrome-blog/inside-browser-3/figure10.mp4" type="video/mp4">
</video>
<figcaption>Hình 10: Các cây DOM + Style, Layout và Paint theo thứ tự chúng được sinh ra</figcaption>
</figure>
<p>Nếu bạn đang tạo hiệu ứng cho các element, trình duyệt phải chạy các thao tác này ở giữa mọi frame. Hầu hết các display sẽ refresh 60 lần một giây (60 frame/giây); hình ảnh động sẽ xuất hiện mượt mà đối với mắt người khi bạn di chuyển mọi thứ trên màn hình ở mọi frame. Tuy nhiên, nếu hoạt ảnh mất đi các frame ở giữa, thì trang sẽ xuất hiện một cách "lộn xộn".</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure11.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 11: Các frame hoạt ảnh trên dòng thời gian" data-desc-position="bottom"><img alt="Hình 11: Các frame hoạt ảnh trên dòng thời gian" class="centered-img h-150" src="../../../assets/misc/chrome-blog/inside-browser-3/figure11.avif" /></a></p>
<figcaption>Hình 11: Các frame hoạt ảnh trên dòng thời gian</figcaption>
</figure>
<p>Ngay cả khi các hoạt động render của bạn theo kịp quá trình refresh màn hình, thì các tính toán này vẫn đang chạy trên main thread, nghĩa là thread này có thể bị chặn khi ứng dụng của bạn đang chạy JavaScript.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure12.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 12: Các frame hoạt ảnh trên dòng thời gian, nhưng một frame bị chặn bởi JavaScript" data-desc-position="bottom"><img alt="Hình 12: Các frame hoạt ảnh trên dòng thời gian, nhưng một frame bị chặn bởi JavaScript" class="centered-img h-150" src="../../../assets/misc/chrome-blog/inside-browser-3/figure12.avif" /></a></p>
<figcaption>Hình 12: Các frame hoạt ảnh trên dòng thời gian, nhưng một frame bị chặn bởi JavaScript</figcaption>
</figure>
<p>Bạn có thể chia thao tác JavaScript thành các phần nhỏ và lên lịch chạy ở mọi frame bằng cách sử dụng <code>requestAnimationFrame()</code>. Để biết thêm về chủ đề này, vui lòng xem <a href="https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution">Tối ưu hóa thực thi JavaScript</a>. Bạn cũng có thể chạy <a href="https://www.youtube.com/watch?v=X57mh8tKkgE">JavaScript trong Web Worker</a> để tránh chặn main thread.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure13.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 13: Các đoạn JavaScript nhỏ hơn chạy trên dòng thời gian có frame hoạt ảnh" data-desc-position="bottom"><img alt="Hình 13: Các đoạn JavaScript nhỏ hơn chạy trên dòng thời gian có frame hoạt ảnh" class="centered-img h-150" src="../../../assets/misc/chrome-blog/inside-browser-3/figure13.avif" /></a></p>
<figcaption>Hình 13: Các đoạn JavaScript nhỏ hơn chạy trên dòng thời gian có frame hoạt ảnh</figcaption>
</figure>
<h2 id="compositor">Compositor</h2>
<h3 id="ban-ve-mot-trang-nhu-the-nao">Bạn vẽ một trang như thế nào?</h3>
<p>Bây giờ trình duyệt đã biết cấu trúc của tài liệu, style của từng element, hình dạng của trang và thứ tự tô màu, vậy nó sẽ vẽ một trang như thế nào? Biến thông tin này thành pixel trên màn hình được gọi là <strong>rasterizing</strong>.</p>
<p>Có lẽ một cách ngây thơ để xử lý việc này là raster các phần bên trong viewport (tầm nhìn của màn hình). Nếu người dùng cuộn trang, sau đó di chuyển frame đã raster và điền vào các phần còn thiếu bằng cách raster nhiều hơn, giống video bên dưới. Đây là cách Chrome xử lý rasterizing khi nó được phát hành lần đầu tiên. Tuy nhiên, trình duyệt hiện đại chạy một quy trình phức tạp hơn được gọi là compositing (tổng hợp).</p>
<figure>
<video controls="controls">
    <source id="mp4" src="../../../assets/misc/chrome-blog/inside-browser-3/figure14.mp4" type="video/mp4">
</video>
<figcaption>Hình 14: Hoạt ảnh của rasterizing process</figcaption>
</figure>
<h3 id="compositing-la-gi">Compositing là gì?</h3>
<p>Compositing là một kỹ thuật để tách các phần của trang thành các layer, rasterize từng layer và tổng hợp dưới dạng một trang trong một thread riêng biệt được gọi là compositor thread. Nếu cuộn trang xảy ra, vì các lớp đã được rasterized, tất cả những gì nó phải làm là composite một frame mới. Hoạt ảnh có thể đạt được theo cách tương tự bằng cách di chuyển các layer và composite một frame mới, như video bên dưới.</p>
<figure>
<video controls="controls">
    <source id="mp4" src="../../../assets/misc/chrome-blog/inside-browser-3/figure15.mp4" type="video/mp4">
</video>
<figcaption>Hình 15: Hoạt ảnh của compositing process</figcaption>
</figure>
<p>Bạn có thể xem cách trang web của mình được chia thành các layer trong DevTools bằng cách sử dụng <a href="https://blog.logrocket.com/eliminate-content-repaints-with-the-new-layers-panel-in-chrome-e2c306d4d752?gi=cd6271834cea">bảng Layers</a>.</p>
<h3 id="chia-ra-thanh-cac-layer">Chia ra thành các layer</h3>
<p>Để tìm ra mỗi element nằm trong layer nào, main thread đi qua cây layout để tạo cây layer (phần này được gọi là "Cập nhật cây layer" trong bảng hiệu suất DevTools). Nếu một số phần của trang lẽ ra là layer riêng biệt (như menu bên trượt vào) mà không có layer riêng, thì bạn có thể gợi ý cho trình duyệt bằng cách sử dụng thuộc tính <code>will-change</code> trong CSS.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure16.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 16: Main thread đi qua cây layout để tạo ra cây layer" data-desc-position="bottom"><img alt="Hình 16: Main thread đi qua cây layout để tạo ra cây layer" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure16.avif" /></a></p>
<figcaption>Hình 16: Main thread đi qua cây layout để tạo ra cây layer</figcaption>
</figure>
<p>Bạn có thể muốn cung cấp các layer cho mọi element, nhưng việc composite trên một số lượng lớn các layer có thể dẫn đến hoạt động chậm hơn so với việc rasterizing các phần nhỏ của trang trên mỗi frame, vì vậy, điều quan trọng là bạn phải đo hiệu suất render của ứng dụng của mình. Để biết thêm về chủ đề này, hãy xem <a href="https://developers.google.com/web/fundamentals/performance/rendering/stick-to-compositor-only-properties-and-manage-layer-count">Bám sát các thuộc tính chỉ dành cho Compositor và Quản lý số lượng Layer</a>.</p>
<h3 id="raster-va-composite-khong-lien-quan-en-main-thread">Raster và composite không liên quan đến main thread</h3>
<p>Khi cây layer được tạo và thứ tự vẽ được xác định, main thread sẽ commit thông tin đó cho compositor thread. Compositor thread sau đó rasterize từng layer. Một layer có thể lớn bằng toàn bộ chiều dài của một trang, do đó, compositor thread chia chúng thành các ô và gửi từng ô tới các raster thread. Các raster thread sẽ rasterize từng ô và lưu chúng trong bộ nhớ GPU.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure17.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 17: Các raster thread tạo bitmap của các ô và gửi chúng đến GPU" data-desc-position="bottom"><img alt="Hình 17: Các raster thread tạo bitmap của các ô và gửi chúng đến GPU" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure17.avif" /></a></p>
<figcaption>Hình 17: Các raster thread tạo bitmap của các ô và gửi chúng đến GPU</figcaption>
</figure>
<p>Compositor thread có thể ưu tiên các raster thread khác nhau để những thứ trong viewport(hoặc gần đó) có thể được raster trước. Một layer cũng có nhiều ô cho các độ phân giải khác nhau để xử lý những thứ như phóng to chẳng hạn.</p>
<p>Sau khi các ô được raster, compositor thread sẽ thu thập thông tin ô được gọi là <strong>draw quads</strong> để tạo <strong>compositor frame</strong>.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Draw quad</td>
<td>Chứa thông tin như vị trí của ô trong bộ nhớ và vị trí trong trang để vẽ ô, có tính đến việc composite trang.</td>
</tr>
<tr>
<td>Compositor frame</td>
<td>Tập các draw quad đại diện cho một frame của trang.</td>
</tr>
</tbody>
</table>
<p>Một compositor frame sau đó được gửi tới browser process thông qua IPC. Ở đây, một compositor frame khác có thể được thêm vào từ UI thread để thay đổi UI của trình duyệt hoặc từ các renderer process khác dành cho tiện ích mở rộng. Các compositor frame này được gửi đến GPU để hiển thị trên màn hình. Nếu một sự kiện cuộn xảy ra, compositor thread sẽ tạo một compositor frame khác để gửi tới GPU.</p>
<figure>
<p><a class="glightbox" href="../../../assets/misc/chrome-blog/inside-browser-3/figure18.avif" data-type="image" data-width="100%" data-height="auto" data-title="Hình 18: Compositor thread tạo compositing frame. Frame được gửi đến browser process rồi đến GPU" data-desc-position="bottom"><img alt="Hình 18: Compositor thread tạo compositing frame. Frame được gửi đến browser process rồi đến GPU" class="centered-img h-300" src="../../../assets/misc/chrome-blog/inside-browser-3/figure18.avif" /></a></p>
<figcaption>Hình 18: Compositor thread tạo compositing frame. Frame được gửi đến browser process rồi đến GPU</figcaption>
</figure>
<p>Lợi ích của việc composite là nó được thực hiện mà không liên quan đến main thread. Compositor thread không cần đợi tính toán style hoặc thực thi JavaScript. Đây là lý do tại sao các <a href="https://www.html5rocks.com/en/tutorials/speed/high-performance-animations/">hoạt-ảnh-chỉ-cần-composite</a> được coi là tốt nhất để có hiệu suất mượt mà. Nếu layout hoặc paint cần được tính toán lại thì main thread phải tham gia.</p>
<h2 id="ket-phan-3">Kết phần 3</h2>
<p>Trong phần này, ta đã xem qua rendering pipeline từ parsing đến compositing. Hi vọng rằng bạn đã đủ khả năng để đọc thêm về tối ưu hoá hiệu suất của một trang web.</p>
<p>Trong phần tiếp theo và cũng là phần cuối, ta sẽ nghiên cứu compositor thread chi tiết hơn và xem điều gì xảy ra khi người dùng nhập liệu cũng như di chuyển và nhấp chuột.</p>







  
    
  
  
    
  


  <aside class="md-source-file">
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Last update">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom">11/10/2023 (GMT+07)</span>
  </span>

    
    
      
  <span class="md-source-file__fact">
    <span class="md-icon" title="Created">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3h-2Z"/></svg>
    </span>
    <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-custom">05/04/2023 (GMT+07)</span>
  </span>

    
    
      
  
  <span class="md-source-file__fact">
    <span class="md-icon" title="Contributors">
      
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 4a4 4 0 0 1 4 4 4 4 0 0 1-4 4 4 4 0 0 1-4-4 4 4 0 0 1 4-4m0 10c4.42 0 8 1.79 8 4v2H4v-2c0-2.21 3.58-4 8-4Z"/></svg>
      
    </span>
    <nav>
      
        <a href="mailto:jerry.stone.manutd@gmail.com">farmerboy95</a>
    </nav>
  </span>

    
    
  </aside>


  







  <h2 id="__comments">Comments</h2>
  <!-- Insert generated snippet here -->
  <script src="https://giscus.app/client.js"
    data-repo="farmerboy95/SystemDesignResources"
    data-repo-id="R_kgDOI0Ndtw"
    data-category="General"
    data-category-id="DIC_kwDOI0Ndt84CVvKb"
    data-mapping="pathname"
    data-strict="0"
    data-reactions-enabled="1"
    data-emit-metadata="0"
    data-input-position="bottom"
    data-theme="preferred_color_scheme"
    data-lang="en"
    crossorigin="anonymous"
    async>
  </script>
  <!-- Synchronize Giscus theme with palette -->
  <script>
    var giscus = document.querySelector("script[src*=giscus]")

    /* Set palette on initial load */
    var palette = __md_get("__palette")
    if (palette && typeof palette.color === "object") {
      var theme = palette.color.scheme === "slate" ? "dark" : "light"
      giscus.setAttribute("data-theme", theme) 
    }

    /* Register event handlers after documented loaded */
    document.addEventListener("DOMContentLoaded", function() {
      var ref = document.querySelector("[data-md-component=palette]")
      ref.addEventListener("change", function() {
        var palette = __md_get("__palette")
        if (palette && typeof palette.color === "object") {
          var theme = palette.color.scheme === "slate" ? "dark" : "light"

          /* Instruct Giscus to change theme */
          var frame = document.querySelector(".giscus-frame")
          frame.contentWindow.postMessage(
            { giscus: { setConfig: { theme } } },
            "https://giscus.app"
          )
        }
      })
    })
  </script>

                

  
    <div class="md-source-date">
      <small>
          Authors: <span class='git-page-authors git-authors'><a href='mailto:jerry.stone.manutd@gmail.com'>farmerboy95</a></span>
      </small>
    </div>
  

              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2024 farmerboy
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/farmerboy95" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top"], "search": "../../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
    
      <script src="../../../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    

    <script
      data-name="BMC-Widget"
      data-cfasync="false" 
      src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" 
      data-id="farmerboy" 
      data-description="Support me on Buy me a coffee!" 
      data-message="" 
      data-color="#5F7FFF" 
      data-position="Right" 
      data-x_margin="18" 
      data-y_margin="18"
    ></script>

  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>