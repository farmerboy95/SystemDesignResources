{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"L\u1eddi ch\u00e0o","text":"<p>Xin ch\u00e0o, m\u00ecnh l\u00e0 farmerboy.</p> <p>\u0110\u00e2y l\u00e0 n\u01a1i m\u00ecnh l\u01b0u tr\u1eef c\u00e1c t\u00e0i li\u1ec7u v\u1ec1 System Design b\u1eb1ng ti\u1ebfng Vi\u1ec7t.</p> <p>D\u1ecbch thu\u1eadt l\u00e0 m\u1ed9t c\u00f4ng vi\u1ec7c r\u1ea5t kh\u00f3 kh\u0103n, n\u00ean n\u1ebfu c\u00e1c b\u1ea1n th\u1ea5y b\u1ea3n d\u1ecbch kh\u00f4ng th\u1ef1c s\u1ef1 t\u1ed1t, h\u00e3y \u0111\u1ec1 xu\u1ea5t ch\u1ec9nh s\u1eeda t\u1ea1i \u0111\u00e2y.</p> <p>L\u01b0u \u00fd, n\u1ebfu b\u1ea1n th\u1eafc m\u1eafc v\u00ec sao m\u00ecnh vi\u1ebft ti\u1ebfng Vi\u1ec7t m\u00e0 v\u1eabn d\u00f9ng UI ti\u1ebfng Anh cho trang n\u00e0y, \u0111\u00f3 l\u00e0 v\u00ec t\u00ednh n\u0103ng t\u00ecm ki\u1ebfm kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng khi ch\u1ecdn ng\u00f4n ng\u1eef ti\u1ebfng Vi\u1ec7t. Mong c\u00e1c b\u1ea1n th\u00f4ng c\u1ea3m.</p> <p>Gi\u1edbi thi\u1ec7u s\u01a1 v\u1ec1 m\u00ecnh th\u00ec hi\u1ec7n t\u1ea1i m\u00ecnh \u0111ang tham gia Competitive Programming v\u1edbi c\u00e1c t\u00e0i kho\u1ea3n nh\u01b0:</p> <ul> <li> farmerboy</li> <li> farmerboy</li> <li> farmerboy</li> <li> farmerboy</li> <li> farmerboy</li> <li> farmerboy</li> <li> farmerboy</li> <li> farmerboy</li> </ul> <p>Ngo\u00e0i ra, c\u00e1c b\u1ea1n c\u00f3 th\u1ec3 t\u00ecm \u0111\u01b0\u1ee3c c\u00e1c t\u00e0i kho\u1ea3n c\u1ee7a m\u00ecnh tr\u00ean c\u00e1c trang Competitive Programming t\u1ea1i clist.by.</p> <p>N\u1ebfu c\u00e1c b\u1ea1n th\u1ea5y website n\u00e0y h\u1eefu \u00edch, c\u00f3 th\u1ec3 \u1ee7ng h\u1ed9 m\u00ecnh th\u00f4ng qua Buy Me A Coffee d\u01b0\u1edbi \u0111\u00e2y:</p> <p></p>"},{"location":"navigation/","title":"C\u00e1c t\u00e0i li\u1ec7u","text":"<ul> <li>Trang ch\u1ee7<ul> <li>L\u1eddi ch\u00e0o</li> <li>C\u00e1c t\u00e0i li\u1ec7u</li> </ul> </li> <li>ByteByteGo<ul> <li>Chuy\u1ec7n g\u00ec s\u1ebd x\u1ea3y ra khi ta truy c\u1eadp v\u00e0o m\u1ed9t \u0111\u01b0\u1eddng d\u1eabn (URL) tr\u00ean tr\u00ecnh duy\u1ec7t?</li> <li>C\u00e1c m\u1ed1c \u0111\u1ed9 tr\u1ec5 m\u00e0 l\u1eadp tr\u00ecnh vi\u00ean n\u00ean bi\u1ebft</li> <li>HTTP/1 \u0111\u1ebfn HTTP/2 \u0111\u1ebfn HTTP/3</li> <li>REST API l\u00e0 g\u00ec?</li> <li>SSL, TLS v\u00e0 HTTPS</li> <li>Scan to Pay l\u00e0 g\u00ec?</li> <li>Process vs. Thread</li> <li>C\u00e1c k\u0129 thu\u1eadt debug</li> <li>T\u00ecm hi\u1ec3u v\u1ec1 CDN</li> <li>Top 5 \u1ee9ng d\u1ee5ng c\u1ee7a Redis</li> <li>V\u00ec sao Redis l\u1ea1i nhanh?</li> <li>L\u01b0u m\u1eadt kh\u1ea9u v\u00e0o database nh\u01b0 th\u1ebf n\u00e0o cho \u0111\u00fang?</li> <li>API Gateway l\u00e0 g\u00ec?</li> <li>T\u1ea1i sao Kafka l\u1ea1i nhanh nh\u01b0 v\u1eady?</li> <li>Single Sign-on (SSO) l\u00e0 g\u00ec?</li> <li>M\u00f4 h\u00ecnh OSI l\u00e0 g\u00ec?</li> <li>T\u1ea5t t\u1ea7n t\u1eadt v\u1ec1 DNS</li> <li>B\u1ed9 nh\u1edb v\u00e0 \u1ed5 c\u1ee9ng trong m\u00e1y t\u00ednh</li> <li>7 c\u00e1ch m\u00e0 l\u1eadp tr\u00ecnh vi\u00ean t\u1eadn d\u1ee5ng ChatGPT</li> <li>\u0110\u1ecbnh l\u00fd CAP - CAP theorem</li> <li>gRPC l\u00e0 g\u00ec?</li> <li>GraphQL l\u00e0 g\u00ec?</li> <li>Proxy vs. Reverse Proxy</li> <li>Thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng: Thi\u1ebft k\u1ebf Location Based Service</li> <li>7 ki\u1ec3u h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n th\u00f4ng d\u1ee5ng</li> <li>B\u00ed m\u1eadt \u0111\u1eb1ng sau NoSQL: C\u00e2y LSM</li> <li>Bloom Filter l\u00e0 g\u00ec?</li> <li>CI/CD l\u00e0 g\u00ec?</li> <li>L\u00e0m sao ch\u1ecdn database cho \u0111\u00fang?</li> <li>Ki\u1ebfn tr\u00fac Kubernetes</li> <li>Microservices l\u00e0 g\u00ec?</li> <li>V\u00ec sao ph\u1ecfng v\u1ea5n System Design l\u1ea1i quan tr\u1ecdng?</li> <li>H\u1ec7 th\u1ed1ng c\u1ee7a Stack Overflow c\u00f3 g\u00ec hay?</li> </ul> </li> <li>Ngu\u1ed3n kh\u00e1c<ul> <li>Chrome Developers Blog<ul> <li>B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 1)</li> <li>B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 2)</li> <li>B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 3)</li> <li>B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 4)</li> </ul> </li> <li>C\u00f4ng c\u1ee5 linh tinh<ul> <li>Vim Cheat Sheet</li> </ul> </li> </ul> </li> </ul>"},{"location":"ByteByteGo/api_gateway/api_gateway/","title":"API Gateway l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/api_gateway/api_gateway/#nguon","title":"Ngu\u1ed3n","text":"<p> What is API Gateway?</p>"},{"location":"ByteByteGo/api_gateway/api_gateway/#khai-niem","title":"Kh\u00e1i ni\u1ec7m","text":"<p>M\u1ed9t API gateway l\u00e0 m\u1ed9t \u0111i\u1ec3m truy c\u1eadp duy nh\u1ea5t c\u1ee7a c\u00e1c client v\u00e0o m\u1ed9t \u1ee9ng d\u1ee5ng. N\u00f3 n\u1eb1m gi\u1eefa client v\u00e0 m\u1ed9t t\u1eadp c\u00e1c backend service c\u1ee7a \u1ee9ng d\u1ee5ng. M\u1ed9t API gateway th\u01b0\u1eddng cung c\u1ea5p m\u1ed9t s\u1ed1 ch\u1ee9c n\u0103ng quan tr\u1ecdng nh\u01b0:</p> <ul> <li>X\u00e1c th\u1ef1c ng\u01b0\u1eddi d\u00f9ng v\u00e0 th\u1ef1c thi c\u00e1c ch\u00ednh s\u00e1ch b\u1ea3o m\u1eadt c\u1ee7a \u1ee9ng d\u1ee5ng.</li> <li>C\u00e2n b\u1eb1ng t\u1ea3i v\u00e0 ng\u1eaft m\u1ea1ch (circuit breaking).</li> <li>Bi\u00ean d\u1ecbch giao th\u1ee9c v\u00e0 kh\u00e1m ph\u00e1 d\u1ecbch v\u1ee5</li> <li>Gi\u00e1m s\u00e1t, logging, ph\u00e2n t\u00edch v\u00e0 thanh to\u00e1n.</li> <li>Caching.</li> </ul> <p></p>"},{"location":"ByteByteGo/api_gateway/api_gateway/#quy-trinh","title":"Quy tr\u00ecnh","text":"<p>Ta h\u00e3y xem x\u00e9t m\u1ed9t quy tr\u00ecnh th\u00f4ng th\u01b0\u1eddng c\u1ee7a m\u1ed9t request t\u1eeb client qua API gateway \u0111\u1ebfn backend service.</p> <p>B\u01b0\u1edbc 1: Client g\u1eedi m\u1ed9t request \u0111\u1ebfn API gateway. Request n\u00e0y th\u01b0\u1eddng qua giao th\u1ee9c HTTP. N\u00f3 c\u00f3 th\u1ec3 l\u00e0 REST, GraphQL, v.v...</p> <p>B\u01b0\u1edbc 2: API gateway x\u00e1c th\u1ef1c HTTP request.</p> <p>B\u01b0\u1edbc 3: API gateway ki\u1ec3m tra \u0111\u1ecba ch\u1ec9 IP c\u1ee7a client v\u00e0 c\u00e1c HTTP header v\u1edbi allow-list (whitelist) v\u00e0 deny-list (blacklist). N\u00f3 c\u0169ng c\u00f3 th\u1ec3 ki\u1ec3m tra rate limit \u0111\u01a1n gi\u1ea3n v\u1edbi m\u1ed9t s\u1ed1 thu\u1ed9c t\u00ednh nh\u1ea5t \u0111\u1ecbnh nh\u01b0 \u0111\u1ecba ch\u1ec9 IP v\u00e0 HTTP header. V\u00ed d\u1ee5, n\u00f3 c\u00f3 th\u1ec3 t\u1eeb ch\u1ed1i c\u00e1c request \u0111\u1ebfn t\u1eeb m\u1ed9t IP address v\u01b0\u1ee3t qu\u00e1 m\u1ed9t t\u1ec9 l\u1ec7 nh\u1ea5t \u0111\u1ecbnh.</p> <p>B\u01b0\u1edbc 4: API gateway \u0111\u01b0a request \u0111\u1ebfn m\u1ed9t b\u00ean x\u00e1c th\u1ef1c danh t\u00ednh \u0111\u1ec3 x\u00e1c th\u1ef1c v\u00e0 u\u1ef7 quy\u1ec1n cho request. API gateway nh\u1eadn m\u1ed9t phi\u00ean x\u00e1c th\u1ef1c t\u1eeb b\u00ean \u0111\u00f3 v\u1edbi ph\u1ea1m vi v\u1ec1 nh\u1eefng th\u1ee9 \u0111\u01b0\u1ee3c ph\u00e9p l\u00e0m c\u1ee7a client.</p> <p>B\u01b0\u1edbc 5: M\u1ed9t rate limit check ch\u1eb7t ch\u1ebd h\u01a1n \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 ki\u1ec3m tra phi\u00ean x\u00e1c th\u1ef1c ban n\u00e3y. N\u1ebfu v\u01b0\u1ee3t qu\u00e1 gi\u1edbi h\u1ea1n, request s\u1ebd b\u1ecb t\u1eeb ch\u1ed1i.</p> <p>B\u01b0\u1edbc 6 v\u00e0 7: V\u1edbi s\u1ef1 gi\u00fap \u0111\u1ee1 c\u1ee7a th\u00e0nh ph\u1ea7n kh\u00e1m ph\u00e1 d\u1ecbch v\u1ee5 (service discovery component), API gateway \u0111\u1ecbnh v\u1ecb d\u1ecbch v\u1ee5 ph\u00f9 h\u1ee3p \u1edf backend \u0111\u1ec3 x\u1eed l\u00fd request b\u1eb1ng c\u00e1ch so \u0111\u01b0\u1eddng d\u1eabn.</p> <p></p> <p>B\u01b0\u1edbc 8: API gateway chuy\u1ec3n \u0111\u1ed5i request th\u00e0nh m\u1ed9t giao th\u1ee9c ph\u00f9 h\u1ee3p v\u00e0 g\u1eedi request m\u1edbi sang backend service. M\u1ed9t v\u00ed d\u1ee5 l\u00e0 gRPC. </p> <p>Khi response tr\u1edf l\u1ea1i t\u1eeb backend service, API gateway s\u1ebd chuy\u1ec3n \u0111\u1ed5i response l\u1ea1i th\u00e0nh giao th\u1ee9c c\u0169 (tr\u01b0\u1edbc b\u01b0\u1edbc 8) v\u00e0 tr\u1ea3 l\u1ea1i response n\u00e0y cho client.</p> <p>M\u1ed9t API gateway chu\u1ea9n c\u0169ng cung c\u1ea5p c\u00e1c d\u1ecbch v\u1ee5 quan tr\u1ecdng kh\u00e1c. V\u00ed d\u1ee5, m\u1ed9t API gateway s\u1ebd theo d\u00f5i l\u1ed7i v\u00e0 cung c\u1ea5p ch\u1ee9c n\u0103ng ng\u1eaft m\u1ea1ch \u0111\u1ec3 b\u00e0o v\u1ec7 service kh\u1ecfi b\u1ecb qu\u00e1 t\u1ea3i. API gateway c\u0169ng c\u1ea7n cung c\u1ea5p logging, gi\u00e1m s\u00e1t, v\u00e0 d\u1ecbch v\u1ee5 ph\u00e2n t\u00edch \u0111\u1ec3 ph\u1ee5c v\u1ee5 m\u1ee5c \u0111\u00edch theo d\u00f5i.</p> <p></p> <p>M\u1ed9t API gateway l\u00e0 m\u1ed9t y\u1ebfu t\u1ed1 quan tr\u1ecdng trong c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng. N\u00f3 n\u00ean \u0111\u01b0\u1ee3c tri\u1ec3n khai cho nhi\u1ec1u khu v\u1ef1c \u0111\u1ec3 c\u1ea3i thi\u1ec7n t\u00ednh kh\u1ea3 d\u1ee5ng. V\u1edbi nhi\u1ec1u d\u1ecbch v\u1ee5 \u0111\u00e1m m\u00e2y t\u1eeb c\u00e1c nh\u00e0 cung c\u1ea5p, API gateway \u0111\u01b0\u1ee3c tri\u1ec3n khai tr\u00ean to\u00e0n th\u1ebf gi\u1edbi \u0111\u1ec3 g\u1ea7n v\u1edbi kh\u00e1ch h\u00e0ng h\u01a1n.</p> <p></p> <p></p>"},{"location":"ByteByteGo/bloom_filter/bloom_filter/","title":"Bloom Filter l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/bloom_filter/bloom_filter/#nguon","title":"Ngu\u1ed3n","text":"<p> Bloom Filters | Algorithms You Should Know #2 | Real-world Examples</p>"},{"location":"ByteByteGo/bloom_filter/bloom_filter/#mo-au","title":"M\u1edf \u0111\u1ea7u","text":"<p>Bloom Filter (b\u1ed9 l\u1ecdc n\u1edf hoa) l\u00e0 m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u c\u00f3 nhi\u1ec1u \u1ee9ng d\u1ee5ng th\u1ef1c t\u1ebf. Ta c\u00f3 th\u1ec3 th\u1ea5y n\u00f3 trong c\u00e1c router m\u1ea1ng, database v\u00e0 tr\u00ecnh duy\u1ec7t web, v\u00e2n v\u00e2n. Ta \u0111\u00e3 t\u1eebng n\u00f3i v\u1ec1 Bloom Filter trong m\u1ed9t b\u00e0i vi\u1ebft v\u1ec1 c\u00e2y LSM. Ta c\u00f9ng xem n\u00f3 l\u00e0 g\u00ec qua b\u00e0i vi\u1ebft sau nh\u00e9.</p>"},{"location":"ByteByteGo/bloom_filter/bloom_filter/#bloom-filter-la-gi_1","title":"Bloom Filter l\u00e0 g\u00ec?","text":"<p>Bloom filter l\u00e0 m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u x\u00e1c su\u1ea5t, hi\u1ec7u qu\u1ea3 v\u1ec1 m\u1eb7t kh\u00f4ng gian, \u0111\u00e3 ra \u0111\u1eddi \u0111\u01b0\u1ee3c t\u1ea7m 50 n\u0103m. N\u00f3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 tr\u1ea3 l\u1eddi cho c\u00e2u h\u1ecfi: ph\u1ea7n t\u1eed n\u00e0y c\u00f3 \u1edf trong t\u1eadp h\u1ee3p kh\u00f4ng? Bloom filter s\u1ebd tr\u1ea3 l\u1eddi \"ch\u1eafc ch\u1eafn l\u00e0 kh\u00f4ng\" ho\u1eb7c \"c\u00f3 l\u1ebd l\u00e0 c\u00f3\". N\u00f3i c\u00e1ch kh\u00e1c, ta c\u00f3 th\u1ec3 g\u1eb7p tr\u01b0\u1eddng h\u1ee3p kh\u1eb3ng \u0111\u1ecbnh sai, ngh\u0129a l\u00e0 ph\u1ea7n t\u1eed kh\u00f4ng \u1edf trong t\u1eadp h\u1ee3p nh\u01b0ng bloom filter l\u1ea1i cho k\u1ebft qu\u1ea3 l\u00e0 c\u00f3. Ng\u01b0\u1ee3c l\u1ea1i, ph\u1ee7 \u0111\u1ecbnh sai kh\u00f4ng th\u1ec3 x\u1ea3y ra, ngh\u0129a l\u00e0 ph\u1ea7n t\u1eed c\u00f3 trong t\u1eadp h\u1ee3p nh\u01b0ng bloom filter cho ra k\u1ebft qu\u1ea3 l\u00e0 kh\u00f4ng.</p> <p></p> <p>Ph\u1ea7n \"c\u00f3 l\u1ebd l\u00e0 c\u00f3\" ch\u00ednh l\u00e0 \u0111i\u1ec1u l\u00e0m cho bloom filter c\u00f3 t\u00ednh x\u00e1c su\u1ea5t. C\u0169ng nh\u01b0 nhi\u1ec1u th\u1ee9 kh\u00e1c trong c\u00f4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m, \u0111\u00e2y l\u00e0 m\u1ed9t s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i. S\u1ef1 \u0111\u00e1nh \u0111\u1ed5i \u1edf \u0111\u00e2y l\u00e0: \u0111\u00f4i khi c\u00e2u tr\u1ea3 l\u1eddi \"c\u00f3\" c\u00f3 th\u1ec3 sai v\u00e0i l\u1ea7n, nh\u01b0ng bloom filter ti\u00eau t\u1ed1n r\u1ea5t \u00edt b\u1ed9 nh\u1edb, so v\u1edbi c\u00e1c c\u1ea5u tr\u00fac d\u1eef li\u1ec7u c\u00f3 \u1ee9ng d\u1ee5ng t\u01b0\u01a1ng t\u1ef1, ch\u1eb3ng h\u1ea1n nh\u01b0 hash table, th\u1ee9 s\u1ebd lu\u00f4n cho k\u1ebft qu\u1ea3 \u0111\u00fang. N\u1ebfu m\u1ed9t use case ch\u1ea5p nh\u1eadn m\u1ed9t s\u1ed1 c\u00e2u tr\u1ea3 l\u1eddi \"c\u00f3\" sai, nh\u01b0ng kh\u00f4ng ch\u1ea5p nh\u1eadn c\u00e2u tr\u1ea3 l\u1eddi \"kh\u00f4ng\" sai, bloom filter s\u1ebd l\u00e0 m\u1ed9t gi\u1ea3i ph\u00e1p tuy\u1ec7t v\u1eddi. M\u1ed9t \u0111i\u1ec3m quan tr\u1ecdng n\u1eefa l\u00e0, ta kh\u00f4ng th\u1ec3 xo\u00e1 ph\u1ea7n t\u1eed ra kh\u1ecfi bloom filter.</p> <p></p>"},{"location":"ByteByteGo/bloom_filter/bloom_filter/#bloom-filter-uoc-ung-dung-nhu-the-nao","title":"Bloom filter \u0111\u01b0\u1ee3c \u1ee9ng d\u1ee5ng nh\u01b0 th\u1ebf n\u00e0o?","text":"<p>Nhi\u1ec1u database NoSQL s\u1eed d\u1ee5ng c\u00e1c bloom filter \u0111\u1ec3 gi\u1ea3m vi\u1ec7c \u0111\u1ecdc \u0111\u0129a v\u1edbi c\u00e1c key kh\u00f4ng t\u1ed3n t\u1ea1i. V\u1edbi m\u1ed9t database d\u1ef1a v\u00e0o c\u00e2y LSM, vi\u1ec7c t\u00ecm m\u1ed9t key kh\u00f4ng c\u00f3 trong database c\u1ea7n ph\u1ea3i tra c\u1ee9u qua nhi\u1ec1u file v\u00e0 r\u1ea5t t\u1ed1n k\u00e9m.</p> <p></p> <p>C\u00e1c CDN nh\u01b0 Akamai d\u00f9ng bloom filter \u0111\u1ec3 tr\u00e1nh cache c\u00e1c \"one-hit-wonder\". \u0110\u00e2y l\u00e0 c\u00e1c trang web ch\u1ec9 \u0111\u01b0\u1ee3c request m\u1ed9t l\u1ea7n. Theo Akamai, 75% s\u1ed1 trang l\u00e0 \"one-hit-wonder\". S\u1eed d\u1ee5ng bloom filter \u0111\u1ec3 theo d\u00f5i t\u1ea5t c\u1ea3 c\u00e1c URL \u0111\u01b0\u1ee3c xem v\u00e0 ch\u1ec9 cache c\u00e1c trang trong l\u1ea7n request th\u1ee9 hai \u0111\u00e3 gi\u00fap gi\u1ea3m \u0111\u00e1ng k\u1ec3 vi\u1ec7c cache v\u00e0 t\u0103ng t\u1ec9 l\u1ec7 truy c\u1eadp cache.</p> <p></p> <p>C\u00e1c tr\u00ecnh duy\u1ec7t nh\u01b0 Chrome t\u1eebng d\u00f9ng bloom filter \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh c\u00e1c URL \u0111\u1ed9c h\u1ea1i. B\u1ea5t k\u1ef3 URL n\u00e0o tr\u01b0\u1edbc h\u1ebft c\u0169ng ph\u1ea3i \u0111\u01b0\u1ee3c ki\u1ec3m tra trong bloom filter. N\u00f3 ch\u1ec9 th\u1ef1c hi\u1ec7n ki\u1ec3m tra k\u1ef9 URL sau khi bloom filter tr\u1ea3 v\u1ec1 \"c\u00f3 th\u1ec3 l\u00e0 \u0111\u1ed9c h\u1ea1i\". Tuy nhi\u00ean, s\u1ed1 l\u01b0\u1ee3ng URL \u0111\u1ed9c h\u1ea1i t\u0103ng l\u00ean h\u00e0ng tri\u1ec7u n\u00ean bloom filter kh\u00f4ng c\u00f2n \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng n\u1eefa, m\u00e0 thay v\u00e0o \u0111\u00f3 l\u00e0 m\u1ed9t gi\u1ea3i ph\u00e1p hi\u1ec3u qu\u1ea3 nh\u01b0ng ph\u1ee9c t\u1ea1p h\u01a1n.</p> <p></p> <p>T\u01b0\u01a1ng t\u1ef1 v\u1eady, m\u1ed9t s\u1ed1 tr\u00ecnh x\u00e1c th\u1ef1c m\u1eadt kh\u1ea9u s\u1ebd d\u00f9ng bloom filter \u0111\u1ec3 tr\u00e1nh cho ng\u01b0\u1eddi d\u00f9ng d\u00f9ng c\u00e1c m\u1eadt kh\u1ea9u y\u1ebfu. \u0110\u00f4i khi m\u1ed9t m\u1eadt kh\u1ea9u m\u1ea1nh s\u1ebd kh\u00f4ng qua \u0111\u01b0\u1ee3c do kh\u1eb3ng \u0111\u1ecbnh sai, nh\u01b0ng trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y, n\u00f3 ch\u1ec9 c\u00f3 th\u1ec3 h\u1ecfi ng\u01b0\u1eddi d\u00f9ng cung c\u1ea5p m\u1eadt kh\u1ea9u kh\u00e1c.</p> <p>Tr\u00ean \u0111\u00e2y ch\u1ec9 l\u00e0 m\u1ed9t s\u1ed1 v\u00ed d\u1ee5 ph\u1ed5 bi\u1ebfn. Bloom filter c\u00f2n r\u1ea5t nhi\u1ec1u \u1ee9ng d\u1ee5ng kh\u00e1c n\u1eefa.</p>"},{"location":"ByteByteGo/bloom_filter/bloom_filter/#bloom-filter-hoat-ong-nhu-the-nao","title":"Bloom filter ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o?","text":"<p>M\u1ed9t th\u00e0nh ph\u1ea7n quan tr\u1ecdng c\u1ee7a m\u1ed9t bloom filter ngon l\u00e0nh l\u00e0 c\u00e1c h\u00e0m hash t\u1ed1t. C\u00e1c h\u00e0m hash n\u00e0y c\u1ea7n ph\u1ea3i nhanh v\u00e0 ch\u00fang ph\u1ea3i cho ra c\u00e1c output \u0111\u01b0\u1ee3c ph\u00e2n ph\u1ed1i \u0111\u1ed3ng \u0111\u1ec1u v\u00e0 ng\u1eabu nhi\u00ean. Tr\u00f9ng l\u1eb7p c\u0169ng \u0111\u01b0\u1ee3c, mi\u1ec5n l\u00e0 hi\u1ebfm khi x\u1ea3y ra. M\u1ed9t bloom filter l\u00e0 m\u1ed9t t\u1eadp h\u1ee3p l\u1edbn, v\u1edbi m\u1ed7i ph\u1ea7n t\u1eed ch\u1ee9a m\u1ed9t bit, v\u00e0 ban \u0111\u1ea7u bit \u0111\u00f3 l\u00e0 0.</p> <p>Gi\u1edd t\u01b0\u1edfng t\u01b0\u1ee3ng ta \u0111ang l\u01b0u c\u00e1c m\u00f3n \u0103n nh\u00e9. V\u1edbi v\u00ed d\u1ee5 n\u00e0y, ta s\u1ebd d\u00f9ng m\u1ed9t bloom filter v\u1edbi 10 ph\u1ea7n t\u1eed \u0111\u00e1nh s\u1ed1 t\u1eeb 0 \u0111\u1ebfn 9, v\u00e0 ta s\u1ebd d\u00f9ng 3 h\u00e0m hash. </p> <p>Th\u00eam <code>ribeye</code> v\u00e0o bloom filter nh\u00e9. C\u00e1c h\u00e0m hash s\u1ebd tr\u1ea3 v\u1ec1 l\u1ea7n l\u01b0\u1ee3t c\u00e1c s\u1ed1 1, 3 v\u00e0 4. C\u00e1c bit t\u01b0\u01a1ng \u1ee9ng s\u1ebd \u0111\u01b0\u1ee3c \u0111\u00e1nh d\u1ea5u b\u1eb1ng 1, d\u0129 nhi\u00ean l\u00e0 trong th\u1eddi gian h\u1eb1ng s\u1ed1. </p> <p></p> <p>Ti\u1ebfp theo, cho <code>potato</code> v\u00e0o bloom filter. C\u00e1c h\u00e0m hash s\u1ebd tr\u1ea3 v\u1ec1 l\u1ea7n l\u01b0\u1ee3t c\u00e1c s\u1ed1 0, 4 v\u00e0 8. \u0110\u00e1nh d\u1ea5u 1 v\u00e0o c\u00e1c bit \u0111\u00f3. </p> <p></p> <p>Gi\u1edd ta c\u1ea7n ki\u1ec3m tra xem <code>ribeye</code> c\u00f3 trong \u0111\u00f3 kh\u00f4ng. V\u00ec c\u00f9ng input s\u1ebd cho ra c\u00f9ng output, <code>ribeye</code> s\u1ebd \u0111\u01b0\u1ee3c hash th\u00e0nh 1, 3, 4. Ta ki\u1ec3m tra c\u00e1c ph\u1ea7n t\u1eed t\u01b0\u01a1ng \u1ee9ng, th\u1ea5y ch\u00fang \u0111\u1ec1u c\u00f3 bit b\u1eb1ng 1. N\u00ean bloom filter s\u1ebd tr\u1ea3 v\u1ec1 l\u00e0 \"c\u00f3 l\u1ebd l\u00e0 c\u00f3\". Trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y, \u0111\u00fang l\u00e0 c\u00f3.</p> <p></p> <p>Gi\u1edd ki\u1ec3m tra xem <code>pork chop</code> c\u00f3 trong \u0111\u00f3 kh\u00f4ng. C\u00e1c h\u00e0m hash s\u1ebd tr\u1ea3 v\u1ec1 0, 5, 8. D\u00f9 ph\u1ea7n t\u1eed th\u1ee9 0 v\u00e0 8 ch\u1ee9a 1, nh\u01b0ng ph\u1ea7n t\u1eed 5 l\u1ea1i ch\u1ee9a 0. V\u00ec v\u1eady n\u00ean bloom filter tr\u1ea3 v\u1ec1 \"ch\u1eafc ch\u1eafn l\u00e0 kh\u00f4ng\".</p> <p></p> <p>V\u1edbi <code>lemon</code> th\u00ec sao? C\u00e1c h\u00e0m hash tr\u1ea3 v\u1ec1 1, 4, 8. Do c\u00e1c ph\u1ea7n t\u1eed t\u01b0\u01a1ng \u1ee9ng \u0111\u1ec1u ch\u1ee9a bit 1, bloom filter s\u1ebd tr\u1ea3 v\u1ec1 \"c\u00f3 l\u1ebd l\u00e0 c\u00f3\". \u0110\u00e2y l\u00e0 m\u1ed9t v\u00ed d\u1ee5 v\u1ec1 kh\u1eb3ng \u0111\u1ecbnh sai, v\u00ec ta ban \u0111\u1ea7u kh\u00f4ng cho <code>lemon</code> v\u00e0o bloom filter.</p> <p></p> <p>Trong th\u1ef1c t\u1ebf, k\u00edch th\u01b0\u1edbc c\u1ee7a bloom filter s\u1ebd l\u1edbn h\u01a1n nhi\u1ec1u so v\u1edbi v\u00ed d\u1ee5 n\u00e0y. Ta c\u00f3 th\u1ec3 ki\u1ec3m so\u00e1t t\u1ea7n su\u1ea5t th\u1ea5y kh\u1eb3ng \u0111\u1ecbnh sai b\u1eb1ng c\u00e1ch ch\u1ecdn ch\u00ednh x\u00e1c k\u00edch th\u01b0\u1edbc cho bloom filter d\u1ef1a v\u00e0o k\u1ef3 v\u1ecdng s\u1ed1 entry trong \u0111\u00f3. \u0110\u00e2y l\u00e0 s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i gi\u1eefa kh\u00f4ng gian b\u1ed9 nh\u1edb v\u00e0 s\u1ef1 ch\u00ednh x\u00e1c.</p>"},{"location":"ByteByteGo/cap_theorem/cap_theorem/","title":"\u0110\u1ecbnh l\u00fd CAP - CAP theorem","text":""},{"location":"ByteByteGo/cap_theorem/cap_theorem/#nguon","title":"Ngu\u1ed3n","text":"<p> CAP Theorem Simplified | System Design Fundamentals</p>"},{"location":"ByteByteGo/cap_theorem/cap_theorem/#khai-niem","title":"Kh\u00e1i ni\u1ec7m","text":"<p>\u0110\u1ecbnh l\u00fd CAP (CAP Theorem) l\u00e0 m\u1ed9t kh\u00e1i ni\u1ec7m trong khoa h\u1ecdc m\u00e1y t\u00ednh gi\u1ea3i th\u00edch s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i gi\u1eefa t\u00ednh nh\u1ea5t qu\u00e1n (consistency - C), t\u00ednh kh\u1ea3 d\u1ee5ng (availability - A) v\u00e0 s\u1ee9c ch\u1ecbu \u0111\u1ef1ng s\u1ef1 ph\u00e2n v\u00f9ng trong m\u1ea1ng (partition tolerance - P) trong c\u00e1c h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n.</p> <p></p> <p>T\u00ednh nh\u1ea5t qu\u00e1n (consistency - C) l\u00e0 thu\u1ed9c t\u00ednh c\u1ee7a m\u1ed9t h\u1ec7 th\u1ed1ng trong \u0111\u00f3 t\u1ea5t c\u1ea3 c\u00e1c node c\u00f3 c\u00f9ng m\u1ed9t k\u1ebft qu\u1ea3 khi \u0111\u1ecdc d\u1eef li\u1ec7u. \u0110i\u1ec1u \u0111\u00f3 c\u00f3 ngh\u0129a l\u00e0 t\u1ea5t c\u1ea3 client \u0111\u1ec1u nh\u00ecn th\u1ea5y c\u00f9ng m\u1ed9t d\u1eef li\u1ec7u trong c\u00f9ng th\u1eddi \u0111i\u1ec3m, b\u1ea5t k\u1ec3 vi\u1ec7c client k\u1ebft n\u1ed1i v\u1edbi node n\u00e0o.</p> <p>T\u00ednh kh\u1ea3 d\u1ee5ng (availability - A) l\u00e0 kh\u1ea3 n\u0103ng c\u1ee7a h\u1ec7 th\u1ed1ng \u0111\u1ec3 lu\u00f4n lu\u00f4n \u0111\u00e1p \u1ee9ng c\u00e1c request c\u1ee7a ng\u01b0\u1eddi d\u00f9ng.</p> <p>S\u1ee9c ch\u1ecbu \u0111\u1ef1ng ph\u00e2n v\u00f9ng trong m\u1ea1ng (partition tolerance - P) l\u00e0 kh\u1ea3 n\u0103ng h\u1ec7 th\u1ed1ng ti\u1ebfp t\u1ee5c ho\u1ea1t \u0111\u1ed9ng ngay c\u1ea3 khi c\u00f3 m\u1ed9t ph\u00e2n v\u00f9ng m\u1ea1ng. </p>"},{"location":"ByteByteGo/cap_theorem/cap_theorem/#phan-vung-mang","title":"Ph\u00e2n v\u00f9ng m\u1ea1ng","text":"<p>Nh\u01b0ng ph\u00e2n v\u00f9ng m\u1ea1ng (network partition) l\u00e0 g\u00ec? Ph\u00e2n v\u00f9ng m\u1ea1ng x\u1ea3y ra khi c\u00e1c node trong h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n kh\u00f4ng th\u1ec3 giao ti\u1ebfp v\u1edbi nhau do l\u1ed7i m\u1ea1ng. </p> <p>Khi c\u00f3 ph\u00e2n v\u00f9ng m\u1ea1ng, h\u1ec7 th\u1ed1ng ph\u1ea3i ch\u1ecdn gi\u1eefa t\u00ednh nh\u1ea5t qu\u00e1n v\u00e0 t\u00ednh kh\u1ea3 d\u1ee5ng. </p> <p>N\u1ebfu h\u1ec7 th\u1ed1ng \u01b0u ti\u00ean t\u00ednh nh\u1ea5t qu\u00e1n, n\u00f3 c\u00f3 th\u1ec3 kh\u00f4ng kh\u1ea3 d\u1ee5ng cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. N\u1ebfu h\u1ec7 th\u1ed1ng \u01b0u ti\u00ean t\u00ednh kh\u1ea3 d\u1ee5ng, n\u00f3 c\u00f3 th\u1ec3 cho ph\u00e9p c\u1eadp nh\u1eadt d\u1eef li\u1ec7u. Nh\u01b0ng s\u1ef1 kh\u00f4ng th\u1ed1ng nh\u1ea5t v\u1ec1 m\u1eb7t d\u1eef li\u1ec7u c\u00f3 th\u1ec3 x\u1ea3y ra cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft.</p> <p></p> <p>C\u00f9ng xem m\u1ed9t v\u00ed d\u1ee5 nh\u00e9.</p>"},{"location":"ByteByteGo/cap_theorem/cap_theorem/#vi-du","title":"V\u00ed d\u1ee5","text":"<p>Gi\u1ea3 s\u1eed ta c\u00f3 m\u1ed9t ng\u00e2n h\u00e0ng nh\u1ecf v\u1edbi hai m\u00e1y ATM \u0111\u01b0\u1ee3c k\u1ebft n\u1ed1i qua m\u1ea1ng. C\u00e1c m\u00e1y ATM n\u00e0y h\u1ed7 tr\u1ee3 3 thao t\u00e1c: g\u1eedi ti\u1ec1n, r\u00fat ti\u1ec1n v\u00e0 ki\u1ec3m tra s\u1ed1 d\u01b0. B\u1ea5t k\u1ec3 \u0111i\u1ec1u g\u00ec x\u1ea3y ra, s\u1ed1 d\u01b0 s\u1ebd kh\u00f4ng bao gi\u1edd b\u1ecb \u00e2m. Kh\u00f4ng c\u00f3 c\u01a1 s\u1edf d\u1eef li\u1ec7u trung t\u00e2m \u0111\u1ec3 l\u01b0u s\u1ed1 d\u01b0 t\u00e0i kho\u1ea3n, n\u00f3 \u0111\u01b0\u1ee3c l\u01b0u tr\u00ean c\u1ea3 hai m\u00e1y ATM.</p> <p>Khi m\u1ed9t kh\u00e1ch h\u00e0ng d\u00f9ng m\u00e1y ATM, s\u1ed1 d\u01b0 s\u1ebd \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt tr\u00ean c\u1ea3 hai m\u00e1y ATM qua m\u1ea1ng. \u0110i\u1ec1u n\u00e0y \u0111\u1ea3m b\u1ea3o r\u1eb1ng c\u00e1c m\u00e1y ATM c\u00f3 c\u00f9ng k\u1ebft qu\u1ea3 khi ki\u1ec3m tra s\u1ed1 d\u01b0 t\u00e0i kho\u1ea3n.</p> <p>N\u1ebfu c\u00f3 m\u1ed9t ph\u00e2n v\u00f9ng m\u1ea1ng v\u00e0 c\u00e1c m\u00e1y ATM kh\u00f4ng th\u1ec3 giao ti\u1ebfp v\u1edbi nhau, th\u00ec h\u1ec7 th\u1ed1ng ph\u1ea3i ch\u1ecdn gi\u1eefa t\u00ednh nh\u1ea5t qu\u00e1n v\u00e0 t\u00ednh kh\u1ea3 d\u1ee5ng.</p> <p>N\u1ebfu ng\u00e2n h\u00e0ng \u01b0u ti\u00ean t\u00ednh nh\u1ea5t qu\u00e1n,\u00a0m\u00e1y ATM c\u00f3 th\u1ec3 t\u1eeb ch\u1ed1i x\u1eed l\u00fd ti\u1ec1n g\u1eedi ho\u1eb7c\u00a0r\u00fat ti\u1ec1n cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. \u0110i\u1ec1u n\u00e0y \u0111\u1ea3m b\u1ea3o r\u1eb1ng s\u1ed1 d\u01b0 v\u1eabn nh\u1ea5t qu\u00e1n nh\u01b0ng h\u1ec7 th\u1ed1ng kh\u00f4ng kh\u1ea3 d\u1ee5ng v\u1edbi kh\u00e1ch h\u00e0ng.</p> <p></p> <p>N\u1ebfu ng\u00e2n h\u00e0ng \u01b0u ti\u00ean t\u00ednh kh\u1ea3 d\u1ee5ng, th\u00ec m\u00e1y ATM\u00a0c\u00f3 th\u1ec3 cho ph\u00e9p g\u1eedi v\u00e0 r\u00fat ti\u1ec1n,\u00a0nh\u01b0ng s\u1ed1 d\u01b0 c\u00f3 th\u1ec3 kh\u00f4ng \u1ed5n \u0111\u1ecbnh\u00a0cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft.</p> <p></p> <p>Khi c\u00f3 ph\u00e2n v\u00f9ng m\u1ea1ng, kh\u00e1ch h\u00e0ng\u00a0c\u00f3 th\u1ec3 r\u00fat to\u00e0n b\u1ed9 s\u1ed1 d\u01b0 t\u1eeb c\u1ea3 hai m\u00e1y ATM. Khi ph\u00e2n v\u00f9ng m\u1ea1ng \u0111\u01b0\u1ee3c kh\u1eafc ph\u1ee5c,\u00a0s\u1ef1 kh\u00f4ng nh\u1ea5t qu\u00e1n \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft v\u00e0 b\u00e2y gi\u1edd\u00a0s\u1ed1 d\u01b0 l\u00e0 s\u1ed1 \u00e2m. \u0110\u00f3 l\u00e0 \u0111i\u1ec1u kh\u00f4ng \u0111\u01b0\u1ee3c ph\u00e9p x\u1ea3y ra.</p> <p></p> <p>H\u00e3y c\u00f9ng xem m\u1ed9t v\u00ed d\u1ee5 kh\u00e1c v\u00e0 xem c\u00e1ch m\u1ed9t m\u1ea1ng x\u00e3 h\u1ed9i c\u00f3 th\u1ec3 \u00e1p d\u1ee5ng \u0111\u1ecbnh l\u00fd CAP</p> <p>Trong khi m\u1ea1ng b\u1ecb ph\u00e2n v\u00f9ng, n\u1ebfu hai ng\u01b0\u1eddi d\u00f9ng c\u00f9ng b\u00ecnh lu\u1eadn m\u1ed9t b\u00e0i \u0111\u0103ng c\u00f9ng l\u00fac, b\u00ecnh lu\u1eadn c\u1ee7a m\u1ed9t ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 kh\u00f4ng \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb \u0111\u1ebfn ng\u01b0\u1eddi d\u00f9ng kia cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. </p> <p></p> <p>Ngo\u00e0i ra, n\u1ebfu m\u1ea1ng x\u00e3 h\u1ed9i \u01b0u ti\u00ean t\u00ednh nh\u1ea5t qu\u00e1n, th\u00ec t\u00ednh n\u0103ng comment c\u00f3 th\u1ec3 kh\u00f4ng kh\u1ea3 d\u1ee5ng cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft. \u0110\u1ed1i v\u1edbi m\u1ea1ng x\u00e3 h\u1ed9i, vi\u1ec7c \u01b0u ti\u00ean t\u00ednh kh\u1ea3 d\u1ee5ng th\u01b0\u1eddng \u0111\u01b0\u1ee3c ch\u1ea5p nh\u1eadn v\u1edbi c\u00e1i gi\u00e1 l\u00e0 ng\u01b0\u1eddi d\u00f9ng \u0111\u00f4i khi th\u1ea5y c\u00e1c data h\u01a1i kh\u00e1c nhau.</p> <p></p> <p>\u0110\u1ecbnh l\u00fd CAP nghe c\u00f3 v\u1ebb r\u1ea5t \u0111\u01a1n gi\u1ea3n, nh\u01b0ng th\u1ebf gi\u1edbi th\u1ef1c l\u1ea1i r\u1ea5t h\u1ed7n lo\u1ea1n.</p> <p>C\u0169ng gi\u1ed1ng nh\u01b0 nhi\u1ec1u th\u1ee9 trong c\u00f4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m, t\u1ea5t c\u1ea3 \u0111\u1ec1u li\u00ean quan \u0111\u1ebfn s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i v\u00e0 c\u00e1c l\u1ef1a ch\u1ecdn kh\u00f4ng ph\u1ea3i l\u00fac n\u00e0o c\u0169ng r\u00e0nh r\u00e0nh ra \u0111\u00f3. \u0110\u1ecbnh l\u00fd CPA gi\u1ea3 \u0111\u1ecbnh 100% t\u00ednh kh\u1ea3 d\u1ee5ng ho\u1eb7c 100% t\u00ednh nh\u1ea5t qu\u00e1n. Trong th\u1ebf gi\u1edbi th\u1ef1c, c\u00f3 c\u00e1c m\u1ee9c \u0111\u1ed9 nh\u1ea5t qu\u00e1n v\u00e0 kh\u1ea3 d\u1ee5ng m\u00e0 nh\u1eefng ng\u01b0\u1eddi thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n ph\u1ea3i xem x\u00e9t c\u1ea9n th\u1eadn. \u0110\u00e2y l\u00e0 l\u00fac m\u00e0 m\u00f4 h\u00ecnh \u0111\u01a1n gi\u1ea3n c\u1ee7a \u0111\u1ecbnh l\u00fd CAP c\u00f3 th\u1ec3 g\u00e2y hi\u1ec3u nh\u1ea7m.</p> <p>Quay l\u1ea1i v\u00ed d\u1ee5 ng\u00e2n h\u00e0ng, trong qu\u00e1 tr\u00ecnh ph\u00e2n v\u00f9ng m\u1ea1ng, m\u00e1y ATM ch\u1ec9 c\u00f3 th\u1ec3 cho ph\u00e9p x\u1eed l\u00fd c\u00e1c y\u00eau c\u1ea7u v\u1ec1 s\u1ed1 d\u01b0, trong khi c\u00e1c kho\u1ea3n ti\u1ec1n g\u1eedi ho\u1eb7c r\u00fat ti\u1ec1n b\u1ecb ch\u1eb7n. </p> <p></p> <p>Ngo\u00e0i ra, ng\u00e2n h\u00e0ng c\u00f3 th\u1ec3 tri\u1ec3n khai m\u1ed9t ph\u01b0\u01a1ng ph\u00e1p k\u1ebft h\u1ee3p. V\u00ed d\u1ee5, ATM c\u00f3 th\u1ec3 cho ph\u00e9p x\u1eed l\u00fd c\u00e1c y\u00eau c\u1ea7u v\u1ec1 s\u1ed1 d\u01b0 v\u00e0 c\u00e1c kho\u1ea3n ti\u1ec1n nh\u1ecf khi m\u1ea1ng \u0111ang b\u1ecb ph\u1ea7n v\u00f9ng, nh\u01b0ng ch\u1eb7n c\u00e1c kho\u1ea3n r\u00fat ti\u1ec1n ho\u1eb7c g\u1eedi ti\u1ec1n l\u1edbn cho \u0111\u1ebfn khi ph\u00e2n v\u00f9ng \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft.</p> <p></p> <p>C\u1ea7n l\u01b0u \u00fd l\u00e0 trong th\u1ef1c t\u1ebf, vi\u1ec7c \u0111\u1ed1i so\u00e1t sau ph\u00e2n v\u00f9ng m\u1ea1ng c\u00f3 th\u1ec3 r\u1ea5t l\u00e0 l\u1ed9n x\u1ed9n. V\u1edbi v\u00ed d\u1ee5 ng\u00e2n h\u00e0ng \u1edf tr\u00ean th\u00ec vi\u1ec7c \u0111\u1ed1i so\u00e1t l\u00e0 t\u01b0\u01a1ng \u0111\u1ed1i \u0111\u01a1n gi\u1ea3n. Trong th\u1ef1c t\u1ebf, c\u00e1c c\u1ea5u tr\u00fac d\u1eef li\u1ec7u li\u00ean quan c\u00f3 th\u1ec3 ph\u1ee9c t\u1ea1p v\u00e0 kh\u00f3 dung ho\u00e0.</p> <p></p> <p>M\u1ed9t v\u00ed d\u1ee5 \u0111i\u1ec3n h\u00ecnh v\u1ec1 c\u1ea5u tr\u00fac d\u1eef li\u1ec7u\u00a0ph\u1ee9c t\u1ea1p l\u00e0 Google Docs. Gi\u1ea3i quy\u1ebft c\u00e1c b\u1ea3n c\u1eadp nh\u1eadt xung \u0111\u1ed9t c\u00f3 th\u1ec3 r\u1ea5t ph\u1ee9c t\u1ea1p.</p> <p></p>"},{"location":"ByteByteGo/cap_theorem/cap_theorem/#ket-luan","title":"K\u1ebft lu\u1eadn","text":"<p>V\u1eady \u0111\u1ecbnh l\u00fd CAP c\u00f3 h\u1eefu \u00edch kh\u00f4ng? C\u00f3, \u0111\u00f3 l\u00e0 m\u1ed9t c\u00f4ng c\u1ee5 h\u1eefu \u00edch \u0111\u1ec3 gi\u00fap ta c\u00e2n nh\u1eafc\u00a0nh\u1eefng \u0111\u00e1nh \u0111\u1ed5i c\u1ea7n l\u01b0u \u00fd\u00a0khi c\u00f3 m\u1ed9t ph\u00e2n v\u00f9ng m\u1ea1ng. C\u00f3 \u0111i\u1ec1u, n\u00f3 kh\u00f4ng cung c\u1ea5p m\u1ed9t b\u1ee9c tranh to\u00e0n c\u1ea3nh v\u1ec1 s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i c\u1ea7n xem x\u00e9t khi thi\u1ebft k\u1ebf m\u1ed9t h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n to\u00e0n di\u1ec7n.</p> <p>C\u1ee5 th\u1ec3, khi h\u1ec7 th\u1ed1ng ho\u1ea1t \u0111\u1ed9ng\u00a0b\u00ecnh th\u01b0\u1eddng m\u00e0 kh\u00f4ng c\u00f3 b\u1ea5t k\u1ef3 s\u1ef1 c\u1ed1 m\u1ea1ng n\u00e0o (h\u1ea7u h\u1ebft th\u1eddi gian l\u00e0 nh\u01b0 v\u1eady), ta l\u1ea1i c\u00f3 nh\u1eefng \u0111\u00e1nh \u0111\u1ed5i kh\u00e1c \u0111\u1ec3 xem x\u00e9t gi\u1eefa \u0111\u1ed9 tr\u1ec5 v\u00e0 t\u00ednh nh\u1ea5t qu\u00e1n. N\u00f3 l\u1ea1i thu\u1ed9c v\u1ec1 \u0111\u1ecbnh l\u00fd PACELC. Ta s\u1ebd n\u00f3i v\u1ec1 n\u00f3 trong m\u1ed9t b\u00e0i vi\u1ebft kh\u00e1c.</p> <p></p>"},{"location":"ByteByteGo/cdn/cdn/","title":"T\u00ecm hi\u1ec3u v\u1ec1 CDN","text":""},{"location":"ByteByteGo/cdn/cdn/#nguon","title":"Ngu\u1ed3n","text":"<p> What Is A CDN? How Does It Work?</p>"},{"location":"ByteByteGo/cdn/cdn/#cdn-la-gi","title":"CDN l\u00e0 g\u00ec?","text":"<p>CDN (Content Delivery Network - M\u1ea1ng l\u01b0\u1edbi ph\u00e2n ph\u1ed1i n\u1ed9i dung) \u0111\u01b0\u1ee3c ra \u0111\u1eddi v\u00e0o cu\u1ed1i nh\u1eefng n\u0103m 90 c\u1ee7a th\u1ebf k\u1ec9 20 (1998). Ban \u0111\u1ea7u n\u00f3 \u0111\u01b0\u1ee3c ph\u00e1t tri\u1ec3n \u0111\u1ec3 t\u0103ng t\u1ed1c vi\u1ec7c ph\u00e2n ph\u1ed1i content HTML t\u0129nh cho user tr\u00ean to\u00e0n th\u1ebf gi\u1edbi.</p> <p></p> <p>CDN ph\u00e1t tri\u1ec3n m\u1ea1nh m\u1ebd trong nh\u1eefng th\u1eadp ni\u00ean ti\u1ebfp theo. Ng\u00e0y nay, m\u1ed9t CDN c\u1ea7n \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng b\u1ea5t k\u00ec khi n\u00e0o c\u00f3 HTTP traffic.</p>"},{"location":"ByteByteGo/cdn/cdn/#cdn-ngay-nay-lam-uoc-gi-cho-chung-ta","title":"CDN ng\u00e0y nay l\u00e0m \u0111\u01b0\u1ee3c g\u00ec cho ch\u00fang ta?","text":"<p>\u1ede c\u1ea5p \u0111\u1ed9 c\u01a1 b\u1ea3n, m\u1ed9t CDN mang content l\u1ea1i g\u1ea7n user h\u01a1n. \u0110i\u1ec1u n\u00e0y c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t c\u1ee7a web service d\u01b0\u1edbi g\u00f3c nh\u00ecn user. Th\u1ed1ng k\u00ea ch\u1ec9 ra r\u1eb1ng hi\u1ec7u su\u1ea5t r\u1ea5t quan tr\u1ecdng cho vi\u1ec7c ti\u1ebfp c\u1eadn v\u00e0 gi\u1eef ch\u00e2n user.</p> <p></p> <p></p> <p>\u0110\u1ec3 mang service l\u1ea1i g\u1ea7n user h\u01a1n, CDN tri\u1ec3n khai r\u1ea5t nhi\u1ec1u server t\u1ea1i h\u00e0ng tr\u0103m \u0111\u1ecba \u0111i\u1ec3m tr\u00ean th\u1ebf gi\u1edbi. C\u00e1c \u0111\u1ecba \u0111i\u1ec3m n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 PoP (Point of Presence - \u0111i\u1ec3m t\u1ed3n t\u1ea1i). Server n\u1eb1m trong PoP th\u01b0\u1eddng \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 edge server. PoP hi\u1ec7n di\u1ec7n \u1edf nhi\u1ec1u n\u01a1i tr\u00ean th\u1ebf gi\u1edbi gi\u00fap \u0111\u1ea3m b\u1ea3o r\u1eb1ng m\u1ecdi user c\u00f3 th\u1ec3 k\u1ebft n\u1ed1i \u0111\u1ebfn edge server g\u1ea7n h\u1ecd nh\u1ea5t.</p> <p></p> <p>C\u00e1c CDN kh\u00e1c nhau tri\u1ec3n khai c\u00e1c c\u00f4ng ngh\u1ec7 kh\u00e1c nhau \u0111\u1ec3 \u0111i\u1ec1u h\u01b0\u1edbng request c\u1ee7a user \u0111\u1ebfn PoP g\u1ea7n nh\u1ea5t. Hai c\u00f4ng ngh\u1ec7 ph\u1ed5 bi\u1ebfn nh\u1ea5t l\u00e0 routing d\u1ef1a tr\u00ean DNS v\u00e0 Anycast.</p> <p>V\u1edbi routing d\u1ef1a tr\u00ean DNS, m\u1ed7i PoP c\u00f3 m\u1ed9t \u0111\u1ecba ch\u1ec9 IP ri\u00eang. Khi user t\u00ecm \u0111\u1ecba ch\u1ec9 IP c\u1ee7a CDN, DNS tr\u1ea3 v\u1ec1 \u0111\u1ecba ch\u1ec9 IP c\u1ee7a PoP g\u1ea7n v\u1edbi user nh\u1ea5t.</p> <p></p> <p>V\u1edbi Anycast, c\u00e1c PoP chia s\u1ebb c\u00f9ng m\u1ed9t \u0111\u1ecba ch\u1ec9 IP. Khi m\u1ed9t request v\u00e0o m\u1ea1ng Anycast c\u1ee7a \u0111\u1ecba ch\u1ec9 IP \u0111\u00f3, m\u1ea1ng n\u00e0y s\u1ebd g\u1eedi request \u0111\u1ebfn PoP g\u1ea7n nh\u1ea5t v\u1edbi user.</p> <p></p> <p>M\u1ed7i edge server \u0111\u00f3ng vai tr\u00f2 l\u00e0 reverse proxy v\u1edbi content cache r\u1ea5t l\u1edbn. Content t\u0129nh \u0111\u01b0\u1ee3c cache trong nh\u1eefng content cache tr\u00ean edge server. N\u1ebfu m\u1ed9t content n\u1eb1m trong cache, n\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c nhanh ch\u00f3ng tr\u1ea3 v\u1ec1 cho user. Edge server ch\u1ec9 c\u1ea7n m\u1ed9t b\u1ea3n sao c\u1ee7a content t\u0129nh t\u1eeb server g\u1ed1c n\u1ebfu content kh\u00f4ng n\u1eb1m trong cache n\u00ean vi\u1ec7c n\u00e0y gi\u00fap gi\u1ea3m y\u00eau c\u1ea7u t\u1ea3i v\u00e0 b\u0103ng th\u00f4ng cho server g\u1ed1c r\u1ea5t nhi\u1ec1u.</p> <p></p> <p></p> <p>M\u1ed9t CDN hi\u1ec7n \u0111\u1ea1i c\u00f2n c\u00f3 th\u1ec3 chuy\u1ec3n \u0111\u1ed5i content t\u0129nh th\u00e0nh m\u1ed9t d\u1ea1ng t\u1ed1i \u01b0u h\u01a1n. V\u00ed d\u1ee5, CDN c\u00f3 th\u1ec3 minify Javascript bundle tr\u01b0\u1edbc khi \u0111\u1ebfn tay user, ho\u1eb7c chuy\u1ec3n \u0111\u1ed5i m\u1ed9t file h\u00ecnh \u1ea3nh t\u1eeb d\u1ea1ng c\u0169 th\u00e0nh nh\u1eefng d\u1ea1ng m\u1edbi h\u01a1n nh\u01b0 WebP hay AVIF.</p> <p></p> <p>Edge server c\u00f2n \u0111\u00f3ng vai tr\u00f2 c\u1ef1c k\u1ef3 quan tr\u1ecdng trong HTTP stack hi\u1ec7n \u0111\u1ea1i. T\u1ea5t c\u1ea3 TLS connection k\u1ebft th\u00fac t\u1ea1i edge server. B\u1eaft tay TLS r\u1ea5t t\u1ed1n k\u00e9m. C\u00e1c phi\u00ean b\u1ea3n TLS th\u1ecbnh h\u00e0nh nh\u01b0 TLS 1.2 c\u1ea7n v\u00e0i network round trip \u0111\u1ec3 t\u1ea1o connection. Th\u1ebf n\u00ean k\u1ebft th\u00fac TLS connection t\u1ea1i edge server gi\u00fap gi\u1ea3m \u0111\u1ed9 tr\u1ec5 \u0111\u1ec3 t\u1ea1o TLS connection. \u0110\u00e2y l\u00e0 l\u00fd do v\u00ec sao nhi\u1ec1u \u1ee9ng d\u1ee5ng ng\u00e0y nay g\u1eedi HTTP content \u0111\u1ed9ng kh\u00f4ng cache \u0111\u01b0\u1ee3c qua CDN.</p> <p></p> <p></p> <p>B\u00ean c\u1ea1nh hi\u1ec7u su\u1ea5t, CDN hi\u1ec7n \u0111\u1ea1i c\u00f2n c\u00f3 hai l\u1ee3i \u00edch l\u1edbn n\u1eefa. </p> <p>Th\u1ee9 nh\u1ea5t l\u00e0 b\u1ea3o m\u1eadt. T\u1ea5t c\u1ea3 c\u00e1c m\u1ea1ng CDN \u0111\u1ec1u c\u00f3 dung l\u01b0\u1ee3ng m\u1ea1ng l\u1edbn t\u1ea1i edge server. \u0110\u00e2y l\u00e0 m\u1ea5u ch\u1ed1t \u0111\u1ec3 ch\u1ed1ng t\u1ea7n c\u00f4ng t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5 (DDoS) quy m\u00f4 l\u1edbn m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3, b\u1eb1ng vi\u1ec7c c\u00f3 m\u1ed9t m\u1ea1ng c\u00f3 dung l\u01b0\u1ee3ng c\u00f2n l\u1edbn h\u01a1n c\u1ee7a k\u1ebb t\u1ea5n c\u00f4ng. \u0110i\u1ec1u n\u00e0y th\u1eadt s\u1ef1 hi\u1ec7u qu\u1ea3 v\u1edbi CDN tr\u00ean n\u1ec1n m\u1ea1ng Anycast. N\u00f3 cho ph\u00e9p CDN khu\u1ebfch t\u00e1n traffic t\u1ea5n c\u00f4ng tr\u00ean m\u1ed9t l\u01b0\u1ee3ng l\u1edbn server.</p> <p></p> <p></p> <p>Th\u1ee9 hai, CDN hi\u1ec7n \u0111\u1ea1i c\u1ea3i thi\u1ec7n t\u00ednh th\u01b0\u1eddng tr\u1ef1c (availability). CDN c\u00f3 t\u00ednh ph\u00e2n b\u1ed1 r\u1ea5t l\u1edbn. V\u1edbi vi\u1ec7c c\u00f3 b\u1ea3n sao content tr\u00ean nhi\u1ec1u PoP, CDN c\u00f3 th\u1ec3 ch\u1ecbu \u0111\u01b0\u1ee3c nhi\u1ec1u s\u1ef1 c\u1ed1 ph\u1ea7n c\u1ee9ng h\u01a1n server g\u1ed1c.</p> <p></p> <p>CDN hi\u1ec7n \u0111\u1ea1i mang l\u1ea1i r\u1ea5t nhi\u1ec1u l\u1ee3i \u00edch. H\u00e3y d\u00f9ng CDN khi ta c\u00f3 HTTP traffic.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/","title":"7 c\u00e1ch m\u00e0 l\u1eadp tr\u00ecnh vi\u00ean t\u1eadn d\u1ee5ng ChatGPT","text":""},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#nguon","title":"Ngu\u1ed3n","text":"<p> Top 7 ChatGPT Developer Hacks</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#mo-au","title":"M\u1edf \u0111\u1ea7u","text":"<p>ChatGPT \u0111ang c\u00e1ch m\u1ea1ng ho\u00e1 c\u00e1ch th\u1ee9c l\u00e0m vi\u1ec7c c\u1ee7a dev v\u00e0 n\u1ebfu b\u1ea1n ch\u01b0a tham gia, b\u1ea1n \u0111ang b\u1ecf l\u1ee1 m\u1ed9t l\u1ee3i th\u1ebf c\u1ea1nh tranh r\u1ea5t l\u1edbn. Trong b\u00e0i n\u00e0y, ta s\u1ebd c\u00f9ng t\u00ecm hi\u1ec3u ChatGPT v\u00e0 cho th\u1ea5y c\u00e1ch n\u00f3 c\u00f3 th\u1ec3 t\u0103ng t\u1ed1c c\u00f4ng vi\u1ec7c h\u00e0ng ng\u00e0y v\u00e0 n\u00e2ng cao hi\u1ec7u su\u1ea5t c\u1ee7a b\u1ea1n.</p> <p>\u0110\u1eebng \u0111\u1ec3 b\u1ecb b\u1ecf l\u1ea1i ph\u00eda sau - h\u00e3y kh\u00e1m ph\u00e1 c\u00e1ch khai th\u00e1c s\u1ee9c m\u1ea1nh c\u1ee7a ChatGPT v\u00e0 \u0111i \u0111\u1ea7u trong th\u1ebf gi\u1edbi \u0111ang ph\u00e1t tri\u1ec3n r\u1ea5t nhanh ch\u00f3ng n\u00e0y.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#giai-thich-code","title":"Gi\u1ea3i th\u00edch code","text":"<p>M\u1ed9t trong nh\u1eefng c\u00e1ch th\u00f4ng d\u1ee5ng m\u00e0 dev hay d\u00f9ng v\u1edbi ChatGPT l\u00e0 nh\u1edd n\u00f3 gi\u1ea3i th\u00edch nh\u1eefng \u0111o\u1ea1n code kh\u00f3 hi\u1ec3u. ChatGPT bi\u1ebft r\u1ea5t nhi\u1ec1u v\u1ec1 c\u00e1c ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh v\u00e0 c\u00f3 th\u1ec3 gi\u1ea3i th\u00edch c\u00e1c ph\u1ea7n code ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o theo m\u1ed9t c\u00e1ch \u0111\u01a1n gi\u1ea3n.</p> <p>V\u00ed d\u1ee5, gi\u1ea3 s\u1eed ta c\u00f3 m\u1ed9t \u0111o\u1ea1n code Python d\u00f9ng m\u1ed9t s\u1ed1 t\u00ednh n\u0103ng n\u00e2ng cao nh\u01b0 list comprehension hay lambda function nh\u01b0 sau:</p> <p></p> <p>N\u1ebfu ta kh\u00f4ng hi\u1ec3u ho\u1eb7c c\u1ea3m th\u1ea5y code kh\u00f3 hi\u1ec3u, ta c\u00f3 th\u1ec3 d\u00f9ng ChatGPT \u0111\u1ec3 n\u00f3 gi\u1ea3i th\u00edch code. </p> <p></p> <p>V\u1edbi s\u1ef1 tr\u1ee3 gi\u00fap c\u1ee7a ChatGPT, ta c\u00f3 th\u1ec3 hi\u1ec3u r\u00f5 h\u01a1n v\u1ec1 code m\u00e0 ta \u0111ang d\u00f9ng v\u00e0 c\u1ea3m th\u1ea5y t\u1ef1 tin h\u01a1n v\u1edbi nh\u1eefng \u0111o\u1ea1n code ph\u1ee9c t\u1ea1p.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#tim-loi-va-review-code","title":"T\u00ecm l\u1ed7i v\u00e0 review code","text":"<p>M\u1ed9t c\u00e1ch kh\u00e1c \u0111\u1ec3 d\u00f9ng ChatGPT l\u00e0 t\u00ecm l\u1ed7i v\u00e0 review code. ChatGPT c\u00f3 th\u1ec3 gi\u00fap ta t\u00ecm l\u1ed7i trong code v\u00e0 \u0111\u1ec1 xu\u1ea5t nh\u1eefng c\u1ea3i ti\u1ebfn cho code. Khi ta \u0111ang l\u00e0m trong m\u1ed9t d\u1ef1 \u00e1n, th\u01b0\u1eddng th\u00ec s\u1ebd c\u00f3 l\u00fac m\u1ed9t s\u1ed1 th\u1ee9 kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng nh\u01b0 c\u00e1ch ta mong mu\u1ed1n. ChatGPT c\u00f3 th\u1ec3 \u0111\u1ecdc code v\u00e0 ch\u1ec9 ra c\u00e1c l\u1ed7i ho\u1eb7c ph\u1ea7n code n\u00e0o c\u1ea7n \u0111\u01b0\u1ee3c s\u1eeda. N\u00f3 c\u0169ng c\u00f3 th\u1ec3 \u0111\u01b0a ra c\u00e1c \u0111\u1ec1 xu\u1ea5t l\u00e0m sao cho code c\u1ee7a ta ngon h\u01a1n.</p> <p>Ta c\u00f9ng xem x\u00e9t m\u1ed9t v\u00ed d\u1ee5 v\u1edbi ng\u00f4n ng\u1eef C v\u1edbi m\u1ed9t h\u00e0m \u0111\u1ea3o ng\u01b0\u1ee3c x\u00e2u t\u1ea1i ch\u1ed7. \u0110\u00e2y l\u00e0 code c\u00f3 bug:</p> <p></p> <p>Ta c\u00f3 th\u1ec3 d\u00f9ng ChatGPT \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh v\u00e0 s\u1eeda l\u1ed7i trong code n\u00e0y. N\u00f3 cho ta bi\u1ebft r\u1eb1ng c\u00f3 m\u1ed9t l\u1ed7i nh\u1ecf (c\u1ee5 th\u1ec3 l\u00e0 v\u1ecb tr\u00ed n\u00ean l\u00e0 <code>len-i-1</code> ch\u1ee9 kh\u00f4ng ph\u1ea3i <code>len-i</code>, trong h\u00ecnh d\u01b0\u1edbi th\u00ec l\u1ed7i trong code v\u1eabn \u1edf \u0111\u00f3, r\u1ea5t xin l\u1ed7i c\u00e1c b\u1ea1n) n\u1eb1m trong h\u00e0m <code>reverse_string</code> khi ho\u00e1n \u0111\u1ed5i c\u00e1c k\u00fd t\u1ef1. Th\u1eadm ch\u00ed n\u00f3 c\u00f2n sinh code ch\u00ednh x\u00e1c cho ch\u00fang ta.</p> <p></p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#chuyen-code-tu-ngon-ngu-nay-sang-ngon-ngu-khac","title":"Chuy\u1ec3n code t\u1eeb ng\u00f4n ng\u1eef n\u00e0y sang ng\u00f4n ng\u1eef kh\u00e1c","text":"<p>Ta c\u0169ng c\u00f3 th\u1ec3 d\u00f9ng ChatGPT \u0111\u1ec3 chuy\u1ec3n code t\u1eeb ng\u00f4n ng\u1eef n\u00e0y sang ng\u00f4n ng\u1eef kh\u00e1c. \u0110i\u1ec1u n\u00e0y th\u1ef1c s\u1ef1 c\u00f3 \u00edch khi ta c\u00f3 code \u1edf ng\u00f4n ng\u1eef A, nh\u01b0ng ta \u0111ang l\u00e0m vi\u1ec7c v\u1edbi ng\u00f4n ng\u1eef B. ChatGPT bi\u1ebft nhi\u1ec1u ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh, n\u00ean n\u00f3 c\u00f3 th\u1ec3 chuy\u1ec3n \u0111\u1ed5i code.</p> <p>V\u00ed d\u1ee5, ta c\u00f3 code Python gi\u00fap s\u1eeda m\u1ed9t l\u1ed7i b\u1ea3o m\u00e2t, nh\u01b0ng project c\u1ee7a ch\u00fang ta \u0111ang d\u00f9ng Rust. Ta c\u1ea7n chuy\u1ec3n code Python th\u00e0nh Rust v\u00e0 ChatGPT c\u00f3 th\u1ec3 l\u00e0m \u0111\u01b0\u1ee3c \u0111i\u1ec1u \u0111\u00f3. \u0110\u00e2y l\u00e0 code m\u1eabu b\u00ean Python:</p> <p></p> <p>Ta c\u00f3 th\u1ec3 nh\u1edd ChatGPT gi\u00fap vi\u1ebft l\u1ea1i code theo ng\u00f4n ng\u1eef Rust, c\u00f3 th\u1ec3 nh\u01b0 sau:</p> <p></p> <p>V\u1edbi s\u1ef1 tr\u1ee3 gi\u00fap c\u1ee7a ChatGPT, ta c\u00f3 th\u1ec3 chuy\u1ec3n code t\u1eeb ng\u00f4n ng\u1eef n\u00e0y sang ng\u00f4n ng\u1eef kh\u00e1c m\u1ed9t c\u00e1ch d\u1ec5 d\u00e0ng, gi\u00fap ta ti\u1ebft ki\u1ec7m th\u1eddi gian, tr\u00e1nh l\u1ed7i khi th\u1ef1c hi\u1ec7n th\u1ee7 c\u00f4ng v\u00e0 d\u1ea1y ta th\u00eam v\u1ec1 c\u00e1c ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh kh\u00e1c nhau.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#hoc-ngon-ngu-moi","title":"H\u1ecdc ng\u00f4n ng\u1eef m\u1edbi","text":"<p>Ta c\u0169ng c\u00f3 th\u1ec3 h\u1ecdc ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh m\u1edbi v\u1edbi s\u1ef1 gi\u00fap \u0111\u1ee1 c\u1ee7a ChatGPT. </p> <p>M\u1ed9t v\u00ed d\u1ee5 th\u1ef1c t\u1ebf l\u00e0 ch\u00fang t\u00f4i c\u1ea7n ph\u1ea3i xong m\u1ed9t project v\u1edbi Rust, m\u00e0 ch\u00fang t\u00f4i kh\u00f4ng bi\u1ebft Rust nhi\u1ec1u l\u1eafm. Ch\u00fang t\u00f4i c\u1ea7n \u0111\u1ecdc m\u1ed9t object t\u1eeb Google Cloud Storage bucket theo \u0111o\u1ea1n \u0111\u1ec3 l\u00e0m n\u00f3 hi\u1ec7u qu\u1ea3 h\u01a1n. V\u00ec v\u1eady, ch\u00fang t\u00f4i nh\u1edd ChatGPT c\u00e1ch \u0111\u1ec3 l\u00e0m.</p> <p></p> <p>ChatGPT c\u00f3 th\u1ec3 cung c\u1ea5p cho ch\u00fang ta nh\u1eefng h\u01b0\u1edbng d\u1eabn, v\u00ed d\u1ee5\u00a0v\u00e0 th\u1eadm ch\u00ed c\u1ea3 code \u0111\u1ec3 gi\u00fap\u00a0ta th\u1ef1c hi\u1ec7n c\u00f4ng vi\u1ec7c c\u1ee7a m\u00ecnh. B\u1eb1ng c\u00e1ch \u0111\u1eb7t c\u00e2u h\u1ecfi c\u1ee5 th\u1ec3 ho\u1eb7c l\u1ea5y v\u00ed d\u1ee5, ta\u00a0c\u00f3 th\u1ec3 h\u1ecdc c\u00e1ch s\u1eed d\u1ee5ng c\u00e1c th\u01b0 vi\u1ec7n, ch\u1ee9c n\u0103ng m\u1edbi,\u00a0ho\u1eb7c c\u00e1c t\u00ednh n\u0103ng ng\u00f4n ng\u1eef m\u00e0 ch\u00fang ta kh\u00f4ng quen d\u00f9ng.</p> <p>Ch\u1eb3ng h\u1ea1n, trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y, ChatGPT cho\u00a0ch\u00fang t\u00f4i v\u00ed d\u1ee5 v\u1ec1 c\u00e1ch \u0111\u1ecdc m\u1ed9t \u0111\u1ed1i t\u01b0\u1ee3ng\u00a0t\u1eeb nh\u00f3m GCS theo t\u1eebng \u0111o\u1ea1n b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng Rust, g\u1ed3m c\u1ea3 c\u00e1c \u0111\u1ec1 xu\u1ea5t v\u1ec1 th\u01b0 vi\u1ec7n v\u00e0 code m\u1eabu \u0111\u1ec3 th\u1ef1c hi\u1ec7n y\u00eau c\u1ea7u c\u1ee7a ch\u00fang t\u00f4i.</p> <p></p> <p></p> <p>B\u1eb1ng c\u00e1ch l\u00e0m theo h\u01b0\u1edbng d\u1eabn do ChatGPT cung c\u1ea5p, ch\u00fang t\u00f4i \u0111\u00e3 nhanh ch\u00f3ng hi\u1ec3u r\u00f5 h\u01a1n\u00a0v\u1ec1 Rust v\u00e0 ho\u00e0n th\u00e0nh project c\u1ee7a m\u00ecnh m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3.</p> <p>B\u1eb1ng c\u00e1ch d\u1ef1a v\u00e0o ChatGPT khi h\u1ecdc m\u1ed9t ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh m\u1edbi, ta c\u00f3 th\u1ec3 ti\u1ebft ki\u1ec7m th\u1eddi gian v\u00e0 r\u00fat ng\u1eafn th\u1eddi gian h\u1ecdc t\u1eadp, gi\u00fap d\u1ec5 d\u00e0ng th\u00edch nghi v\u1edbi ng\u00f4n ng\u1eef m\u1edbi v\u00e0 d\u1ea7n d\u1ea7n th\u00e0nh th\u1ea1o ng\u00f4n ng\u1eef \u0111\u00f3.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#viet-unit-test","title":"Vi\u1ebft unit test","text":"<p>ChatGPT c\u0169ng c\u00f3 th\u1ec3 vi\u1ebft unit test cho code. Unit test r\u1ea5t quan tr\u1ecdng v\u00ec n\u00f3 gi\u00fap \u0111\u1ea3m b\u1ea3o code ch\u1ea1y \u0111\u00fang v\u00e0 nh\u1eefng thay \u0111\u1ed5i v\u1ec1 sau kh\u00f4ng ph\u00e1 v\u1ee1 ch\u1ee9c n\u0103ng hi\u1ec7n c\u00f3. Vi\u1ebft t\u1ed1t unit test l\u00e0 vi\u1ec7c kh\u00f4ng d\u1ec5 d\u00e0ng, \u0111\u00f4i khi r\u1ea5t l\u00e0 ch\u00e1n, nh\u01b0ng ChatGPT c\u00f3 th\u1ec3 l\u00e0m \u0111\u01b0\u1ee3c \u0111i\u1ec1u n\u00e0y.</p> <p>X\u00e9t m\u1ed9t v\u00ed d\u1ee5 th\u1ef1c t\u1ebf khi ta c\u00f3 m\u1ed9t h\u00e0m TypeScript nh\u1eadn m\u1ed9t x\u00e2u v\u00e0 tr\u00e1nh c\u00e1c k\u00fd t\u1ef1 \u0111\u1eb7c bi\u1ec7t \u0111\u1ec3 d\u00f9ng trong HTML. H\u00e0m nh\u01b0 sau:</p> <p></p> <p>Ta c\u00f3 th\u1ec3 d\u00f9ng ChatGPT \u0111\u1ec3 t\u1ea1o c\u00e1c test case \u0111\u1ec3 x\u00e1c th\u1ef1c t\u00ednh ch\u00ednh x\u00e1c c\u1ee7a h\u00e0m <code>sanitizeHtml</code>.</p> <p>N\u00f3 cho ta m\u1ed9t s\u1ed1 test case kh\u00e1 t\u1ed1t, v\u00e0 c\u0169ng c\u00f3 th\u1ec3 vi\u1ebft test case n\u1eefa:</p> <p></p> <p>Nh\u1edd ChatGPT, ta c\u00f3 th\u1ec3 t\u1ea1o c\u00e1c test case cho code, \u0111\u1ea3m b\u1ea3o code ho\u1ea1t \u0111\u1ed9ng ch\u00ednh x\u00e1c v\u00e0 duy tr\u00ec ch\u1ea5t l\u01b0\u1ee3ng ph\u1ea7n m\u1ec1m \u1edf m\u1ee9c cao.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#them-tinh-nang-cho-code","title":"Th\u00eam t\u00ednh n\u0103ng cho code","text":"<p>B\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng ChatGPT \u0111\u1ec3 th\u00eam t\u00ednh n\u0103ng cho code hi\u1ec7n t\u1ea1i. V\u1edbi s\u1ef1 hi\u1ec3u bi\u1ebft v\u1ec1 ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh v\u00e0 c\u00e1c kh\u00e1i ni\u1ec7m v\u1ec1 c\u00f4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m, n\u00f3 c\u00f3 th\u1ec3 gi\u00fap ta n\u00e2ng c\u1ea5p code b\u1eb1ng c\u00e1ch \u0111\u1ec1 xu\u1ea5t c\u00e1c thay \u0111\u1ed5i v\u00e0 c\u00e1c code snippet m\u1edbi.</p> <p>Th\u1eed l\u1ea5y m\u1ed9t v\u00ed d\u1ee5 th\u1ef1c t\u1ebf trong \u0111\u00f3 ta c\u00f3 m\u1ed9t h\u00e0m TypeScript l\u1ecdc c\u00e1c ph\u1ea7n t\u1eed t\u1eeb m\u1ed9t m\u1ea3ng d\u1ef1a tr\u00ean m\u1ed9t h\u00e0m v\u1ecb t\u1eeb. \u0110\u00e2y l\u00e0 h\u00e0m ban \u0111\u1ea7u:</p> <p></p> <p>Gi\u1ea3 s\u1eed ta mu\u1ed1n s\u1eeda h\u00e0m n\u00e0y \u0111\u1ec3 c\u00f3 th\u00eam m\u1ed9t t\u00ednh n\u0103ng: m\u1ed9t tham s\u1ed1 tu\u1ef3 ch\u1ecdn cho ph\u00e9p ta gi\u1edbi h\u1ea1n s\u1ed1 l\u01b0\u1ee3ng ph\u1ea7n t\u1eed tr\u1ea3 v\u1ec1 sau khi l\u1ecdc. Ta c\u00f3 th\u1ec3 nh\u1edd ChatGPT gi\u00fap trong vi\u1ec7c th\u00eam t\u00ednh n\u0103ng n\u00e0y. ChatGPT c\u00f3 th\u1ec3 \u0111\u1ec1 xu\u1ea5t th\u00eam tham s\u1ed1 n\u00e0y v\u00e0 c\u1eadp nh\u1eadt \u0111i\u1ec1u ki\u1ec7n v\u00f2ng l\u1eb7p \u0111\u1ec3 d\u1eebng sau khi \u0111\u1ea1t \u0111\u1ebfn s\u1ed1 ph\u1ea7n t\u1eed c\u1ea7n l\u1ecdc.</p> <p>\u0110\u00e2y l\u00e0 h\u00e0m sau khi s\u1eeda:</p> <p></p> <p>B\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng ChatGPT \u0111\u1ec3 s\u1eeda code v\u00e0 th\u00eam t\u00ednh n\u0103ng, ta c\u00f3 th\u1ec3 ti\u1ebft ki\u1ec7m th\u1eddi gian, \u0111\u1ea3m b\u1ea3o r\u1eb1ng c\u00e1c thay \u0111\u1ed5i \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t ch\u00ednh x\u00e1c, v\u00e0 h\u1ecdc th\u00eam nhi\u1ec1u k\u1ef9 thu\u1eadt \u0111\u1ec3 c\u1ea3i ti\u1ebfn code.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#viet-docs-va-comment-cho-code","title":"Vi\u1ebft docs v\u00e0 comment cho code","text":"<p>Cu\u1ed1i c\u00f9ng, ta c\u00f3 th\u1ec3 d\u00f9ng ChatGPT \u0111\u1ec3 vi\u1ebft docs v\u00e0 comment cho code. T\u00e0i li\u1ec7u v\u00e0 comment \u0111\u01b0\u1ee3c vi\u1ebft t\u1ed1t l\u00e0 r\u1ea5t quan tr\u1ecdng \u0111\u1ec3 duy tr\u00ec kh\u1ea3 n\u0103ng b\u1ea3o tr\u00ec codebase c\u1ee7a ch\u00fang ta.</p> <p>ChatGPT c\u00f3 th\u1ec3 gi\u00fap vi\u1ebft c\u00e1c comment v\u00e0 t\u00e0i li\u1ec7u r\u00f5 r\u00e0ng, ng\u1eafn g\u1ecdn v\u00e0 \u0111\u1ea7y \u0111\u1ee7 th\u00f4ng tin, ngay c\u1ea3 v\u1edbi c\u00e1c code ph\u1ee9c t\u1ea1p trong th\u1ebf gi\u1edbi th\u1ef1c.</p> <p>V\u00ed d\u1ee5 nh\u01b0 ta c\u00f3 m\u1ed9t h\u00e0m TypeScript t\u00ecm ki\u1ebfm m\u1ed9t pattern n\u00e0o \u0111\u00f3 trong m\u1ed9t \u0111o\u1ea1n v\u0103n b\u1ea3n v\u00e0 tr\u1ea3 v\u1ec1 t\u1ea5t c\u1ea3 c\u00e1c n\u01a1i n\u00f3 xu\u1ea5t hi\u1ec7n trong v\u0103n b\u1ea3n.</p> <p>\u0110\u00e2y l\u00e0 h\u00e0m \u0111\u00f3:</p> <p></p> <p>Ta c\u00f3 th\u1ec3 y\u00eau c\u1ea7u ChatGPT gi\u00fap vi\u1ebft docs v\u00e0 comment cho h\u00e0m n\u00e0y, gi\u1ea3i th\u00edch m\u1ee5c \u0111\u00edch, th\u00f4ng s\u1ed1 v\u00e0 gi\u00e1 tr\u1ecb tr\u1ea3 v\u1ec1 c\u1ee7a n\u00f3.</p> <p>\u0110\u00e2y l\u00e0 nh\u1eefng g\u00ec ChatGPT c\u00f3 th\u1ec3 \u0111\u1ec1 xu\u1ea5t:</p> <p></p> <p>B\u1eb1ng c\u00e1ch d\u00f9ng ChatGPT \u0111\u1ec3 vi\u1ebft docs v\u00e0 comment, ta c\u00f3 th\u1ec3 \u0111\u1ea3m b\u1ea3o r\u1eb1ng code d\u1ec5 hi\u1ec3u v\u00e0 d\u1ec5 b\u1ea3o tr\u00ec, gi\u00fap c\u00e1c dev kh\u00e1c d\u1ec5 ti\u1ebfp c\u1eadn code h\u01a1n.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#luu-y","title":"L\u01b0u \u00fd","text":"<p>C\u1ea7n nh\u1edb l\u00e0 ChatGPT c\u0169ng c\u00f3 nh\u1eefng h\u1ea1n ch\u1ebf v\u00e0 kh\u00f4ng n\u00ean d\u1ef1a v\u00e0o m\u1ed9t c\u00e1ch m\u00f9 qu\u00e1ng. \u0110\u00f4i khi n\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0a ra c\u00e2u tr\u1ea3 l\u1eddi kh\u00f4ng t\u1ed1i \u01b0u ho\u1eb7c sai, n\u00ean ta c\u1ea7n suy ngh\u0129 ch\u00edn ch\u1eafn v\u00e0 \u0111\u1eb7t c\u00e2u h\u1ecfi \u0111\u00fang. V\u00ed d\u1ee5, n\u1ebfu ta ki\u1ec3m tra v\u00ed d\u1ee5 Rust \u0111\u01b0\u1ee3c t\u1ea1o tr\u01b0\u1edbc \u0111\u00f3 \u0111\u1ec3 \u0111\u1ecdc m\u1ed9t object t\u1eeb m\u1ed9t GCS bucket theo \u0111o\u1ea1n, ta s\u1ebd th\u1ea5y r\u1eb1ng n\u00f3 kh\u00f4ng l\u00fd t\u01b0\u1edfng cho c\u00e1c object r\u1ea5t l\u1edbn v\u00ec n\u00f3 \u0111\u1ecdc to\u00e0n b\u1ed9 object v\u00e0o b\u1ed9 nh\u1edb.</p> <p>L\u00e0 dev, ta ph\u1ea3i ch\u1ecbu tr\u00e1ch nhi\u1ec7m v\u1ec1 code v\u00e0 gi\u1ea3i ph\u00e1p c\u1ee7a ch\u00ednh ch\u00fang ta. S\u1eed d\u1ee5ng ChatGPT ch\u1ec9 n\u00ean d\u1eebng \u1edf m\u1ee9c tr\u1ee3 gi\u00fap, h\u00e3y \u0111\u1ea3m b\u1ea3o ki\u1ec3m tra k\u1ef9 c\u00e1c \u0111\u1ec1 xu\u1ea5t c\u1ee7a n\u00f3 v\u00e0 duy tr\u00ec quy\u1ec1n ki\u1ec3m so\u00e1t c\u00f4ng vi\u1ec7c c\u1ee7a b\u1ea3n th\u00e2n.</p>"},{"location":"ByteByteGo/chatgpt_hacks/chatgpt_hacks/#tong-ket","title":"T\u1ed5ng k\u1ebft","text":"<p>ChatGPT l\u00e0 m\u1ed9t c\u00f4ng c\u1ee5 thay \u0111\u1ed5i cu\u1ed9c ch\u01a1i d\u00e0nh cho c\u00e1c dev. N\u00f3 gi\u00fap ta gi\u1ea3i quy\u1ebft c\u00e1c b\u00e0i to\u00e1n ph\u1ee9c t\u1ea1p, hi\u1ec3u ng\u00f4n ng\u1eef m\u1edbi v\u00e0 c\u1ea3i thi\u1ec7n code c\u1ee7a ch\u00fang ta m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3.</p> <p>B\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng ChatGPT, ta c\u00f3 th\u1ec3 tr\u1edf th\u00e0nh dev gi\u1ecfi h\u01a1n v\u00e0 l\u00e0m cho c\u00f4ng vi\u1ec7c c\u1ee7a m\u00ecnh tr\u1edf n\u00ean th\u00fa v\u1ecb h\u01a1n.</p>"},{"location":"ByteByteGo/choose_database/choose_database/","title":"L\u00e0m sao ch\u1ecdn database cho \u0111\u00fang?","text":""},{"location":"ByteByteGo/choose_database/choose_database/#nguon","title":"Ngu\u1ed3n","text":"<p> How To Choose The Right Database?</p>"},{"location":"ByteByteGo/choose_database/choose_database/#mo-au","title":"M\u1edf \u0111\u1ea7u","text":"<p>Khi x\u00e2y d\u1ef1ng m\u1ed9t h\u1ec7 th\u1ed1ng c\u00f3 kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng cao (highly scalable), vi\u1ec7c ch\u1ecdn \u0111\u00fang database th\u01b0\u1eddng l\u00e0 quy\u1ebft \u0111\u1ecbnh quan tr\u1ecdng nh\u1ea5t m\u00e0 ta ph\u1ea3i \u0111\u01b0a ra. N\u1ebfu b\u1ea1n ph\u1ea3i ch\u1ecdn database ti\u1ebfp theo cho business \u0111ang ph\u00e1t tri\u1ec3n c\u1ef1c nhanh c\u1ee7a m\u00ecnh, sau \u0111\u00e2y l\u00e0 c\u00e1c \u0111i\u1ec3m quan tr\u1ecdng c\u1ea7n l\u01b0u \u00fd. </p> <p>Ta \u0111ang n\u00f3i v\u1ec1 vi\u1ec7c ch\u1ecdn database cho m\u1ed9t business \u0111ang ph\u00e1t tri\u1ec3n th\u1ef1c s\u1ef1, n\u01a1i m\u00e0 m\u1ed9t l\u1ef1a ch\u1ecdn t\u1ed3i s\u1ebd d\u1eabn \u0111\u1ebfn th\u1eddi gian s\u1eadp k\u00e9o d\u00e0i, g\u00e2y \u1ea3nh h\u01b0\u1edfng x\u1ea5u \u0111\u1ebfn ng\u01b0\u1eddi d\u00f9ng, th\u1eadm ch\u00ed m\u1ea5t d\u1eef li\u1ec7u ch\u1ee9 kh\u00f4ng ph\u1ea3i ch\u01a1i.</p>"},{"location":"ByteByteGo/choose_database/choose_database/#co-can-thiet-khong","title":"C\u00f3 c\u1ea7n thi\u1ebft kh\u00f4ng?","text":"<p>\u0110\u1ea7u ti\u00ean, ta c\u1ea7n tr\u1ea3 l\u1eddi c\u00e1c c\u00e2u h\u1ecfi sau:</p> <ul> <li>Ta c\u00f3 th\u1ef1c s\u1ef1 c\u1ea7n m\u1ed9t database kh\u00e1c hay kh\u00f4ng? </li> <li>C\u00f3 l\u00fd do g\u00ec \u0111\u1ee7 thuy\u1ebft ph\u1ee5c \u0111\u1ec3 thay \u0111\u1ed5i database kh\u00f4ng? </li> <li>Database hi\u1ec7n t\u1ea1i c\u00f3 \u0111ang \u0111\u1ea1t \u0111\u1ebfn gi\u1edbi h\u1ea1n hay kh\u00f4ng? C\u00f3 th\u1ec3 \u0111\u1ed9 tr\u1ec5 p95 \u0111ang qu\u00e1 cao. C\u00f3 th\u1ec3 b\u1ed9 nh\u1edb database b\u00e2y gi\u1edd \u0111ang qu\u00e1 t\u1ea3i, v\u00e0 m\u1ed9t request \u0111\u01a1n gi\u1ea3n c\u0169ng c\u1ea7n r\u1ea5t nhi\u1ec1u th\u1eddi gian. </li> </ul> <p>B\u1ea5t k\u1ec3 v\u1ea5n \u0111\u1ec1 c\u00f3 l\u00e0 g\u00ec \u0111i n\u1eefa, h\u00e3y ch\u1eafc ch\u1eafn r\u1eb1ng ch\u00fang kh\u00f4ng d\u1ec5 gi\u1ea3i quy\u1ebft v\u1edbi database hi\u1ec7n t\u1ea1i. </p> <p>H\u00e3y \u0111\u1ecdc \u0111i \u0111\u1ecdc l\u1ea1i h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng c\u1ee7a database hi\u1ec7n t\u1ea1i. S\u1ebd c\u00f3 th\u1ec3 c\u00f3 m\u1ed9t ho\u1eb7c hai \u0111i\u1ec3m g\u00ec \u0111\u00f3 c\u00f3 th\u1ec3 gi\u1ea3i quy\u1ebft s\u01a1 b\u1ed9 v\u1ea5n \u0111\u1ec1 c\u1ee7a ch\u00fang ta. Vi\u1ec7c n\u00e0y r\u1ea5t h\u1eefu \u00edch, v\u00ec chuy\u1ec3n \u0111\u1ed5i database t\u1ed1n r\u1ea5t nhi\u1ec1u th\u1eddi gian, th\u01b0\u1eddng l\u00e0 nhi\u1ec1u h\u01a1n b\u1ea1n ngh\u0129. C\u00e1c \u0111i\u1ec3m m\u1ea5u ch\u1ed1t n\u00e0y c\u00f3 th\u1ec3 l\u00e0 vi\u1ec7c \u0111i\u1ec1u ch\u1ec9nh k\u00edch th\u01b0\u1edbc b\u1ed9 nh\u1edb, ch\u1ecdn m\u1ed9t ki\u1ec3u n\u00e9n d\u1eef li\u1ec7u kh\u00e1c ho\u1eb7c m\u1ed9t ki\u1ec3u garbage collection kh\u00e1c ch\u1eb3ng h\u1ea1n. Database r\u1ea5t ph\u1ee9c t\u1ea1p v\u00e0 c\u00f3 t\u00ednh \u0111i\u1ec1u ch\u1ec9nh cao. H\u00e3y ch\u1eafc r\u1eb1ng b\u1ea1n hi\u1ec3u \u0111\u01b0\u1ee3c database hi\u1ec7n t\u1ea1i, hi\u1ec3u \u0111\u01b0\u1ee3c gi\u1edbi h\u1ea1n c\u1ee7a n\u00f3.</p> <p>H\u1ecfi c\u00e1c chuy\u00ean gia trong c\u1ed9ng \u0111\u1ed3ng. M\u00f4 t\u1ea3 v\u1ea5n \u0111\u1ec1 c\u1ee7a b\u1ea1n. Ai bi\u1ebft s\u1ebd tr\u1ea3 l\u1eddi, th\u01b0\u1eddng l\u00e0 theo nh\u1eefng c\u00e1ch r\u1ea5t b\u1ea5t ng\u1edd.</p> <p>\u0110\u1ec3 t\u00ecm th\u00eam m\u1ed9t s\u1ed1 kho\u1ea3ng tr\u1ed1ng ch\u01b0a \u0111\u01b0\u1ee3c khai th\u00e1c, c\u00f3 th\u1ec3 s\u1ebd c\u00f3 m\u1ed9t s\u1ed1 b\u1ea3n v\u00e1 cho ki\u1ebfn tr\u00fac \u1ee9ng d\u1ee5ng, gi\u00fap ta c\u00f3 l\u1ed1i tho\u00e1t. C\u00f3 th\u1ec3 th\u00eam m\u1ed9t cache tr\u01b0\u1edbc n\u00f3, v\u00e0 cho ta th\u00eam v\u00e0i th\u00e1ng nghi\u00ean c\u1ee9u kh\u00f4ng? C\u00f3 th\u1ec3 th\u00eam v\u00e0i replica \u0111\u1ec3 gi\u1ea3m t\u1ea3i vi\u1ec7c \u0111\u1ecdc d\u1eef li\u1ec7u kh\u00f4ng? C\u00f3 th\u1ec3 shard database ho\u1eb7c partition n\u00f3 theo c\u00e1ch n\u00e0o \u0111\u00f3 kh\u00f4ng? \u0110i\u1ec3m quan tr\u1ecdng l\u00e0: Chuy\u1ec3n \u0111\u1ed5i database tr\u00ean m\u00f4i tr\u01b0\u1eddng live r\u1ea5t r\u1ee7i ro v\u00e0 t\u1ed1n k\u00e9m. Ta c\u1ea7n ch\u1eafc r\u1eb1ng kh\u00f4ng c\u00f3 c\u00e1ch n\u00e0o \u0111\u1ec3 ti\u1ebfp t\u1ee5c d\u00f9ng database hi\u1ec7n t\u1ea1i n\u1eefa.</p>"},{"location":"ByteByteGo/choose_database/choose_database/#lam-sao-chon-database-moi","title":"L\u00e0m sao ch\u1ecdn database m\u1edfi?","text":"<p>Ok, gi\u1edd coi nh\u01b0 ta \u0111\u00e3 h\u1ebft c\u00e1ch v\u1edbi database hi\u1ec7n t\u1ea1i. Ch\u1ecdn c\u00e1i m\u1edbi sao \u0111\u00e2y? </p> <p>Nh\u1eefng dev nh\u01b0 ch\u00fang ta th\u01b0\u1eddng b\u1ecb thu h\u00fat b\u1edfi c\u00e1i m\u1edbi, nh\u01b0 nh\u1eefng con thi\u00eau th\u00e2n lao v\u00e0o ng\u1ecdn l\u1eeda. Nh\u01b0ng khi nh\u1eafc \u0111\u1ebfn database, c\u00e0ng ch\u00e1n th\u00ec c\u00e0ng t\u1ed1t. Ta n\u00ean ch\u1ecdn nh\u1eefng c\u00e1i n\u00e0o l\u00e2u \u0111\u1eddi v\u00e0 \u0111\u00e3 \u0111\u01b0\u1ee3c test k\u1ef9. B\u1ea5t k\u1ec3 m\u1ea3ng b\u1ea1n \u0111ang l\u00e0m l\u00e0 g\u00ec, s\u1ebd c\u00f3 m\u1ed9t c\u1ed9ng \u0111\u1ed3ng v\u00e0 th\u1ecb tr\u01b0\u1eddng v\u1edbi nh\u1eefng nh\u00e0 qu\u1ea3n tr\u1ecb v\u00e0 dev c\u00f3 kinh nghi\u1ec7m v\u1edbi lo\u1ea1i database m\u00e0 ta \u0111ang c\u00e2n nh\u1eafc.</p> <p>Ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m l\u00e0 v\u1ec1 s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i. Khi nh\u1eafc \u0111\u1ebfn database, n\u00f3 c\u00e0ng \u0111\u00fang h\u01a1n. C\u1ea7n nh\u1edb l\u00e0 kh\u00f4ng c\u00f3 g\u00ec mi\u1ec5n ph\u00ed h\u1ebft. C\u1ea9n th\u1eadn v\u1edbi nh\u1eefng l\u1eddi ti\u1ebfp th\u1ecb th\u00e1i qu\u00e1. S\u1ebd lu\u00f4n c\u00f3 nh\u1eefng chi ph\u00ed \u1ea9n sau nh\u1eefng l\u1eddi c\u00f3 c\u00e1nh nh\u01b0 \"kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng \u0111\u1ebfn v\u00f4 h\u1ea1n m\u00e0 kh\u00f4ng t\u1ed1n c\u00f4ng s\u1ee9c\". H\u00e3y \u0111\u00e0o s\u00e2u nghi\u00ean c\u1ee9u \u0111\u1ec3 xem b\u1ea1n c\u1ea7n \u0111\u00e1nh \u0111\u1ed5i g\u00ec. H\u00e3y \u0111\u1ecdc h\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng thay v\u00ec xem m\u1ed7i qu\u1ea3ng c\u00e1o. \u1ede \u0111\u00f3 th\u01b0\u1eddng s\u1ebd c\u00f3 m\u1ed9t ph\u1ea7n g\u1ecdi l\u00e0 \"Gi\u1edbi h\u1ea1n\" (Limits). Ph\u1ea7n FAQ c\u0169ng r\u1ea5t h\u1eefu \u00edch. C\u00e1c ph\u1ea7n n\u00e0y l\u00e0 n\u01a1i nh\u1eefng gi\u1edbi h\u1ea1n c\u1ee7a database th\u1ef1c s\u1ef1 \u0111\u01b0\u1ee3c ph\u01a1i b\u00e0y.</p> <p></p> <p>Theo kinh nghi\u1ec7m c\u1ee7a ch\u00fang t\u00f4i, c\u00e0ng tuy\u00ean b\u1ed1 h\u1ea5p d\u1eabn th\u00ec c\u00e1c tuy\u00ean b\u1ed1 t\u1eeb ch\u1ed1i tr\u00e1ch nhi\u1ec7m (disclaimers) c\u00e0ng d\u00e0i h\u01a1n \u1edf sau. V\u00ed d\u1ee5, nhi\u1ec1u database NoSQL h\u1ed7 tr\u1ee3 m\u1edf r\u1ed9ng nhi\u1ec1u h\u01a1n so v\u1edbi c\u00e1c database quan h\u1ec7 c\u0169. Ch\u00fang th\u01b0\u1eddng tuy\u00ean b\u1ed1 r\u1eb1ng c\u00f3 th\u1ec3 h\u1ed7 tr\u1ee3 m\u1edf r\u1ed9ng theo chi\u1ec1u ngang g\u1ea7n nh\u01b0 l\u00e0 tuy\u1ebfn t\u00ednh. Tuy nhi\u00ean, \u0111i \u0111\u00f4i v\u1edbi \u0111\u00f3 l\u00e0 nh\u1eefng \u0111\u00e1nh \u0111\u1ed5i nh\u01b0 sau. M\u1ed9t, ch\u00fang lo\u1ea1i b\u1ecf ho\u1eb7c h\u1ea1n ch\u1ebf vi\u1ec7c \u0111\u1ea3m b\u1ea3o t\u00ednh transactional. Hai, ch\u00fang h\u1ea1n ch\u1ebf nghi\u00eam tr\u1ecdng t\u00ednh linh ho\u1ea1t c\u1ee7a m\u00f4 h\u00ecnh d\u1eef li\u1ec7u. Kh\u00f4ng c\u00f3 truy v\u1ea5n n\u00e0o gi\u1eefa c\u00e1c data entity. Data b\u1ecb denormalize khi c\u00f9ng m\u1ed9t data \u0111\u01b0\u1ee3c l\u01b0u t\u1ea1i nhi\u1ec1u collection kh\u00e1c nhau \u0111\u1ec3 h\u1ed7 tr\u1ee3 nhi\u1ec1u ki\u1ec3u truy c\u1eadp data kh\u00e1c nhau. </p> <p></p> <p>\u0110\u1ec3 bi\u1ebft th\u00eam v\u1ec1 m\u1ed9t lo\u1ea1i database n\u00e0o \u0111\u00f3, gia nh\u1eadp nh\u00f3m chat. H\u1ecfi nhi\u1ec1u c\u00e2u h\u1ecfi. V\u1edbi c\u00e1c project m\u00e3 ngu\u1ed3n m\u1edf, \u0111\u1ecdc GitHub issues. C\u1ed1 g\u1eafng bi\u1ebft c\u00e0ng nhi\u1ec1u c\u00e0ng t\u1ed1t v\u1ec1 c\u00e1c \u1ee9ng vi\u00ean database m\u00e0 ta \u0111ang c\u00e2n nh\u1eafc. Th\u1eddi gian \u0111\u1ea7u t\u01b0 v\u00e0o cho \u0111\u1ebfn gi\u1edd gi\u1edd v\u1eabn t\u01b0\u01a1ng \u0111\u1ed1i nh\u1ecf \u0111\u1ea5y.</p>"},{"location":"ByteByteGo/choose_database/choose_database/#test-database-moi-sao-ay","title":"Test database m\u1edfi sao \u0111\u00e2y?","text":"<p>R\u1ed3i, gi\u1edd ta \u0111\u00e3 c\u00f3 m\u1ed9t s\u1ed1 \u00edt \u1ee9ng vi\u00ean c\u00f2n s\u00f3t l\u1ea1i, ti\u1ebfp theo l\u00e0m g\u00ec? </p> <p>T\u1ea1o bench test v\u1edbi data c\u1ee7a ch\u00ednh ch\u00fang ta cho m\u1ed7i \u1ee9ng vi\u00ean, v\u1edbi ki\u1ec3u truy c\u1eadp nh\u01b0 th\u1ef1c t\u1ebf lu\u00f4n. Ta c\u00f3 data \u0111\u00f3 m\u00e0 ph\u1ea3i kh\u00f4ng? D\u00f9 sao th\u00ec database hi\u1ec7n t\u1ea1i c\u0169ng \u0111ang qu\u00e1 t\u1ea3i r\u1ed3i, n\u00ean c\u00f3 m\u1ed9t t\u1eadp data t\u01b0\u1ee3ng tr\u01b0ng c\u0169ng l\u00e0 c\u00f3 th\u1ec3. \u0110\u00fang, \u0111i\u1ec1u n\u00e0y s\u1ebd t\u1ed1n k\u00e9m, v\u00e0 c\u00f3 th\u1ec3 m\u1ea5t h\u00e0ng tu\u1ea7n, nh\u01b0ng kh\u00f4ng th\u1ec3 b\u1ecf qua b\u01b0\u1edbc n\u00e0y. Vi\u1ec7c chuy\u1ec3n \u0111\u1ed5i database tr\u00ean live r\u1ea5t r\u1ee7i ro, v\u00e0 s\u1ebd t\u1ed1n nhi\u1ec1u c\u00f4ng s\u1ee9c h\u01a1n l\u00e0 vi\u1ec7c benchmark. N\u1ebfu ta \u0111ang \u0111\u00e1nh c\u01b0\u1ee3c s\u1ef1 nghi\u1ec7p v\u00e0o c\u00e1i n\u00e0y, h\u00e3y ch\u1eafc ch\u1eafn l\u00e0 n\u00f3 ho\u1ea1t \u0111\u1ed9ng. </p> <p>Trong khi benchmark, h\u00e3y ch\u00fa \u00fd \u0111\u1ebfn c\u00e1c ngo\u1ea1i l\u1ec7. \u0110o p99 c\u1ee7a m\u1ecdi th\u1ee9. p50 kh\u00f4ng c\u00f3 \u00fd ngh\u0129a g\u00ec \u0111\u00e2u. C\u1ed1 g\u1eafng m\u00f4 ph\u1ecfng l\u1ea1i m\u00f4i tr\u01b0\u1eddng live, v\u00e0 \u0111\u1ea9y gi\u1edbi h\u1ea1n \u0111i xa h\u01a1n xem n\u00f3 ch\u1ecbu \u0111\u01b0\u1ee3c \u0111\u1ebfn \u0111\u00e2u. </p> <p></p> <p>Th\u1eed m\u1ed9t s\u1ed1 t\u00e1c v\u1ee5 v\u1eadn h\u00e0nh r\u1ee7i ro h\u01a1n, nh\u01b0 ph\u00e1 h\u1ecfng m\u1ed9t node, ho\u1eb7c test xem c\u00f3 h\u1ecfng data khi b\u1ecb ph\u00e2n v\u00f9ng d\u1eef li\u1ec7u kh\u00f4ng. Th\u1eed t\u0103ng, gi\u1ea3m sharding, n\u1ebfu c\u00f3 th\u1ec3. Sau khi ki\u1ec3m tra h\u1ebft, l\u00ean k\u1ebf ho\u1ea1ch chuy\u1ec3n \u0111\u1ed5i database c\u1ea9n th\u1eadn. Vi\u1ebft ra m\u1ed9t k\u1ebf ho\u1ea1ch chuy\u1ec3n \u0111\u1ed5i t\u1eebng b\u01b0\u1edbc v\u00e0 nh\u1edd \u0111\u1ed3ng nghi\u1ec7p review l\u1ea1i cho c\u1ea9n th\u1eadn. N\u1ebfu c\u00f3 th\u1ec3, chuy\u1ec3n m\u1ed9t service nh\u1ecf tr\u01b0\u1edbc, v\u00e0 l\u1ea5y th\u1eadt nhi\u1ec1u th\u00f4ng tin t\u1eeb n\u00f3.</p> <p>Ch\u1ecdn ra m\u1ed9t database \u0111\u00fang kh\u00f4ng h\u1ec1 h\u1ea5p d\u1eabn t\u00ed n\u00e0o, v\u00e0 t\u1ed1n r\u1ea5t nhi\u1ec1u c\u00f4ng s\u1ee9c. Chuy\u1ec3n \u0111\u1ed5i sang m\u1ed9t database m\u1edbi trong th\u1ef1c t\u1ebf c\u00f3 th\u1ec3 m\u1ea5t nhi\u1ec1u n\u0103m \u1edf quy m\u00f4 l\u1edbn. Ch\u00fac may m\u1eafn.</p>"},{"location":"ByteByteGo/ci_cd/ci_cd/","title":"CI/CD l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/ci_cd/ci_cd/#nguon","title":"Ngu\u1ed3n","text":"<p> CI/CD In 5 Minutes | Is It Worth The Hassle: Crash Course System Design #2</p>"},{"location":"ByteByteGo/ci_cd/ci_cd/#tong-quan-ve-cicd","title":"T\u1ed5ng quan v\u1ec1 CI/CD","text":"<p>CI/CD (Continuous Integration / Continuous Delivery, l\u01b0\u1ee3c d\u1ecbch l\u00e0 T\u00edch h\u1ee3p Li\u00ean t\u1ee5c / Ph\u00e2n ph\u1ed1i Li\u00ean t\u1ee5c) t\u1ef1 \u0111\u1ed9ng ho\u00e1 quy tr\u00ecnh ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m t\u1eeb code ban \u0111\u1ea7u cho \u0111\u1ebfn khi deploy (tri\u1ec3n khai). N\u00f3 lo\u1ea1i b\u1ecf ph\u1ea7n l\u1edbn s\u1ef1 can thi\u1ec7p th\u1ee7 c\u00f4ng c\u1ee7a con ng\u01b0\u1eddi \u0111\u1ec3 \u0111\u01b0a code m\u1edbi l\u00ean m\u00f4i tr\u01b0\u1eddng live.</p> <p></p> <p>CI/CD \u0111\u1ea3m nhi\u1ec7m vi\u1ec7c build, test v\u00e0 deploy code m\u1edbi v\u00e0o m\u00f4i tr\u01b0\u1eddng live. V\u1ec1 m\u1eb7t l\u00fd thuy\u1ebft th\u00ec n\u00f3 cho ph\u00e9p c\u00e1c nh\u00f3m dev deploy ph\u1ea7n m\u1ec1m nhanh h\u01a1n. Nghe c\u00f3 v\u1ebb hay nh\u01b0ng c\u00f3 th\u1ef1c s\u1ef1 l\u00e0 nh\u01b0 v\u1eady kh\u00f4ng?</p> <p>C\u00e2u tr\u1ea3 l\u1eddi l\u00e0 c\u00f2n tu\u1ef3. C\u00f9ng xem x\u00e9t t\u1eebng ph\u1ea7n c\u1ee7a CI/CD nh\u00e9.</p>"},{"location":"ByteByteGo/ci_cd/ci_cd/#ci","title":"CI","text":"<p>CI \u00edt g\u00e2y tranh c\u00e3i h\u01a1n v\u00e0 n\u00f3 c\u0169ng ph\u1ed5 bi\u1ebfn h\u01a1n CD. S\u01a1 s\u01a1 th\u00ec n\u00f3 l\u00e0 c\u00e1ch s\u1eed d\u1ee5ng t\u1ef1 d\u1ed9ng ho\u00e1 \u0111\u1ec3 cho ph\u00e9p c\u00e1c team h\u1ee3p nh\u1ea5t thay \u0111\u1ed5i v\u1ec1 code v\u00e0o repository (kho l\u01b0u tr\u1eef) s\u1edbm h\u01a1n v\u00e0 th\u01b0\u1eddng xuy\u00ean h\u01a1n. M\u1ed7i commit s\u1ebd k\u00edch ho\u1ea1t m\u1ed9t quy tr\u00ecnh l\u00e0m vi\u1ec7c t\u1ef1 \u0111\u1ed9ng tr\u00ean m\u1ed9t m\u00e1y ch\u1ee7 CI, m\u00e1y ch\u1ee7 n\u00e0y sau \u0111\u00f3 ch\u1ea1y m\u1ed9t lo\u1ea1t c\u00e1c t\u00e1c v\u1ee5 \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o r\u1eb1ng commit \u0111\u1ee7 an to\u00e0n \u0111\u1ec3 merge v\u00e0o main branch.</p> <p></p> <p>M\u1ed9t quy tr\u00ecnh CI t\u1ed1t d\u1ef1a tr\u00ean m\u1ed9t t\u1eadp c\u00e1c test ngon l\u00e0nh. S\u1ebd kh\u00f4ng d\u1ec5 \u0111\u1ec3 duy tr\u00ec m\u1ed9t t\u1eadp c\u00e1c test nh\u01b0 v\u1eady v\u1edbi ph\u1ea1m vi bao ph\u1ee7 (coverage) \u0111\u1ea7y \u0111\u1ee7. Ph\u1ea1m vi test cao th\u01b0\u1eddng m\u1ea5t nhi\u1ec1u th\u1eddi gian h\u01a1n \u0111\u1ec3 ch\u1ea1y. \u0110i\u1ec1u n\u00e0y \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn n\u0103ng su\u1ea5t ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m. Kh\u00e1 kh\u00f3 \u0111\u1ec3 c\u00e2n b\u1eb1ng vi\u1ec7c n\u00e0y nh\u01b0ng c\u0169ng \u0111\u00e1ng \u0111\u1ec3 l\u00e0m cho t\u1ed1t.</p> <p>C\u00e1c c\u00f4ng c\u1ee5 ph\u1ed5 bi\u1ebfn trong CI bao g\u1ed3m nh\u1eefng g\u00ec? M\u1ed9t h\u1ec7 th\u1ed1ng qu\u1ea3n l\u00fd m\u00e3 ngu\u1ed3n t\u1ed1t s\u1ebd l\u00e0 n\u1ec1n t\u1ea3ng ph\u00e1t tri\u1ec3n. GitHub l\u00e0 m\u1ed9t v\u00ed d\u1ee5 r\u1ea5t n\u1ed5i ti\u1ebfng. N\u00f3 ch\u1ee9 m\u1ecdi th\u1ee9 c\u1ea7n \u0111\u1ec3 x\u00e2y d\u1ef1ng ph\u1ea7n m\u1ec1m. N\u00f3 bao g\u1ed3m m\u00e3 ngu\u1ed3n, t\u1eadp l\u1ec7nh test, v\u00e0 c\u00e1c t\u1eadp l\u1ec7nh \u0111\u1ec3 build c\u00e1c \u1ee9ng d\u1ee5ng ph\u1ea7n m\u1ec1m.</p> <p></p> <p>C\u00f3 nhi\u1ec1u c\u00f4ng c\u1ee5 \u0111\u1ec3 qu\u1ea3n l\u00fd quy tr\u00ecnh CI. GitHub Actions v\u00e0 Buildkite l\u00e0 m\u1ed9t s\u1ed1 v\u00ed d\u1ee5. Jenkins, CircleCI v\u00e0 TravisCI c\u0169ng ngon. C\u00e1c c\u00f4ng c\u1ee5 n\u00e0y qu\u1ea3n l\u00fd build v\u00e0 c\u00e1c t\u00e1c v\u1ee5 test trong CI. </p> <p>C\u00f3 nhi\u1ec1u c\u00f4ng c\u1ee5 test \u0111\u1ec3 vi\u1ebft v\u00e0 ch\u1ea1y test. C\u00e1c c\u00f4ng c\u1ee5 n\u00e0y th\u01b0\u1eddng thi\u00ean v\u1ec1 m\u1ed9t ng\u00f4n ng\u1eef v\u00e0 h\u1ec7 sinh th\u00e1i c\u1ee5 th\u1ec3 n\u00e0o \u0111\u00f3. V\u00ed d\u1ee5, v\u1edbi JS, Jest l\u00e0 m\u1ed9t v\u00ed d\u1ee5 v\u1ec1 framework unit test, trong khi \u0111\u00f3, playwright v\u00e0 cypress l\u00e0 c\u00e1c framework integration test cho \u1ee9ng d\u1ee5ng web. </p> <p>C\u00e1c c\u00f4ng c\u1ee5 build c\u00f2n \u0111a d\u1ea1ng h\u01a1n v\u00e0 thi\u00ean v\u1ec1 m\u1ed9t h\u1ec7 sinh th\u00e1i c\u1ee5 th\u1ec3. Gradle l\u00e0 m\u1ed9t c\u00f4ng c\u1ee5 build m\u1ea1nh m\u1ebd cho Java. H\u1ec7 sinh th\u00e1i build cho JavaScript b\u1ecb ph\u00e2n m\u1ea3nh v\u00e0 kh\u00f3 theo d\u00f5i. Webpack l\u00e0 ti\u00eau chu\u1ea9n, nh\u01b0ng nhi\u1ec1u c\u00f4ng c\u1ee5 build m\u1edbi l\u1ea1i cho l\u00e0 m\u00ecnh nhanh h\u01a1n, nh\u01b0ng ch\u01b0a th\u1ec3 c\u00f3 t\u00ednh m\u1edf r\u1ed9ng cao nh\u01b0 Webpack.</p> <p></p>"},{"location":"ByteByteGo/ci_cd/ci_cd/#cd","title":"CD","text":"<p>Th\u1ef1c ra, \u0111\u1ea1t \u0111\u01b0\u1ee3c CD th\u1ef1c s\u1ef1 r\u1ea5t l\u00e0 kh\u00f3. C\u00f3 t\u1ed3n t\u1ea1i chuy\u1ec7n \u0111\u00f3, nh\u01b0ng th\u1ef1c t\u1ebf kh\u00f4ng ph\u1ed5 bi\u1ebfn nh\u01b0 CI.</p> <p></p> <p>Nhi\u1ec1u team ch\u1ec9 th\u1ef1c h\u00e0nh CD trong nh\u1eefng lo\u1ea1i h\u1ec7 th\u1ed1ng c\u01a1 b\u1ea3n nh\u1ea5t. C\u00e1c h\u1ec7 th\u00f4ng n\u00e0y th\u01b0\u1eddng stateless, nh\u01b0 API server ho\u1eb7c web server. V\u1edbi vi\u1ec7c gi\u00e1m s\u00e1t t\u1ed1t tr\u00ean live, c\u00e1c h\u1ec7 th\u1ed1ng n\u00e0y c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c tri\u1ec3n khai li\u00ean t\u1ee5c v\u1edbi r\u1ee7i ro t\u1ed1i thi\u1ec3u. Ch\u00fang stateless, v\u00e0 rollback c\u0169ng nhanh v\u00e0 \u00edt \u1ea3nh h\u01b0\u1edfng.</p> <p></p> <p>Vi\u1ec7c \u0111\u1eb7t c\u1edd \u0111\u1ec3 b\u1eadt t\u1eaft t\u00ednh n\u0103ng m\u1edbi c\u0169ng ph\u1ed5 bi\u1ebfn, n\u00f3 gi\u00fap t\u00e1ch b\u1ea1ch vi\u1ec7c ph\u00e1t tri\u1ec3n v\u00e0 k\u00edch ho\u1ea1t t\u00ednh n\u0103ng. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p ta c\u00f3 th\u1ec3 nhanh ch\u00f3ng t\u1eaft t\u00ednh n\u0103ng m\u1edbi n\u1ebfu c\u00f3 v\u1ea5n \u0111\u1ec1 m\u00e0 kh\u00f4ng c\u1ea7n ph\u1ea3i rollback. </p> <p></p> <p>Tri\u1ec3n khai Canary c\u0169ng l\u00e0 m\u1ed9t vi\u1ec7c ph\u1ed5 bi\u1ebfn cho nh\u1eefng s\u1ea3n ph\u1ea9m v\u1edbi h\u00e0ng tr\u0103m tri\u1ec7u ng\u01b0\u1eddi d\u00f9ng. N\u00f3 tri\u1ec3n khai code m\u1edbi cho m\u1ed9t nh\u00f3m nh\u1ecf ng\u01b0\u1eddi d\u00f9ng th\u00e0nh th\u1ea1o v\u00e0 c\u00e1c nh\u00e2n vi\u00ean - nh\u1eefng ng\u01b0\u1eddi \u0111\u00e1nh gi\u00e1 cao c\u00e1c t\u00ednh n\u0103ng m\u1edbi v\u00e0 s\u1eb5n s\u00e0ng ch\u1ea5p nh\u1eadn r\u1ee7i ro \u0111\u1ec3 gi\u00fap ph\u00e1t hi\u1ec7n c\u00e1c s\u1ef1 c\u1ed1 tr\u01b0\u1edbc khi code m\u1edbi \u0111\u01b0\u1ee3c \u0111\u01b0a v\u00e0o s\u1eed d\u1ee5ng r\u1ed9ng r\u00e3i. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p team c\u00f3 th\u1ec3 test code m\u1edbi trong th\u1ebf gi\u1edbi th\u1ef1c, \u0111\u1ed3ng th\u1eddi h\u1ea1n ch\u1ebf thi\u1ec7t h\u1ea1i khi c\u00f3 v\u1ea5n \u0111\u1ec1 ph\u00e1t sinh. Nh\u1eefng k\u1ef9 thu\u1eadt n\u00e0y ho\u1ea1t \u0111\u1ed9ng t\u1ed1t cho c\u00e1c h\u1ec7 th\u1ed1ng stateless \u0111\u01a1n gi\u1ea3n.</p> <p></p> <p>M\u1eb7t kh\u00e1c, r\u1ea5t \u00edt team c\u00f3 t\u00e0i nguy\u00ean ho\u1eb7c ni\u1ec1m tin \u0111\u1ec3 d\u00f9ng CD trong c\u00e1c h\u1ec7 th\u1ed1ng stateful ph\u1ee9c t\u1ea1p nh\u01b0 c\u1ee5m database backend ho\u1eb7c c\u1ee5m websocket. Thay v\u00e0o \u0111\u00f3, c\u00e1c h\u1ec7 th\u1ed1ng n\u00e0y th\u01b0\u1eddng c\u00f3 quy tr\u00ecnh tri\u1ec3n khai \u1ed5n \u0111\u1ecbnh, th\u1ee7 c\u00f4ng, r\u1ee7i ro v\u00e0 t\u1ed1n th\u1eddi gian. C\u1ea7n m\u1ed9t team chuy\u00ean bi\u1ec7t \u0111\u1ec3 lo vi\u1ec7c n\u00e0y. R\u1ea5t hi\u1ebfm khi th\u1ea5y c\u00e1c h\u1ec7 th\u1ed1ng tri\u1ec3n khai li\u00ean t\u1ee5c v\u00e0 t\u1ef1 \u0111\u1ed9ng.</p> <p></p> <p>C\u00f3 nhi\u1ec1u c\u00f4ng c\u1ee5 d\u00f9ng cho CD. C\u00e1c c\u00f4ng c\u1ee5 \u1edf tr\u00ean nh\u01b0 GitHub Actions, Buildkite v\u00e0 Jenkins \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nhi\u1ec1u cho c\u00e1c t\u00e1c v\u1ee5 CD. Ngo\u00e0i ra c\u00f2n c\u00f3 c\u00e1c c\u00f4ng c\u1ee5 d\u00e0nh ri\u00eang cho c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng \u0111\u1ec3 gi\u00fap CD d\u1ec5 b\u1ea3o tr\u00ec h\u01a1n. V\u00ed d\u1ee5, tr\u00ean Kubenetes, ArgoCD r\u1ea5t hay \u0111\u01b0\u1ee3c d\u00f9ng.</p> <p></p> <p>T\u00f3m l\u1ea1i, CI/CD l\u00e0 m\u1ed9t ph\u01b0\u01a1ng ph\u00e1p ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m m\u1ea1nh m\u1ebd c\u00f3 th\u1ec3 gi\u00fap c\u00e1c team ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m nhanh v\u00e0 c\u00f3 ch\u1ea5t l\u01b0\u1ee3ng t\u1ed1t h\u01a1n. Tuy nhi\u00ean, \u0111\u00e2y kh\u00f4ng ph\u1ea3i l\u00e0 gi\u1ea3i ph\u00e1p cho m\u1ecdi v\u1ea5n \u0111\u1ec1 v\u00e0 vi\u1ec7c tri\u1ec3n khai gi\u1ea3i ph\u00e1p n\u00e0y c\u00f3 th\u1ec3 kh\u00e1c nhau tu\u1ef3 v\u00e0o m\u1ee9c \u0111\u1ed9 ph\u1ee9c t\u1ea1p c\u1ee7a h\u1ec7 th\u1ed1ng.</p>"},{"location":"ByteByteGo/computer_memory_and_storage/computer_memory_and_storage/","title":"B\u1ed9 nh\u1edb v\u00e0 \u1ed5 c\u1ee9ng trong m\u00e1y t\u00ednh","text":""},{"location":"ByteByteGo/computer_memory_and_storage/computer_memory_and_storage/#nguon","title":"Ngu\u1ed3n","text":"<p> 10+ Key Memory &amp; Storage Systems: Crash Course System Design #5</p>"},{"location":"ByteByteGo/computer_memory_and_storage/computer_memory_and_storage/#bo-nho","title":"B\u1ed9 nh\u1edb","text":"<p>\u0110\u1ea7u ti\u00ean ta c\u00f3 c\u1eb7p \u0111\u00f4i c\u01a1 b\u1ea3n l\u00e0 RAM v\u00e0 ROM</p> <p>RAM (Random Access Memory - b\u1ed9 nh\u1edb truy c\u1eadp ng\u1eabu nhi\u00ean) l\u00e0 lo\u1ea1i b\u1ed9 nh\u1edb ch\u1ec9 l\u01b0u data t\u1ea1m th\u1eddi khi m\u00e1y t\u00ednh \u0111ang ch\u1ea1y. RAM nhanh v\u00e0 c\u00f3 t\u00ednh linh \u0111\u1ed9ng, gi\u00fap chuy\u1ec3n \u0111\u1ed5i tr\u1ea1ng th\u00e1i gi\u1eefa t\u1ea5t c\u1ea3 c\u00e1c ch\u01b0\u01a1ng tr\u00ecnh \u0111ang ch\u1ea1y t\u1ea1i b\u1ea5t c\u1ee9 th\u1eddi \u0111i\u1ec3m n\u00e0o. Tuy nhi\u00ean, data trong RAM s\u1ebd m\u1ea5t \u0111i n\u1ebfu ta t\u1eaft m\u00e1y t\u00ednh.</p> <p>ROM (Read-Only Memory - b\u1ed9 nh\u1edb ch\u1ec9 \u0111\u1ecdc) l\u00e0 lo\u1ea1i b\u1ed9 nh\u1edb gi\u1eef data ngay c\u1ea3 khi t\u1eaft m\u00e1y. N\u00f3 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 l\u01b0u c\u00e1c th\u00f4ng tin quan tr\u1ecdng nh\u01b0 BIOS hay firmware m\u00e0 m\u00e1y t\u00ednh c\u1ea7n \u0111\u1ec3 kh\u1edfi \u0111\u1ed9ng.</p> <p>RAM c\u00f3 c\u00e1c lo\u1ea1i kh\u00e1c nhau bao g\u1ed3m SRAM, DRAM v\u00e0 nh\u1eefng th\u1ee9 kh\u00e1c n\u1eefa. </p> <ul> <li>SRAM (Static Random Access Memory - b\u1ed9 nh\u1edb truy c\u1eadp ng\u1eabu nhi\u00ean t\u0129nh) l\u00e0 m\u1ed9t lo\u1ea1i RAM nhanh v\u00e0 \u0111\u1eaft ti\u1ec1n, s\u1eed d\u1ee5ng c\u00e1c c\u00f4ng c\u1ee5 t\u1ed1c \u0111\u1ed9 cao nh\u01b0 CPU cache, n\u01a1i m\u00e0 th\u1eddi gian truy c\u1eadp l\u00e0 c\u1ef1c k\u1ef3 quan tr\u1ecdng.</li> <li>DRAM (Dynamic Random Access Memory - b\u1ed9 nh\u1edb truy c\u1eadp ng\u1eabu nhi\u00ean \u0111\u1ed9ng) l\u00e0 m\u1ed9t lo\u1ea1i RAM ch\u1eadm v\u00e0 r\u1ebb h\u01a1n so v\u1edbi SRAM. N\u00f3 c\u1ea7n \u0111\u01b0\u1ee3c refresh th\u01b0\u1eddng xuy\u00ean \u0111\u1ec3 l\u01b0u tr\u1eef data, l\u00e0m cho n\u00f3 c\u00f3 t\u00ednh b\u1ea3o d\u01b0\u1ee1ng cao. <ul> <li>C\u00f3 nhi\u1ec1u lo\u1ea1i DRAM nh\u01b0: FPM DRAM, EDO DRAM, SDRAM v\u00e0 DDR SDRAM, v\u1edbi m\u1ed7i th\u1ebf h\u1ec7 mang l\u1ea1i cho ng\u01b0\u1eddi d\u00f9ng t\u1ed1c \u0111\u1ed9 v\u00e0 \u0111\u1ed9 hi\u1ec7u qu\u1ea3 cao h\u01a1n. M\u1ed9t s\u1ed1 lo\u1ea1i \u0111\u00e3 l\u1ed7i th\u1eddi, nh\u01b0 FPM DRAM hay EDO DRAM, v\u00e0 c\u00e1c lo\u1ea1i ph\u1ed5 bi\u1ebfn b\u00e2y gi\u1edd l\u00e0 c\u00e1c th\u1ebf h\u1ec7 DDR nh\u01b0 DDR4 v\u00e0 DDR5. </li> <li>GDDR SDRAM c\u0169ng \u0111\u00e0ng \u0111\u01b0\u1ee3c nh\u1eafc \u0111\u1ebfn. N\u00f3 l\u00e0 m\u1ed9t lo\u1ea1i RAM chuy\u00ean bi\u1ec7t \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u cho vi\u1ec7c truy\u1ec1n d\u1eef li\u1ec7u t\u1ed1c \u0111\u1ed9 cao. GPU c\u1ea7n \u0111i\u1ec1u n\u00e0y \u0111\u1ec3 x\u1eed l\u00fd song song \u1edf quy m\u00f4 l\u1edbn. GDDR6 \u0111\u01b0\u1ee3c d\u00f9ng nhi\u1ec1u nh\u1ea5t hi\u1ec7n nay.</li> </ul> </li> </ul> <p>ROM th\u00ec bao g\u1ed3m firmware v\u00e0 BIOS.</p> <ul> <li>Firmware l\u00e0 ph\u1ea7n m\u1ec1m \u0111\u01b0\u1ee3c l\u01b0u trong ROM \u0111\u1ec3 \u0111i\u1ec1u khi\u1ec3n c\u00e1c thi\u1ebft b\u1ecb ph\u1ea7n c\u1ee9ng giao ti\u1ebfp v\u1edbi nhau.</li> <li>BIOS (Basic Input / Output System) l\u00e0 ph\u1ea7n m\u1ec1m \u0111\u1ea7u ti\u00ean m\u00e1y t\u00ednh ch\u1ea1y khi kh\u1edfi \u0111\u1ed9ng. N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m kh\u1edfi \u0111\u1ed9ng m\u00e1y t\u00ednh, kh\u1edfi t\u1ea1o c\u00e1c th\u00e0nh ph\u1ea7n ph\u1ea7n c\u1ee9ng v\u00e0 giao l\u1ea1i quy\u1ec1n \u0111i\u1ec1u khi\u1ec3n cho h\u1ec7 \u0111i\u1ec1u h\u00e0nh.</li> </ul>"},{"location":"ByteByteGo/computer_memory_and_storage/computer_memory_and_storage/#o-cung","title":"\u1ed4 c\u1ee9ng","text":"<p>HDD (Hard Disk Drive) \u0111\u01b0\u1ee3c IBM gi\u1edbi thi\u1ec7u l\u1ea7n \u0111\u1ea7u v\u00e0o n\u0103m 1956. N\u00f3 \u0111\u1ecdc d\u1eef li\u1ec7u b\u1eb1ng c\u00e1ch quay \u0111\u0129a t\u1eeb v\u00e0 \u0111\u01b0\u1ee3c bi\u1ebft \u0111\u1ebfn v\u1edbi kh\u1ea3 n\u0103ng l\u01b0u tr\u1eef \u00edt v\u1edbi gi\u00e1 th\u00e0nh r\u1ebb.</p> <p>SSD (Solid State Drive) s\u1eed d\u1ee5ng c\u00f4ng ngh\u1ec7 d\u1ef1a tr\u00ean b\u1ed9 nh\u1edb \u0111i\u1ec7n t\u0129nh flash (NAND) \u0111\u1ec3 cho ra t\u1ed1c \u0111\u1ed9 truy c\u1eadp data nhanh h\u01a1n, gi\u1ea3m hao ph\u00ed \u0111i\u1ec7n n\u0103ng v\u00e0 t\u0103ng c\u01b0\u1eddng tu\u1ed5i th\u1ecd \u1ed5 \u0111\u0129a so v\u1edbi HDD, nh\u01b0ng v\u1edbi gi\u00e1 cao h\u01a1n.</p> <ul> <li>NVMe (Non-Volatile Memory Express) l\u00e0 interface hi\u1ec7u su\u1ea5t cao d\u00e0nh cho SSD. NVMe k\u1ebft n\u1ed1i tr\u1ef1c ti\u1ebfp \u0111\u1ebfn CPU qua c\u00e1c li\u00ean k\u1ebft PCIe. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p \u0111\u1ed9 tr\u1ec5 th\u1ea5p v\u00e0 t\u1ed1c \u0111\u1ed9 truy\u1ec1n data t\u0103ng m\u1ed9t c\u00e1ch \u0111\u00e1ng k\u1ec3, so v\u1edbi SATA SSD.</li> </ul> <p></p> <p>\u1ed4 USB l\u00e0 m\u1ed9t thi\u1ebft b\u1ecb nh\u1ecf m\u00e0 b\u1ea1n c\u00f3 th\u1ec3 c\u1eafm v\u00e0o c\u1ed5ng USB \u0111\u1ec3 g\u1eedi / nh\u1eadn data \u0111\u1ebfn / t\u1eeb thi\u1ebft b\u1ecb c\u00f3 c\u1ed5ng USB \u0111\u00f3. N\u00f3 r\u1ea5t d\u1ec5 d\u00f9ng v\u00e0 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 truy\u1ec1n data gi\u1eefa c\u00e1c m\u00e1y t\u00ednh v\u1edbi nhau.</p> <p>Th\u1ebb nh\u1edb SD l\u00e0 m\u1ed9t lo\u1ea1i th\u1ebb nh\u1ecf b\u1eb1ng con tem (ho\u1eb7c nh\u1ecf h\u01a1n nh\u01b0 Mini SD hay Micro SD), c\u00f3 kh\u1ea3 n\u0103ng ch\u1ee9a data \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 l\u01b0u tr\u1eef data trong m\u00e1y \u1ea3nh s\u1ed1 hay \u0111i\u1ec7n tho\u1ea1i th\u00f4ng minh. N\u00f3 c\u00f3 th\u1ec3 ch\u1ee9a h\u00e0ng tr\u0103m GB ho\u1eb7c th\u1eadm ch\u00ed v\u00e0i TB b\u1ed9 nh\u1edb.</p> <p></p>"},{"location":"ByteByteGo/debugging_techniques/debugging_techniques/","title":"C\u00e1c k\u0129 thu\u1eadt debug","text":""},{"location":"ByteByteGo/debugging_techniques/debugging_techniques/#nguon","title":"Ngu\u1ed3n","text":"<p> Debugging Like A Pro</p>"},{"location":"ByteByteGo/debugging_techniques/debugging_techniques/#mo-au","title":"M\u1edf \u0111\u1ea7u","text":"<p>B\u1ea1n c\u00f3 bao gi\u1edd t\u1ef1 h\u1ecfi v\u00ec sao \u1edf tr\u01b0\u1eddng ng\u01b0\u1eddi ta kh\u00f4ng d\u1ea1y g\u1ee1 l\u1ed7i (debug) hay kh\u00f4ng? Ph\u1ea7n l\u1edbn l\u1eadp tr\u00ecnh vi\u00ean h\u1ecdc debug th\u00f4ng qua c\u00f4ng vi\u1ec7c, v\u00e0 ch\u1ec9 c\u00f3 m\u1ed9t v\u00e0i thanh ni\u00ean may m\u1eafn c\u00f3 ng\u01b0\u1eddi h\u01b0\u1edbng d\u1eabn \u0111\u1ec3 ch\u1ec9 cho h\u1ecd debug nh\u01b0 n\u00e0o cho chu\u1ea9n.</p> <p>H\u00f4m nay, ta s\u1ebd nghi\u00ean c\u1ee9u m\u1ed9t c\u00e1ch ti\u1ebfp c\u1eadn c\u00f3 h\u1ec7 th\u1ed1ng cho vi\u1ec7c debug, b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng n\u00f3 nh\u01b0 m\u1ed9t checklist trong qu\u00e1 tr\u00ecnh debug c\u1ee7a ch\u00ednh b\u1ea3n th\u00e2n b\u1ea1n. Debug \u0111\u00f2i h\u1ecfi k\u1ec9 lu\u1eadt, b\u1ea1n c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng xao nh\u00e3ng v\u00e0 ph\u00ed ph\u1ea1m th\u1eddi gian qu\u00fd gi\u00e1. Ta s\u1ebd nghi\u00ean c\u1ee9u l\u00e0m sao \u0111\u1ec3 c\u00f3 tr\u1ef1c gi\u00e1c t\u1ed1t v\u00e0 nh\u1eefng s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i c\u1ea7n thi\u1ebft trong vi\u1ec7c debug. H\u00e3y nh\u1edb r\u1eb1ng, b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng nh\u1eefng k\u0129 thu\u1eadt n\u00e0y theo th\u1ee9 t\u1ef1 n\u00e0o c\u0169ng \u0111\u01b0\u1ee3c, kh\u00f4ng c\u00f3 c\u00e1ch \u0111\u00fang ho\u1eb7c sai g\u00ec \u0111\u1ec3 debug.</p> <p>Ta b\u1eaft \u0111\u1ea7u v\u1edbi t\u1ea7m quan tr\u1ecdng c\u1ee7a vi\u1ec7c c\u00f3 m\u1ed9t t\u01b0 duy \u0111\u00fang \u0111\u1eafn khi debug. N\u00f3 c\u0169ng c\u00f3 ngh\u0129a l\u00e0 s\u1ef1 kh\u00e1c nhau gi\u1eefa vi\u1ec7c \u0111\u1ea7u h\u00e0ng qu\u00e1 s\u1edbm ho\u1eb7c gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 ho\u00e0n to\u00e0n. Khi g\u1eb7p nh\u1eefng l\u1ed7i kh\u00f3 debug, vi\u1ec7c gi\u1eef \u0111\u01b0\u1ee3c nh\u1eefng t\u01b0 duy nh\u01b0 sau r\u1ea5t quan tr\u1ecdng: </p> <ol> <li>Nh\u1edb r\u1eb1ng m\u00e1y t\u00ednh ho\u1ea1t \u0111\u1ed9ng theo logic, v\u00e0 lu\u00f4n c\u00f3 m\u1ed9t c\u00e1ch gi\u1ea3i th\u00edch logic cho v\u1ea5n \u0111\u1ec1 m\u00e0 b\u1ea1n \u0111ang g\u1eb7p ph\u1ea3i, ngay c\u1ea3 khi nghe n\u00f3 th\u1eadt v\u00f4 l\u00fd trong th\u1eddi \u0111i\u1ec3m b\u1ea1n \u0111\u00e1nh gi\u00e1.</li> <li>Kh\u00f3 kh\u0103n ch\u1ec9 l\u00e0 t\u1ea1m th\u1eddi, v\u00e0 v\u1edbi s\u1ef1 ki\u00ean nh\u1eabn v\u00e0 n\u1ed7 l\u1ef1c, v\u1ea5n \u0111\u1ec1 r\u1ed3i s\u1ebd \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft.</li> <li>Bi\u1ebft \u0111\u01b0\u1ee3c gi\u1edbi h\u1ea1n c\u1ee7a b\u1ea3n th\u00e2n v\u00e0 nh\u1eadn ra khi n\u00e0o c\u1ea7n \u0111\u1ebfn s\u1ef1 gi\u00fap \u0111\u1ee1 t\u1eeb ng\u01b0\u1eddi chuy\u00ean nghi\u1ec7p h\u01a1n l\u00e0 \u0111i\u1ec1u r\u1ea5t quan tr\u1ecdng</li> <li>Kh\u00f4ng ph\u1ea3i l\u00fac n\u00e0o ta c\u0169ng c\u1ea7n n\u1ed7 l\u1ef1c l\u1edbn \u0111\u1ec3 gi\u1ea3i quy\u1ebft m\u1ecdi lo\u1ea1i bug. Ta c\u1ea7n s\u1eafp x\u1ebfp ch\u00fang theo th\u1ee9 t\u1ef1 \u01b0u ti\u00ean d\u1ef1a v\u00e0o \u0111\u1ed9 nghi\u00eam tr\u1ecdng v\u00e0 s\u1ef1 \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn h\u1ec7 th\u1ed1ng ho\u1eb7c ch\u01b0\u01a1ng tr\u00ecnh. Ta c\u1ea7n ch\u1ea5p nh\u1eadn m\u1ed9t th\u1ef1c t\u1ebf r\u1eb1ng m\u1ed9t s\u1ed1 bug th\u1ef1c s\u1ef1 kh\u00f4ng \u0111\u00e1ng \u0111\u1ec3 ta b\u1ecf nhi\u1ec1u c\u00f4ng s\u1ee9c \u0111\u1ebfn nh\u01b0 th\u1ebf.</li> </ol> <p></p>"},{"location":"ByteByteGo/debugging_techniques/debugging_techniques/#nhung-ieu-co-ban","title":"Nh\u1eefng \u0111i\u1ec1u c\u01a1 b\u1ea3n","text":"<p>Khi ta nh\u1eadn \u0111\u01b0\u1ee3c b\u00e1o c\u00e1o l\u1ed7i t\u1eeb kh\u00e1ch h\u00e0ng, ta c\u1ea7n ph\u1ea3i thu th\u1eadp nhi\u1ec1u th\u00f4ng tin nh\u1ea5t c\u00f3 th\u1ec3. Xin \u1ea3nh ch\u1ee5p m\u00e0n h\u00ecnh ho\u1eb7c video m\u00f4 t\u1ea3 l\u1ed7i t\u1eeb kh\u00e1ch h\u00e0ng n\u1ebfu c\u00f3 th\u1ec3. Th\u00eam v\u00e0o \u0111\u00f3, thu th\u1eadp c\u00e1c b\u01b0\u1edbc \u0111\u1ec3 t\u00e1i t\u1ea1o l\u1ea1i l\u1ed7i v\u00e0 c\u00e1c log c\u00f3 li\u00ean quan, k\u1ec3 c\u1ea3 c\u00e1c error message li\u00ean quan \u0111\u1ebfn l\u1ed7i. M\u1ee5c ti\u00eau l\u00e0 \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c nhi\u1ec1u th\u00f4ng tin nh\u1ea5t c\u00f3 th\u1ec3 \u0111\u1ec3 gi\u00fap ch\u00fang ta t\u00e1i t\u1ea1o l\u1ea1i l\u1ed7i.</p> <p>N\u1ebfu ta c\u00f3 th\u1ec3 c\u00f4 l\u1eadp m\u00f4i tr\u01b0\u1eddng v\u00e0 ho\u00e0n c\u1ea3nh n\u01a1i m\u00e0 l\u1ed7i x\u1ea3y ra, ta c\u00f3 th\u1ec3 th\u1eed t\u1ea1o l\u1ea1i l\u1ed7i \u0111\u00f3 tr\u00ean m\u1ed9t server test v\u00e0 xem th\u1eed n\u00f3 c\u00f3 hi\u1ec7n ra hay kh\u00f4ng. C\u00f3 \u0111\u01b0\u1ee3c m\u1ed9t m\u00f4i tr\u01b0\u1eddng \u0111\u1ec3 t\u1ea1o l\u1ea1i l\u1ed7i \u0111\u00e3 l\u00e0 \u0111i \u0111\u01b0\u1ee3c n\u1eeda ch\u1eb3ng \u0111\u01b0\u1eddng.</p> <p>Gi\u1edd t\u1ea1o \u0111\u01b0\u1ee3c l\u1ed7i l\u1ea1i r\u1ed3i th\u00ec l\u00e0m g\u00ec n\u1eefa. \u0110\u00e2y l\u00e0 m\u1ed9t s\u1ed1 ph\u01b0\u01a1ng ph\u00e1p \u0111\u1ec3 b\u1ea1n c\u00e2n nh\u1eafc:</p> <p>Th\u1ee9 nh\u1ea5t, d\u00f9ng print m\u1ed9t c\u00e1ch t\u1ef1 do. Ch\u00fang c\u00f3 th\u1ec3 gi\u00fap ta t\u1ea1o ra \u0111\u01b0\u1ee3c m\u1ed9t timeline v\u1ec1 nh\u1eefng g\u00ec \u0111\u00e3 x\u1ea3y ra v\u00e0 xem th\u1eed code c\u00f3 ch\u1ea1y theo th\u1ee9 t\u1ef1 nh\u01b0 ta print ra hay kh\u00f4ng. V\u1edbi m\u1ed9t s\u1ed1 h\u1ec7 sinh th\u00e1i ng\u00f4n ng\u1eef, setup m\u1ed9t debugger c\u00f3 v\u1ebb nh\u01b0 kh\u1ea3 thi h\u01a1n. V\u00ed d\u1ee5, c\u00e1c h\u1ec7 th\u1ed1ng nh\u01b0 Erlang/OTP c\u00f3 debugger r\u1ea5t m\u1ea1nh, gi\u00fap \u00edch nhi\u1ec1u cho l\u1eadp tr\u00ecnh vi\u00ean khi g\u1eb7p kh\u00f3 kh\u0103n. N\u00f3i chung, n\u1ebfu c\u00f3 th\u1ec3 t\u00e1i t\u1ea1o l\u1ea1i l\u1ed7i, s\u1ebd kh\u00f4ng qu\u00e1 kh\u00f3 \u0111\u1ec3 debug. N\u00f3 c\u00f3 th\u1ec3 m\u1ea5t ch\u00fat th\u1eddi gian v\u00e0 s\u1ef1 ki\u00ean nh\u1eabn, nh\u01b0ng n\u1ebfu l\u00e0m theo nh\u1eefng ph\u01b0\u01a1ng ph\u00e1p \u1edf tr\u00ean th\u00ec cu\u1ed1i c\u00f9ng l\u1ed7i c\u0169ng s\u1ebd \u0111\u01b0\u1ee3c gi\u1ea3i quy\u1ebft.</p> <p>C\u01a1 m\u00e0 n\u1ebfu kh\u00f4ng t\u00e1i t\u1ea1o l\u1ea1i \u0111\u01b0\u1ee3c l\u1ed7i th\u00ec sao? Kh\u00e1 l\u00e0 kh\u00f3 \u0111\u1ea5y. Ta c\u1ea7n ch\u00fat may m\u1eafn c\u00f9ng v\u1edbi r\u1ea5t nhi\u1ec1u s\u1ef1 ki\u00ean nh\u1eabn. H\u00e3y xem th\u1eed v\u00ec sao \u0111\u00f4i khi t\u00e1i t\u1ea1o l\u1ed7i l\u1ea1i r\u1ea5t kh\u00f3. M\u1ed9t s\u1ed1 tr\u01b0\u1eddng h\u1ee3p th\u01b0\u1eddng g\u1eb7p l\u00e0:</p> <p>Th\u1ee9 nh\u1ea5t, m\u1ed9t s\u1ed1 l\u1ed7i ch\u1ec9 ph\u00e1t sinh tr\u00ean m\u00f4i tr\u01b0\u1eddng live.</p> <p>Th\u1ee9 hai, m\u1ed9t s\u1ed1 l\u1ed7i ch\u1ec9 ph\u00e1t sinh tr\u00ean m\u00f4i tr\u01b0\u1eddng live trong m\u1ed9t s\u1ed1 race condition c\u1ee5 th\u1ec3. </p> <p></p> <p>Th\u1ee9 ba, m\u1ed9t s\u1ed1 ho\u00e0n c\u1ea3nh ho\u1eb7c m\u00f4i tr\u01b0\u1eddng tr\u00ean thi\u1ebft b\u1ecb c\u1ee7a ng\u01b0\u1eddi d\u00f9ng g\u00e2y ph\u00e1t sinh l\u1ed7i, nh\u01b0 l\u00e0 khi m\u1ed9t ng\u01b0\u1eddi d\u00f9ng twitter c\u00f3 qu\u00e1 nhi\u1ec1u followers ch\u1eb3ng h\u1ea1n.</p> <p>R\u1ed3i l\u00e0m g\u00ec n\u1eefa? M\u1ed9t s\u1ed1 c\u00e1ch b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng l\u00e0:</p> <p>N\u1ebfu c\u00f3 m\u1ed9t l\u1ed7i c\u1ee5 th\u1ec3 n\u00e0o \u0111\u00f3, traceback code v\u1edbi call stack.</p> <p></p> <p>Thu th\u1eadp h\u1ebft c\u00e1c log v\u00e0 x\u00e2y d\u1ef1ng timeline b\u1eb1ng c\u00e1ch theo m\u1ed9t request th\u1ea5t b\u1ea1i qua h\u1ebft to\u00e0n b\u1ed9 v\u00f2ng \u0111\u1eddi c\u1ee7a request. N\u1ebfu may m\u1eafn, ta c\u00f3 th\u1ec3 suy ra chuy\u1ec7n g\u00ec \u0111\u00e3 x\u1ea3y ra.</p> <p></p> <p>Sau \u0111\u00f3, ta c\u00f3 th\u1ec3 th\u00eam log v\u00e0o code \u0111\u1ec3 ch\u1ee9ng minh lu\u1eadn \u0111i\u1ec3m tr\u00ean v\u00e0 push l\u00ean m\u00f4i tr\u01b0\u1eddng live. L\u1eb7p l\u1ea1i quy tr\u00ecnh n\u00e0y cho \u0111\u1ebfn khi ta c\u00f3 th\u00eam th\u00f4ng tin v\u00e0 cu\u1ed1i c\u00f9ng gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c l\u1ed7i. L\u01b0u \u00fd r\u1eb1ng qu\u00e1 tr\u00ecnh n\u00e0y c\u00f3 th\u1ec3 d\u00e0i v\u00e0 m\u1ec7t m\u1ecfi, nh\u01b0ng s\u1ef1 ki\u00ean nh\u1eabn r\u1ea5t quan tr\u1ecdng.</p> <p>Cu\u1ed1i c\u00f9ng, ta h\u00e3y review m\u1ed9t s\u1ed1 ph\u01b0\u01a1ng ph\u00e1p chung \u0111\u1ec3 c\u00e2n nh\u1eafc khi ta th\u1ef1c s\u1ef1 b\u1ebf t\u1eafc: </p> <ol> <li>Ngh\u1ec9 t\u00ed \u0111i. \u0110\u00f4i khi r\u1eddi m\u00e1y t\u00ednh m\u1ed9t l\u00e1t v\u00e0 quay l\u1ea1i v\u1edbi t\u00e2m h\u1ed3n t\u01b0\u01a1i m\u1edbi c\u00f3 th\u1ec3 cho b\u1ea1n nhi\u1ec1u \u00fd t\u01b0\u1edfng. Ng\u1ee7 m\u1ed9t gi\u1ea5c, t\u1eadp th\u1ec3 d\u1ee5c, hay l\u00e0m g\u00ec \u0111\u00f3 kh\u00e1c \u0111\u1ec3 thanh t\u1ea9y t\u00e2m tr\u00ed b\u1ea1n.</li> <li>\u0110\u1ed9c tho\u1ea1i. \u0110\u00f4i khi n\u00f3i ra c\u00e1i v\u1ea5n \u0111\u1ec1 b\u1ea1n \u0111ang g\u1eb7p ph\u1ea3i c\u00f3 th\u1ec3 d\u1eabn \u0111\u1ebfn m\u1ed9t kho\u1ea3nh kh\u1eafc Eureka n\u00e0o \u0111\u00f3. V\u1edbi m\u1ed9t s\u1ed1 ng\u01b0\u1eddi kh\u00e1c, vi\u1ebft v\u1ea5n \u0111\u1ec1 ra gi\u1ea5y ho\u1eb7c g\u1eedi email cho m\u1ed9t ng\u01b0\u1eddi b\u1ea1n t\u01b0\u1edfng t\u01b0\u1ee3ng c\u00f3 th\u1ec3 gi\u00fap h\u1ecd c\u00f3 m\u1ed9t s\u1ed1 \u00fd t\u01b0\u1edfng ho\u1eb7c g\u00f3c nh\u00ecn m\u1edbi. </li> <li>Nh\u1edd gi\u00fap \u0111\u1ee1. \u0110\u1eebng ng\u1ea7n ng\u1ea1i nh\u1edd ai \u0111\u00f3 gi\u00fap b\u1ea1n. Hai c\u00e1i \u0111\u1ea7u th\u00ec t\u1ed1t h\u01a1n m\u1ed9t. M\u1ed9t g\u00f3c nh\u00ecn kh\u00e1c b\u1ea1n th\u01b0\u1eddng gi\u00fap b\u1ea1n r\u1ea5t nhi\u1ec1u trong vi\u1ec7c gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1.</li> </ol> <p>Debug c\u00f3 th\u1ec3 kh\u00f3, nh\u01b0ng v\u1edbi m\u1ed9t t\u01b0 duy v\u00e0 chi\u1ebfn l\u01b0\u1ee3c \u0111\u00fang \u0111\u1eafn, b\u1ea1n c\u00f3 th\u1ec3 v\u01b0\u1ee3t qua m\u1ecdi tr\u1edf ng\u1ea1i. Ch\u00fac b\u1ea1n th\u00e0nh c\u00f4ng! </p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/","title":"Thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng: Thi\u1ebft k\u1ebf Location Based Service","text":""},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#nguon","title":"Ngu\u1ed3n","text":"<p> FAANG System Design Interview: Design A Location Based Service (Yelp, Google Places)</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#inh-nghia-va-yeu-cau","title":"\u0110\u1ecbnh ngh\u0129a v\u00e0 y\u00eau c\u1ea7u","text":"<p>D\u1ecbch v\u1ee5 l\u00e2n c\u1eadn (proximity service) l\u00e0 g\u00ec? \u0110\u00e2y l\u00e0 m\u1ed9t service th\u01b0\u1eddng \u0111\u01b0\u1ee3c th\u1ea5y trong c\u00e1c th\u00e0nh ph\u1ea7n backend c\u1ee7a m\u1ed9t \u1ee9ng d\u1ee5ng nh\u01b0 Yelp \u0111\u1ec3 t\u00ecm nh\u00e0 h\u00e0ng x\u1ecbn nh\u1ea5t \u1edf g\u1ea7n v\u1ecb tr\u00ed c\u1ee7a b\u1ea1n, ho\u1eb7c trong \u1ee9ng d\u1ee5ng b\u1ea3n \u0111\u1ed3 \u0111\u1ec3 t\u00ecm tr\u1ea1m x\u0103ng g\u1ea7n nh\u1ea5t.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#functional-requirements","title":"Functional requirements","text":"<p>\u0110\u1ea7u ti\u00ean ta h\u00e3y \u0111i v\u00e0o vi\u1ec7c hi\u1ec3u b\u00e0i to\u00e1n v\u00e0 thi\u1ebft l\u1eadp ph\u1ea1m vi thi\u1ebft k\u1ebf \u1ee9ng d\u1ee5ng. C\u00e1c \u1ee9ng d\u1ee5ng kh\u00e1c nhau s\u1ebd c\u00f3 c\u00e1c y\u00eau c\u1ea7u kh\u00e1c nhau v\u1edbi proximity service. Ta s\u1ebd ch\u1ec9 xem x\u00e9t c\u00e1c functional requirement (y\u00eau c\u1ea7u ch\u1ee9c n\u0103ng) c\u01a1 b\u1ea3n nh\u1ea5t.</p> <ol> <li>Cho v\u1ecb tr\u00ed c\u1ee7a ng\u01b0\u1eddi d\u00f9ng v\u00e0 b\u00e1n k\u00ednh, tr\u1ea3 v\u1ec1 t\u1ea5t c\u1ea3 c\u00e1c doanh nghi\u1ec7p ho\u1ea1t \u0111\u1ed9ng trong v\u00f2ng b\u00e1n k\u00ednh \u0111\u00f3.</li> <li>Ng\u01b0\u1eddi qu\u1ea3n l\u00fd doanh nghi\u1ec7p c\u00f3 th\u1ec3 th\u00eam, xo\u00e1 ho\u1eb7c s\u1eeda th\u00f4ng tin doanh nghi\u1ec7p c\u1ee7a m\u00ecnh. Nh\u1eefng thay \u0111\u1ed5i n\u00e0y kh\u00f4ng nh\u1ea5t thi\u1ebft ph\u1ea3i xu\u1ea5t hi\u1ec7n trong th\u1eddi gian th\u1ef1c, c\u00f3 th\u1ec3 ng\u00e0y h\u00f4m sau xu\u1ea5t hi\u1ec7n c\u0169ng \u0111\u01b0\u1ee3c.</li> <li>Ng\u01b0\u1eddi d\u00f9ng \u1ee9ng d\u1ee5ng c\u00f3 th\u1ec3 xem th\u00f4ng tin chi ti\u1ebft v\u1ec1 m\u1ed9t doanh nghi\u1ec7p n\u00e0o \u0111\u00f3.</li> </ol>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#non-functional-requirements","title":"Non-functional requirements","text":"<p>Ti\u1ebfp \u0111\u1ebfn l\u00e0 c\u00e1c non-functional requirement (y\u00eau c\u1ea7u phi ch\u1ee9c n\u0103ng). C\u00e1c non-functional requirement \u0111\u1eb7t ra c\u00e1c r\u00e0ng bu\u1ed9c kh\u00e1c nhau \u0111\u1ed1i v\u1edbi thi\u1ebft k\u1ebf. Nh\u1eefng y\u00eau c\u1ea7u n\u00e0y l\u00e0m cho vi\u1ec7c thi\u1ebft k\u1ebf tr\u1edf n\u00ean th\u00fa v\u1ecb v\u00e0 c\u00f3 t\u00ednh th\u1eed th\u00e1ch cao. Gi\u1ea3 s\u1eed \u1ee9ng d\u1ee5ng \u0111\u00e1nh gi\u00e1 n\u00e0y c\u00f3 100 tri\u1ec7u ng\u01b0\u1eddi d\u00f9ng h\u1eb1ng ng\u00e0y (DAU - Daily Active Users) v\u00e0 200 tri\u1ec7u doanh nghi\u1ec7p. Ta s\u1ebd c\u00f3 nh\u1eefng non-functional requirement sau:</p> <ol> <li>\u0110\u1ed9 tr\u1ec5 ph\u1ea3i th\u1ea5p (low latency). Ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 t\u00ecm th\u1ea5y c\u00e1c doanh nghi\u1ec7p l\u00e2n c\u1eadn m\u1ed9t c\u00e1ch nhanh ch\u00f3ng.</li> <li>Service ph\u1ea3i c\u00f3 t\u00ednh s\u1eb5n s\u00e0ng cao (high availability). N\u00f3 c\u00f3 th\u1ec3 x\u1eed l\u00fd l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp t\u0103ng \u0111\u1ed9t bi\u1ebfn trong gi\u1edd cao \u0111i\u1ec3m.</li> </ol>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#tinh-toan","title":"T\u00ednh to\u00e1n","text":"<p>Gi\u1edd ta s\u1ebd th\u1ef1c hi\u1ec7n m\u1ed9t s\u1ed1 t\u00ednh to\u00e1n t\u1ed5ng quan d\u1ef1a tr\u00ean c\u00e1c requirement \u1edf tr\u00ean. N\u00f3 s\u1ebd cho ta nh\u1eefng \u00fd t\u01b0\u1edfng s\u01a1 b\u1ed9 v\u1ec1 nh\u1eefng th\u00e1ch th\u1ee9c m\u00e0 ta c\u00f3 th\u1ec3 g\u1eb7p v\u00e0 nh\u1eefng s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i ta c\u00f3 th\u1ec3 l\u00e0m. Trong n\u00e0y ta c\u00f3 th\u1ec3 \u0111\u01b0a ra m\u1ed9t s\u1ed1 gi\u1ea3 \u0111\u1ecbnh h\u1ee3p l\u00fd \u0111\u1ec3 d\u1ec5 t\u00ednh to\u00e1n h\u01a1n.</p> <p>Gi\u1ea3 s\u1eed, v\u1edbi m\u1ed9t ng\u01b0\u1eddi d\u00f9ng h\u00e0ng ng\u00e0y, trung b\u00ecnh ng\u01b0\u1eddi \u0111\u00f3 c\u00f3 th\u1ec3 th\u1ef1c hi\u1ec7n 5 truy v\u1ea5n t\u00ecm ki\u1ebfm. V\u1edbi 100 tri\u1ec7u ng\u01b0\u1eddi d\u00f9ng h\u00e0ng ng\u00e0y v\u00e0 5 truy v\u1ea5n cho m\u1ed9t ng\u01b0\u1eddi / ng\u00e0y, s\u1ebd c\u00f3 t\u1ea7m 5000 truy v\u1ea5n m\u1ed9t gi\u00e2y. Ta c\u0169ng c\u1ea7n bi\u1ebft dung l\u01b0\u1ee3ng l\u01b0u tr\u1eef c\u1ea7n \u0111\u1ec3 l\u01b0u 200 tri\u1ec7u doanh nghi\u1ec7p. Ta s\u1ebd d\u1eebng \u1edf \u0111\u00e2y m\u1ed9t t\u00ed \u0111\u1ec3 xem ta s\u1ebd l\u01b0u data nh\u01b0 th\u1ebf n\u00e0o \u0111\u00e3.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#thiet-ke","title":"Thi\u1ebft k\u1ebf","text":""},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#api-design","title":"API design","text":"<p>Gi\u1edd ta h\u00e3y xem thi\u1ebft k\u1ebf API nh\u01b0 th\u1ebf n\u00e0o nh\u00e9. \u1ede \u0111\u00e2y ta s\u1ebd d\u00f9ng quy \u01b0\u1edbc RESTful API cho \u0111\u01a1n gi\u1ea3n. D\u1ef1a v\u00e0o functional requirement \u1edf tr\u00ean, ta s\u1ebd c\u00f3 hai lo\u1ea1i API. Lo\u1ea1i 1 s\u1ebd l\u00e0 \u0111\u1ec3 t\u00ecm doanh nghi\u1ec7p l\u00e2n c\u1eadn. \u0110\u00e2y l\u00e0 m\u1ed9t GET request nh\u1eadn v\u00e0o kinh \u0111\u1ed9 v\u00e0 v\u0129 \u0111\u1ed9 c\u1ee7a v\u1ecb tr\u00ed ng\u01b0\u1eddi d\u00f9ng, v\u00e0 m\u1ed9t tu\u1ef3 ch\u1ecdn b\u00e1n k\u00ednh. API n\u00e0y tr\u1ea3 v\u1ec1 c\u00e1c doanh nghi\u1ec7p trong m\u1ed9t m\u1ea3ng \u0111\u1ed1i t\u01b0\u1ee3ng doanh nghi\u1ec7p, c\u00f9ng t\u1ed5ng s\u1ed1 doanh nghi\u1ec7p tr\u1ea3 v\u1ec1. C\u00f3 hai \u0111i\u1ec3m c\u1ea7n l\u01b0u \u00fd:</p> <ul> <li>Ta s\u1ebd \u0111\u01a1n gi\u1ea3n ho\u00e1 API \u1edf \u0111\u00e2y b\u1eb1ng c\u00e1ch b\u1ecf qua ph\u00e2n trang. Tuy nhi\u00ean, trong th\u1ef1c t\u1ebf, ta n\u00ean \u0111\u01b0a ph\u00e2n trang v\u00e0o API</li> <li>C\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng doanh nghi\u1ec7p trong API response ch\u1ec9 ch\u1ee9a v\u1eeba \u0111\u1ee7 th\u00f4ng tin \u0111\u1ec3 cho ra k\u1ebft qu\u1ea3 t\u00ecm ki\u1ebfm. N\u00f3 kh\u00f4ng ch\u1ee9a th\u00f4ng tin \u0111\u1ec3 t\u1ea1o ra \u0111\u01b0\u1ee3c trang chi ti\u1ebft c\u1ee7a doanh nghi\u1ec7p. \u0110\u1ec3 render trang chi ti\u1ebft, ta c\u1ea7n m\u1ed9t API kh\u00e1c.</li> </ul> <p></p> <p>Lo\u1ea1i API th\u1ee9 hai qu\u1ea3n l\u00fd c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng doanh nghi\u1ec7p. N\u00f3 bao g\u1ed3m c\u00e1c CRUD endpoint \u0111\u1ec3 th\u00eam, \u0111\u1ecdc, s\u1eeda v\u00e0 xo\u00e1 m\u1ed9t doanh nghi\u1ec7p. Ta kh\u00f4ng \u0111i v\u00e0o chi ti\u1ebft ph\u1ea7n n\u00e0y v\u00ec n\u00f3 kh\u00e1 \u0111\u01a1n gi\u1ea3n.</p> <p></p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#data-schema","title":"Data schema","text":"<p>C\u00f3 hai b\u1ea3ng ch\u00ednh \u1edf \u0111\u00e2y. \u0110\u1ea7u ti\u00ean l\u00e0 b\u1ea3ng doanh nghi\u1ec7p, ch\u1ee9a th\u00f4ng tin doanh nghi\u1ec7p. Kho\u00e1 ch\u00ednh l\u00e0 business ID. B\u1ea3ng n\u00e0y h\u1ed7 tr\u1ee3 c\u00e1c thao t\u00e1c CRUD cho API ta v\u1eeba n\u00f3i \u1edf tr\u00ean.</p> <p>B\u1ea3ng th\u1ee9 hai th\u00fa v\u1ecb h\u01a1n. N\u00f3 \u0111\u01b0\u1ee3c d\u00f9ng b\u1edfi API t\u00ecm ki\u1ebfm doanh nghi\u1ec7p \u0111\u1ec3 tr\u1ea3 v\u1ec1 doanh nghi\u1ec7p nhanh ch\u00f3ng. B\u1ea3ng n\u00e0y t\u1ed1i thi\u1ec3u ph\u1ea3i c\u00f3 business ID v\u00e0 v\u1ecb tr\u00ed doanh nghi\u1ec7p. C\u00e1c v\u1ecb tr\u00ed n\u00e0y ph\u1ea3i \u0111\u01b0\u1ee3c index theo m\u1ed9t c\u00e1ch n\u00e0o \u0111\u00f3 \u0111\u1ec3 gi\u00fap tr\u1ea3 v\u1ec1 k\u1ebft qu\u1ea3 nhanh ch\u00f3ng. Vi\u1ec7c ch\u1ecdn b\u1ea3ng v\u00e0 c\u01a1 s\u1edf d\u1eef li\u1ec7u \u0111\u00f2i h\u1ecfi m\u1ed9t s\u1ed1 ki\u1ebfn th\u1ee9c v\u1ec1 t\u00ecm ki\u1ebfm kh\u00f4ng gian \u0111\u1ecba l\u00fd (geospatial search).</p> <p></p> <p>Ta c\u00f3 schema r\u1ed3i, gi\u1edd ta c\u00f3 th\u1ec3 t\u00ednh to\u00e1n kh\u00f4ng gian l\u01b0u tr\u1eef. C\u00f3 200 tri\u1ec7u doanh nghi\u1ec7p. V\u1edbi b\u1ea3ng doanh nghi\u1ec7p n\u00e0y, ta \u01b0\u1edbc t\u00ednh r\u1eb1ng th\u00f4ng tin m\u1ed9t doanh nghi\u1ec7p s\u1ebd chi\u1ebfm kh\u00f4ng qu\u00e1 10 kilobyte, th\u1ef1c ra trung b\u00ecnh s\u1ebd l\u00e0 t\u1ea7m 1 kilobyte. V\u00ec v\u1eady n\u00ean b\u1ea3ng n\u00e0y s\u1ebd chi\u1ebfm t\u1ea7m d\u01b0\u1edbi 1 terabyte g\u00ec \u0111\u1ea5y.</p> <p></p> <p>C\u00f2n b\u1ea3ng t\u00ecm ki\u1ebfm v\u1ecb tr\u00ed th\u00ec sao? B\u1ea3ng n\u00e0y s\u1ebd l\u01b0u business ID, kinh \u0111\u1ed9 v\u0129 \u0111\u1ed9 c\u1ee7a m\u1ed7i doanh nghi\u1ec7p. M\u1ed7i th\u1ee9 s\u1ebd t\u1ea7m 8 byte, ngh\u0129a l\u00e0 kho\u1ea3ng 200 tri\u1ec7u l\u1ea7n 24 byte, l\u00e0 kho\u1ea3ng 5 gigabyte. \u0110i\u1ec1u n\u00e0y cho th\u1ea5y t\u1eadp d\u1eef li\u1ec7u t\u00ecm ki\u1ebfm v\u1ecb tr\u00ed n\u00e0y r\u1ea5t nh\u1ecf. Khi t\u1eadp d\u1eef li\u1ec7u nh\u1ecf nh\u01b0 v\u1eady, ta c\u00f3 r\u1ea5t nhi\u1ec1u l\u1ef1a ch\u1ecdn thi\u1ebft k\u1ebf, k\u1ec3 c\u1ea3 nh\u1eefng l\u1ef1a ch\u1ecdn n\u1eb1m ho\u00e0n to\u00e0n trong b\u1ed9 nh\u1edb.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#high-level-design","title":"High-level design","text":"<p>Gi\u1edd ta \u0111\u00e3 bi\u1ebft \u0111\u1ee7 nhi\u1ec1u \u0111\u1ec3 c\u00f3 m\u1ed9t s\u01a1 \u0111\u1ed3 thi\u1ebft k\u1ebf t\u1ed5ng qu\u00e1t. Trong h\u1ec7 th\u1ed1ng n\u00e0y, ta c\u00f3 2 ph\u1ea7n. M\u1ed7i c\u00e1i th\u00ec \u00e1nh x\u1ea1 t\u1edbi m\u1ed9t danh m\u1ee5c API \u0111\u00e3 n\u00f3i \u1edf tr\u00ean. Ta g\u1ecdi ph\u1ea7n \u0111\u1ea7u ti\u00ean l\u00e0 \"service d\u1ef1a tr\u00ean v\u1ecb tr\u00ed\" (Location-Based Service - LBS), v\u00e0 ph\u1ea7n hai l\u00e0 \"service doanh nghi\u1ec7p\" (business service). Ta s\u1ebd xem x\u00e9t t\u1eebng th\u00e0nh ph\u1ea7n trong thi\u1ebft k\u1ebf t\u1ed5ng qu\u00e1t n\u00e0y.</p> <p></p> <p>\u0110\u1ea7u ti\u00ean l\u00e0 load balancer. Trong thi\u1ebft k\u1ebf, load balancer s\u1ebd ph\u00e2n ph\u1ed1i l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp \u0111\u1ebfn hai service tr\u00ean, d\u1ef1a v\u00e0o c\u00e1c tuy\u1ebfn API. C\u00e1c service n\u00e0y \u0111\u1ec1u l\u00e0 stateless (kh\u00f4ng tr\u1ea1ng th\u00e1i). Vi\u1ec7c tri\u1ec3n khai c\u00e1c service phi tr\u1ea1ng th\u00e1i sau load balancer kh\u00e1 l\u00e0 ph\u1ed5 bi\u1ebfn v\u00e0 ta s\u1ebd kh\u00f4ng \u0111i s\u00e2u h\u01a1n \u1edf \u0111\u00e2y. L\u01b0u \u00fd r\u1eb1ng trong th\u1ef1c t\u1ebf, ta c\u00f3 th\u1ec3 c\u00f3 nh\u1eefng thi\u1ebft l\u1eadp kh\u00e1c \u0111\u1ec3 ph\u00e2n ph\u1ed1i truy c\u1eadp \u0111\u1ebfn c\u00e1c service (nh\u01b0 API Gateway tr\u00ean AWS hay envoy tr\u00ean c\u1ee5m Kubenetes).</p> <p>Sau load balancer, ta c\u00f3 hai service n\u00f3i tr\u00ean. LBS l\u00e0 ph\u1ea7n c\u1ed1t l\u00f5i c\u1ee7a h\u1ec7 th\u1ed1ng. N\u00f3 t\u00ecm c\u00e1c doanh nghi\u1ec7p l\u00e2n c\u1eadn d\u1ef1a v\u00e0o b\u00e1n k\u00ednh v\u00e0 v\u1ecb tr\u00ed m\u1ed9t c\u00e1ch nhanh ch\u00f3ng. LBS c\u00f3 v\u00e0i \u0111i\u1ec3m th\u00fa v\u1ecb. </p> <ol> <li>Ta s\u1ebd \u0111\u1ecdc d\u1eef li\u1ec7u nhi\u1ec1u h\u01a1n ghi d\u1eef li\u1ec7u r\u1ea5t nhi\u1ec1u. </li> <li>QPS cao, kho\u1ea3ng 5000 QPS. </li> <li>Service n\u00e0y l\u00e0 stateless. N\u00f3 c\u00f3 th\u1ec3 d\u1ec5 d\u00e0ng \u0111\u01b0\u1ee3c m\u1edf r\u1ed9ng theo chi\u1ec1u ngang.</li> </ol> <p>Ti\u1ebfp theo l\u00e0 service doanh nghi\u1ec7p. Service n\u00e0y x\u1eed l\u00fd c\u00e1c request CRUD \u0111\u1ec3 qu\u1ea3n l\u00fd c\u00e1c \u0111\u1ed1i t\u01b0\u1ee3ng doanh nghi\u1ec7p. QPS cho vi\u1ec7c t\u1ea1o, s\u1eeda v\u00e0 xo\u00e1 \u1edf \u0111\u00e2y kh\u00f4ng cao. V\u00e0 d\u1ef1a v\u00e0o functional requirement, c\u00e1c thay \u0111\u1ed5i kh\u00f4ng c\u1ea7n ph\u1ea3i ngay l\u1eadp t\u1ee9c. \u0110i\u1ec1u n\u00e0y cho ta nhi\u1ec1u s\u1ef1 linh ho\u1ea1t trong thi\u1ebft k\u1ebf. Tuy nhi\u00ean, v\u1edbi thao t\u00e1c \u0111\u1ecdc, QPS c\u00f3 th\u1ec3 cao trong gi\u1edd cao \u0111i\u1ec3m. V\u00ec d\u1eef li\u1ec7u n\u00e0y kh\u00f4ng thay \u0111\u1ed5i th\u01b0\u1eddng xuy\u00ean n\u00ean n\u00f3 l\u00e0 m\u1ed9t \u1ee9ng vi\u00ean ti\u1ec1m n\u0103ng \u0111\u1ec3 cache n\u1ebfu c\u1ea7n.</p> <p>Ti\u1ebfp theo l\u00e0 c\u1ee5m database. Ta ch\u01b0a n\u00f3i v\u1ec1 lo\u1ea1i database n\u00e0o ta s\u1ebd d\u00f9ng, nh\u01b0ng s\u1ebd \u0111i s\u00e2u v\u00e0o sau. Tuy nhi\u00ean, d\u1ef1a tr\u00ean c\u00e1c pattern truy c\u1eadp v\u00e0 l\u01b0u l\u01b0\u1ee3ng \u0111\u1ecdc / ghi, ta \u0111\u00e3 bi\u1ebft \u0111\u1ee7 nhi\u1ec1u \u0111\u1ec3 quy\u1ebft \u0111\u1ecbnh d\u00f9ng database n\u00e0o. </p> <p>C\u01a1 b\u1ea3n th\u00ec ta \u0111\u00e3 bi\u1ebft r\u1eb1ng: </p> <ul> <li>Service n\u1eb7ng v\u1ec1 \u0111\u1ecdc d\u1eef li\u1ec7u. </li> <li>QPS \u0111\u1ecdc s\u1ebd l\u1edbn h\u01a1n nhi\u1ec1u so v\u1edbi QPS ghi. </li> <li>Vi\u1ec7c ghi d\u1eef li\u1ec7u kh\u00f4ng c\u1ea7n ph\u1ea3i ngay l\u1eadp t\u1ee9c. </li> </ul> <p>T\u1eadp d\u1eef li\u1ec7u t\u00ecm ki\u1ebfm kh\u00f4ng l\u1edbn l\u1eafm. T\u1eadp d\u1eef li\u1ec7u doanh nghi\u1ec7p to h\u01a1n m\u1ed9t ch\u00fat v\u00e0 ta c\u00f3 th\u1ec3 c\u1ea7n ph\u1ea3i t\u1ed1i \u01b0u n\u00f3. D\u1ef1a v\u00e0o c\u00e1c y\u1ebfu t\u1ed1 n\u00e0y, vi\u1ec7c s\u1eed d\u1ee5ng c\u1ee5m database v\u1edbi primary-secondary setup c\u00f3 th\u1ec3 l\u00e0 m\u1ed9t n\u01b0\u1edbc \u0111i hay.</p> <p>V\u1edbi setup n\u00e0y, database ch\u00ednh s\u1ebd x\u1eed l\u00fd t\u1ea5t c\u1ea3 c\u00e1c y\u00eau c\u1ea7u ghi, v\u00e0 c\u00e1c b\u1ea3n sao s\u1ebd ch\u1ec9 cho c\u00e1c y\u00eau c\u1ea7u \u0111\u1ecdc. D\u1eef li\u1ec7u \u0111\u01b0\u1ee3c l\u01b0u v\u00e0o database ch\u00ednh tr\u01b0\u1edbc v\u00e0 sau \u0111\u00f3 \u0111\u01b0\u1ee3c sao ch\u00e9p qua c\u00e1c b\u1ea3n sao. S\u1ebd c\u00f3 m\u1ed9t s\u1ed1 d\u1eef li\u1ec7u b\u1ecb tr\u1ec5 khi \u0111\u1ecdc do c\u00f3 \u0111\u1ed9 tr\u1ec5 khi sao ch\u00e9p, nh\u01b0ng c\u0169ng kh\u00f4ng quan tr\u1ecdng l\u1eafm v\u00ec ta bi\u1ebft r\u1eb1ng thay \u0111\u1ed5i kh\u00f4ng c\u1ea7n xu\u1ea5t hi\u1ec7n ngay l\u1eadp t\u1ee9c.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#thiet-ke-chuyen-sau","title":"Thi\u1ebft k\u1ebf chuy\u00ean s\u00e2u","text":""},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#database-khong-gian-ia-ly","title":"Database kh\u00f4ng gian \u0111\u1ecba l\u00fd","text":"<p>\u0110\u1ebfn \u0111\u00e2y ta \u0111\u00e3 c\u00f3 nhi\u1ec1u \u00fd hay v\u1ec1 vi\u1ec7c h\u1ec7 th\u1ed1ng ban \u0111\u1ea7u s\u1ebd tr\u00f4ng nh\u01b0 th\u1ebf n\u00e0o. Gi\u1edd h\u00e3y \u0111i s\u00e2u v\u00e0o m\u1ed9t s\u1ed1 chi ti\u1ebft th\u00fa v\u1ecb. Ta h\u00e3y c\u00f9ng xem database n\u00e0o c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 t\u00ecm v\u1ecb tr\u00ed nhanh. C\u00f3 m\u1ed9t l\u1edbp database \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 geospatial database (c\u01a1 s\u1edf d\u1eef li\u1ec7u v\u1ec1 kh\u00f4ng gian \u0111\u1ecba l\u00fd), n\u00f3 \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u \u0111\u1ec3 l\u01b0u v\u00e0 truy v\u1ea5n data trong kh\u00f4ng gian h\u00ecnh h\u1ecdc nh\u01b0 d\u1eef li\u1ec7u v\u1ecb tr\u00ed. M\u1ed9t s\u1ed1 v\u00ed d\u1ee5 l\u00e0 Redis GEOHASH v\u00e0 PostgreSQL v\u1edbi PostGIS extension.</p> <p>\u0110\u1ec3 hi\u1ec3u s\u01a1 b\u1ed9 v\u1ec1 c\u00e1ch th\u1ee9c ho\u1ea1t \u0111\u1ed9ng c\u1ee7a c\u00e1c database n\u00e0y, ta s\u1ebd n\u00f3i v\u1ec1 c\u00e1c thu\u1eadt to\u00e1n \u0111\u1ec3 index kh\u00f4ng gian \u0111\u1ecba l\u00fd c\u1ee7a ch\u00fang. Ki\u1ebfn th\u1ee9c n\u00e0y c\u00f3 th\u1ec3 gi\u00fap ta ch\u1ecdn \u0111\u00fang th\u1ee9 ta c\u1ea7n \u0111\u1ec3 tri\u1ec3n khai.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#y-tuong-trau-bo","title":"\u00dd t\u01b0\u1edfng tr\u00e2u b\u00f2","text":"<p>C\u00e1ch \u0111\u01a1n gi\u1ea3n nh\u1ea5t nh\u01b0ng c\u0169ng k\u00e9m hi\u1ec7u qu\u1ea3 nh\u1ea5t l\u00e0 v\u1ebd m\u1ed9t h\u00ecnh tr\u00f2n v\u00e0 t\u00ecm t\u1ea5t c\u1ea3 doanh nghi\u1ec7p trong h\u00ecnh tr\u00f2n \u0111\u00f3. M\u00e3 SQL gi\u1ea3 n\u00e0y cho th\u1ea5y c\u00e1ch ta c\u00f3 th\u1ec3 c\u00e0i trong \u0111i\u1ec1u ki\u1ec7n WHERE. </p> <p></p> <p>\u0110i\u1ec1u ki\u1ec7n trong WHERE h\u01a1i ph\u00fac t\u1ea1p, nh\u01b0ng v\u1ec1 c\u01a1 b\u1ea3n, n\u00f3 t\u00ecm t\u1ea5t c\u1ea3 c\u00e1c do\u1ea1nh nghi\u1ec7p trong gi\u1edbi h\u1ea1n c\u1ee7a \u0111i\u1ec1u ki\u1ec7n \u0111\u00f3. R\u00f5 r\u00e0ng l\u00e0 n\u00f3 tr\u00f4ng kh\u00f4ng hi\u1ec7u qu\u1ea3 l\u1eafm. Truy v\u1ea5n n\u00e0y c\u1ea7n ph\u1ea3i qu\u00e9t b\u1ea3ng. V\u1edbi 200 tri\u1ec7u doanh nghi\u1ec7p, qu\u00e9t b\u1ea3ng th\u1ef1c s\u1ef1 r\u1ea5t ch\u1eadm. </p> <p>V\u1eady ta c\u1ea3i ti\u1ebfn n\u00f3 nh\u01b0 n\u00e0o? \u00dd t\u01b0\u1edfng s\u1ebd l\u00e0 t\u1ea1o index cho c\u1ed9t kinh \u0111\u1ed9 v\u00e0 v\u0129 \u0111\u1ed9. Nh\u01b0ng ch\u1eebng \u0111\u00f3 c\u0169ng kh\u00f4ng c\u1ea3i thi\u1ec7n nhi\u1ec1u \u0111\u1ed9 hi\u1ec7u qu\u1ea3. \u1ede \u0111\u00e2y ta c\u00f3 d\u1eef li\u1ec7u hai chi\u1ec1u. T\u1eadp d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 cho m\u1ed7i chi\u1ec1u l\u00e0 r\u1ea5t l\u1edbn. Ta c\u00f3 th\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c t\u1ea5t c\u1ea3 doanh nghi\u1ec7p trong kho\u1ea3ng v\u0129 \u0111\u1ed9 ho\u1eb7c kho\u1ea3ng kinh \u0111\u1ed9. Nh\u01b0ng \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c data trong b\u00e1n k\u00ednh, ta c\u1ea7n giao hai kho\u1ea3ng \u0111\u00f3 l\u1ea1i. M\u1ed7i kho\u1ea3ng kh\u00f4ng gian l\u1ea1i c\u00f3 r\u1ea5t nhi\u1ec1u data n\u00ean \u0111i\u1ec1u n\u00e0y th\u1ef1c s\u1ef1 kh\u00f4ng hi\u1ec7u qu\u1ea3. N\u00f3i c\u00e1ch kh\u00e1c, v\u1ea5n \u0111\u1ec1 c\u1ed1t l\u00f5i v\u1edbi c\u00e1ch ti\u1ebfp c\u1eadn n\u00e0y l\u00e0 index ch\u1ec9 c\u00f3 th\u1ec3 c\u1ea3i thi\u1ec7n t\u1ed1c \u0111\u1ed9 truy v\u1ea5n tr\u00ean m\u1ed9t chi\u1ec1u th\u00f4i. </p> <p></p> <p>Nh\u01b0 v\u1eady, c\u00e2u h\u1ecfi ti\u1ebfp theo s\u1ebd l\u00e0: Ta c\u00f3 th\u1ec3 l\u00e0m sao \u0111\u1ec3 bi\u1ebfn kh\u00f4ng gian hai chi\u1ec1u th\u00e0nh m\u1ed9t chi\u1ec1u, t\u1eeb \u0111\u00f3 x\u00e2y d\u1ef1ng index tr\u00ean m\u1ed9t chi\u1ec1u \u0111\u00f3 \u0111\u01b0\u1ee3c kh\u00f4ng? C\u00e2u tr\u1ea3 l\u1eddi l\u00e0 C\u00d3.</p> <p>C\u00f3 hai c\u00e1ch ti\u1ebfp c\u1eadn khi d\u00f9ng index kh\u00f4ng gian \u0111\u1ecba l\u00fd. C\u00e1ch \u0111\u1ea7u ti\u00ean l\u00e0 d\u1ef1a v\u00e0o hash. M\u1ed9t s\u1ed1 v\u00ed d\u1ee5 \u1edf \u0111\u00e2y l\u00e0 Even Grid v\u00e0 Geohash. C\u00e1ch th\u1ee9 hai l\u00e0 d\u1ef1a tr\u00ean c\u00e2y, bao g\u1ed3m Quadtree, Google S2 v\u00e0 RTree. M\u1eb7c d\u00f9 c\u00e1ch tri\u1ec3n khai c\u01a1 b\u1ea3n c\u1ee7a hai c\u00e1ch ti\u1ebfp c\u1eadn n\u00e0y l\u00e0 kh\u00e1c nhau, nh\u01b0ng \u00fd t\u01b0\u1edfng s\u01a1 b\u1ed9 l\u00e0 nh\u01b0 nhau. N\u00f3 s\u1ebd chia b\u1ea3n \u0111\u1ed3 th\u00e0nh c\u00e1c khu v\u1ef1c nh\u1ecf h\u01a1n v\u00e0 t\u1ea1o index \u0111\u1ec3 t\u00ecm nhanh.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#index-dua-tren-hash","title":"Index d\u1ef1a tr\u00ean hash","text":"<p>Ta \u0111i v\u00e0o c\u00e1ch ti\u1ebfp c\u1eadn d\u1ef1a tr\u00ean hash tr\u01b0\u1edbc. Ta s\u1ebd chia th\u1ebf gi\u1edbi th\u00e0nh c\u00e1c \u00f4 b\u1eb1ng nhau. M\u1ed9t \u00f4 c\u00f3 th\u1ec3 c\u00f3 nhi\u1ec1u doanh nghi\u1ec7p, v\u00e0 m\u1ed9t doanh nghi\u1ec7p n\u1eb1m trong m\u1ed9t \u00f4. </p> <p></p> <p>C\u00e1ch n\u00e0y c\u00f3 m\u1ed9t \u0111i\u1ec3m y\u1ebfu l\u1edbn. Ph\u00e2n b\u1ed1 doanh nghi\u1ec7p s\u1ebd kh\u00f4ng \u0111\u1ec1u. S\u1ebd c\u00f3 nhi\u1ec1u doanh nghi\u1ec7p \u1edf khu downtown New York, nh\u01b0ng s\u1ebd c\u00f3 \u00edt \u1edf v\u00f9ng n\u00f4ng th\u00f4n, v\u00ed d\u1ee5 th\u1ebf. </p> <p></p> <p>L\u00fd t\u01b0\u1edfng nh\u1ea5t l\u00e0 ta mu\u1ed1n s\u1eed d\u1ee5ng c\u00e1c \u00f4 nh\u1ecf h\u01a1n cho c\u00e1c khu v\u1ef1c d\u00e0y \u0111\u1eb7c v\u00e0 c\u00e1c \u00f4 l\u1edbn h\u01a1n cho c\u00e1c khu v\u1ef1c th\u01b0a th\u1edbt. </p> <p></p> <p>Geohash l\u00e0 m\u1ed9t c\u1ea3i ti\u1ebfn v\u1edbi \u00f4 chia \u0111\u1ec1u. C\u01a1 ch\u1ebf c\u1ee7a Geohash s\u1ebd l\u00e0 bi\u1ebfn th\u00f4ng tin \u0111\u1ecba \u0111i\u1ec3m hai chi\u1ec1u th\u00e0nh m\u1ed9t chi\u1ec1u d\u01b0\u1edbi d\u1ea1ng x\u00e2u ch\u1ee9a c\u00e1c ch\u1eef c\u00e1i v\u00e0 ch\u1eef s\u1ed1. Th\u1ebf ngh\u0129a l\u00e0 sao? </p> <p>\u0110\u1ea7u ti\u00ean, n\u00f3 chia th\u1ebf gi\u1edbi th\u00e0nh 4 g\u00f3c ph\u1ea7n t\u01b0 d\u1ecdc theo kinh tuy\u1ebfn g\u1ed1c v\u00e0 \u0111\u01b0\u1eddng x\u00edch \u0111\u1ea1o. B\u1ed1n g\u00f3c ph\u1ea7n t\u01b0 n\u00e0y \u0111\u01b0\u1ee3c bi\u1ec3u di\u1ec5n b\u1eb1ng hai bit. V\u1edbi bit \u0111\u1ea7u ti\u00ean, n\u1eeda b\u00ean tr\u00e1i b\u1eb1ng 0 v\u00e0 n\u1ee7a b\u00ean ph\u1ea3i b\u1eb1ng 1. V\u1edbi bit th\u1ee9 hai, n\u1eeda tr\u00ean b\u1eb1ng 1 v\u00e0 n\u1eeda d\u01b0\u1edbi b\u1eb1ng 0. </p> <p></p> <p>Ti\u1ebfp theo, n\u00f3 chia m\u1ed7i \u00f4 th\u00e0nh 4 \u00f4 nh\u1ecf h\u01a1n. M\u1ed7i \u00f4 nh\u1ecf h\u01a1n l\u1ea1i \u0111\u01b0\u1ee3c bi\u1ec3u di\u1ec5n b\u1eb1ng hai bit kh\u00e1c. C\u00e1c bit cho c\u00e1c \u00f4 con \u0111\u01b0\u1ee3c th\u00eam v\u00e0o c\u00e1c bit hi\u1ec7n c\u00f3. Ta l\u1eb7p l\u1ea1i ph\u1ea7n chia nh\u1ecf n\u00e0y v\u00e0 ti\u1ebfp t\u1ee5c th\u00eam nhi\u1ec1u bit h\u01a1n v\u00e0o geohash. Ta d\u1eebng chia khi \u00f4 \u0111\u1ea1t \u0111\u01b0\u1ee3c k\u00edch th\u01b0\u1edbc mong mu\u1ed1n.</p> <p></p> <p>\u1ede \u0111\u00e2y ta c\u00f3 m\u1ed9t v\u00ed d\u1ee5 v\u1ec1 \u00f4 ch\u1ee9a tr\u1ee5 s\u1edf ch\u00ednh c\u1ee7a Google. K\u00edch th\u01b0\u1edbc \u00f4 \u1edf \u0111\u00e2y s\u1ebd l\u00e0 1200m x 600m. Thay v\u00ec d\u00f9ng x\u00e2u d\u00e0i g\u1ed3m 0 v\u00e0 1 \u0111\u1ec3 bi\u1ec3u th\u1ecb geohash, n\u00f3 \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1 d\u01b0\u1edbi d\u1ea1ng x\u00e2u base32. \u1ede \u0111\u00e2y, s\u1ed1 nh\u1ecb ph\u00e2n d\u00e0i \u0111\u00f3 \u0111\u01b0\u1ee3c chuy\u1ec3n th\u00e0nh x\u00e2u base32 c\u00f3 6 ch\u1eef c\u00e1i. </p> <p></p> <p>N\u00f3i c\u00e1ch kh\u00e1c, \u0111\u1ed9 d\u00e0i x\u00e2u \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1 base32 s\u1ebd x\u00e1c d\u1ecbnh k\u00edch th\u01b0\u1edbc \u00f4. Ch\u00fang \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 \u0111\u1ed9 ch\u00ednh x\u00e1c hay level. C\u00f3 12 level nh\u01b0 v\u1eady. \u0110\u1ed1i v\u1edbi LBS, ta ch\u1ec9 c\u1ea7n quan t\u00e2m \u0111\u1ebfn \u0111\u1ed9 d\u00e0i 4 \u0111\u1ebfn 6. \u00d4 l\u1edbn h\u01a1n 6 s\u1ebd qu\u00e1 nh\u1ecf, c\u00f2n \u00f4 nh\u1ecf h\u01a1n 4 s\u1ebd qu\u00e1 to. L\u01b0u \u00fd l\u00e0 b\u1ea3ng \u1edf d\u01b0\u1edbi c\u00f3 v\u00e0i sai s\u00f3t v\u1ec1 m\u1eb7t \u0111\u01a1n v\u1ecb.</p> <p></p> <p>Gi\u1edd l\u00e0m sao \u0111\u1ec3 ch\u1ecdn level ph\u00f9 h\u1ee3p v\u1edbi b\u00e1n k\u00ednh \u0111\u00e2y? Ta mu\u1ed1n t\u00ecm \u0111\u1ed9 d\u00e0i geohash t\u1ed1i thi\u1ec3u \u0111\u1ec3 n\u00f3 bao ph\u1ee7 to\u00e0n b\u1ed9 v\u00f2ng tr\u00f2ng. V\u00ed d\u1ee5, n\u1ebfu b\u00e1n k\u00ednh l\u00e0 2km, th\u00ec \u0111\u1ed9 d\u00e0i geohash ph\u1ea3i l\u00e0 5. M\u1ed9t c\u00e1i hay kh\u00e1c c\u1ee7a geohash l\u00e0 n\u00f3 ch\u1ec9 l\u00e0 m\u1ed9t x\u00e2u. T\u00ecm t\u1ea5t c\u1ea3 doanh nghi\u1ec7p trong m\u1ed9t geohash r\u1ea5t \u0111\u01a1n gi\u1ea3n. Ngh\u0129a l\u00e0 d\u00f9ng database n\u00e0o c\u0169ng \u1ed5n. Ta kh\u00f4ng c\u1ea7n ph\u1ea3i s\u1eed d\u1ee5ng m\u1ed9t database kh\u00f4ng gian \u0111\u1ecba l\u00fd n\u00e0o \u0111\u1eb7c bi\u1ec7t c\u1ea3. </p> <p>Geohash ho\u1ea1t \u0111\u1ed9ng t\u1ed1t trong ph\u1ea7n l\u1edbn th\u1eddi gian, nh\u01b0ng c\u00f3 m\u1ed9t v\u00e0i tr\u01b0\u1eddng h\u1ee3p m\u00e0 ta c\u1ea7n ch\u00fa \u00fd. C\u00e1c tr\u01b0\u1eddng h\u1ee3p n\u00e0y li\u00ean quan \u0111\u1ebfn vi\u1ec7c x\u1eed l\u00fd ph\u1ea7n bi\u00ean c\u1ee7a geohash. N\u1ebfu hai geohash c\u00f3 c\u00f9ng ti\u1ec1n t\u1ed1, ta bi\u1ebft ch\u00fang g\u1ea7n nhau. V\u00ed d\u1ee5, \u0111\u00e2y l\u00e0 m\u1ed9t s\u1ed1 \u00f4 c\u00f3 c\u00f9ng prefix <code>9q8zn</code>. </p> <p></p> <p>Tuy nhi\u00ean, \u0111i\u1ec1u ng\u01b0\u1ee3c l\u1ea1i kh\u00f4ng \u0111\u00fang. Hai \u00f4 c\u00f3 th\u1ec3 n\u1eb1m c\u1ea1nh nhau nh\u01b0ng l\u1ea1i kh\u00f4ng c\u00f3 ti\u1ec1n t\u1ed1 chung. \u0110\u00f3 l\u00e0 v\u00ec c\u00e1c \u00f4 n\u1eb1m hai b\u00ean \u0111\u01b0\u1eddng x\u00edch \u0111\u1ea1o ho\u1eb7c kinh tuy\u1ebfn g\u1ed1c n\u1eb1m \u1edf hai n\u1eeda kh\u00e1c nhau c\u1ee7a th\u1ebf gi\u1edbi. V\u00ed d\u1ee5, hai th\u00e0nh ph\u1ed1 Ph\u00e1p n\u00e0y ch\u1ec9 c\u00e1ch nhau 30km, nh\u01b0ng geohash c\u1ee7a ch\u00fang l\u1ea1i kh\u00f4ng c\u00f3 ti\u1ec1n t\u1ed1 chung. M\u1ed9t v\u1ea5n \u0111\u1ec1 kh\u00e1c l\u00e0 hai \u0111\u1ecba \u0111i\u1ec3m c\u00f3 th\u1ec3 c\u00f3 chung m\u1ed9t ti\u1ec1n t\u1ed1 d\u00e0i, nh\u01b0ng l\u1ea1i n\u1eb1m trong c\u00e1c geohash kh\u00e1c nhau. Trong v\u00ed d\u1ee5 n\u00e0y, hai ch\u1ea5m xanh v\u00e0 \u0111\u1ecf c\u00f3 ti\u1ec1n t\u1ed1 chung \u0111\u1ed9 d\u00e0i 5, nh\u01b0ng ch\u00fang l\u1ea1i n\u1eb1m trong hai \u00f4 kh\u00e1c nhau. </p> <p></p> <p>M\u1ed9t gi\u1ea3i ph\u00e1p \u0111\u1ec3 gi\u1ea3i quy\u1ebft c\u1ea3 hai v\u1ea5n \u0111\u1ec1 n\u00e0y l\u00e0 t\u00ecm k\u1ebft qu\u1ea3 kh\u00f4ng ch\u1ec9 trong \u00f4 hi\u1ec7n t\u1ea1i, m\u00e0 c\u00f2n trong 8 \u00f4 g\u1ea7n k\u1ec1 n\u1eefa. T\u00ecm c\u00e1c geohash l\u00e2n c\u1eadn kh\u00f4ng kh\u00f3, c\u00f3 nhi\u1ec1u th\u01b0 vi\u1ec7n h\u1ed7 tr\u1ee3 t\u00ednh to\u00e1n trong th\u1eddi gian h\u1eb1ng s\u1ed1.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#index-dua-tren-cay","title":"Index d\u1ef1a tr\u00ean c\u00e2y","text":"<p>Th\u1ebf c\u00f2n c\u00e1ch ti\u1ebfp c\u1eadn d\u1ef1a tr\u00ean c\u00e2y th\u00ec sao? Ta s\u1ebd kh\u00f4ng \u0111i s\u00e2u v\u00e0o c\u00e0i \u0111\u1eb7t nh\u01b0ng bi\u1ebft th\u00eam n\u00f3 ho\u1ea1t \u0111\u1ed9ng s\u01b0\u01a1ng s\u01b0\u01a1ng ra sao c\u0169ng r\u1ea5t t\u1ed1t. C\u00e1ch n\u00e0y bao g\u1ed3m Quadtree v\u00e0 Google S2. M\u1ed9t quadtree l\u00e0 m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u chia kh\u00f4ng gian hai chi\u1ec1u b\u1eb1ng chia n\u00f3 th\u00e0nh 4 g\u00f3c ph\u1ea7n t\u01b0. </p> <p></p> <p>Vi\u1ec7c chia k\u1ebft th\u00fac khi \u00f4 \u0111\u00e1p \u1ee9ng nh\u1eefng ti\u00eau ch\u00ed nh\u1ea5t \u0111\u1ecbnh. Trong tr\u01b0\u1eddng h\u1ee3p c\u1ee7a ch\u00fang ta, ti\u00eau ch\u00ed c\u00f3 th\u1ec3 l\u00e0 chia cho \u0111\u1ebfn khi s\u1ed1 doanh nghi\u1ec7p trong \u00f4 kh\u00f4ng l\u1edbn h\u01a1n s\u1ed1 n\u00e0o \u0111\u00f3, ch\u1eb3ng h\u1ea1n nh\u01b0 100. </p> <p></p> <p>M\u1ea5u ch\u1ed1t c\u1ee7a quadtree - hay b\u1ea5t k\u1ef3 c\u00e1ch d\u1ef1a tr\u00ean c\u00e2y n\u00e0o - l\u00e0 n\u00f3 l\u00e0 m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u in-memory. N\u00f3 kh\u00f4ng ph\u1ea3i l\u00e0 gi\u1ea3i ph\u00e1p v\u1edbi database. N\u00f3 c\u00f3 ngh\u0129a l\u00e0 index \u0111\u01b0\u1ee3c t\u1ea1o ra b\u1edfi code c\u1ee7a ch\u00fang ta v\u00e0 ch\u1ea1y tr\u00ean c\u00e1c server. \u0110\u00e2y l\u00e0 c\u00e1ch ti\u1ebfp c\u1eadn r\u1ea5t r\u1ea5t kh\u00e1c v\u1edbi t\u1eadp tri\u1ec3n khai v\u00e0 v\u1eadn h\u00e0nh c\u0169ng r\u1ea5t kh\u00e1c. V\u1edbi thi\u1ebft k\u1ebf c\u1ee7a ch\u00fang ta, ta s\u1ebd ch\u1ec9 t\u1eadp trung v\u00e0o geohash th\u00f4i.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#them-geohash-vao-thiet-ke","title":"Th\u00eam geohash v\u00e0o thi\u1ebft k\u1ebf","text":"<p>Ok, quay l\u1ea1i geohash. Ta mu\u1ed1n d\u00f9ng geohash \u0111\u1ec3 index kh\u00f4ng gian \u0111\u1ecba l\u00fd \u0111\u1ec3 t\u0103ng t\u1ed1c t\u00ecm ki\u1ebfm. Ta c\u1ea5u tr\u00fac b\u1ea3ng nh\u01b0 th\u1ebf n\u00e0o? V\u1ec1 c\u01a1 b\u1ea3n, b\u1ea3ng ch\u1ec9 c\u1ea7n 2 c\u1ed9t - geohash v\u00e0 business ID. </p> <p></p> <p>B\u1ea5t k\u1ef3 database quan h\u1ec7 n\u00e0o c\u0169ng c\u00f3 th\u1ec3 x\u1eed l\u00fd geohash. Ta kh\u00f4ng c\u1ea7n database g\u00ec \u0111\u1eb7c bi\u1ec7t c\u1ea3. C\u1ed9t geohash ch\u1ee9a geohash \u1edf level th\u00edch h\u1ee3p cho m\u1ed7i doanh nghi\u1ec7p. Chuy\u1ec3n \u0111\u1ed5i m\u1ed9t to\u1ea1 \u0111\u1ed9 th\u00e0nh geohash kh\u00e1 \u0111\u01a1n gi\u1ea3n, c\u00f3 nhi\u1ec1u th\u01b0 vi\u1ec7n l\u00e0m \u0111\u01b0\u1ee3c \u0111i\u1ec1u \u0111\u00f3. </p> <p>C\u00f3 hai \u0111i\u1ec1u c\u1ea7n ch\u00fa \u00fd \u1edf \u0111\u00e2y. </p> <ul> <li>Nhi\u1ec1u doanh nghi\u1ec7p c\u00f3 th\u1ec3 n\u1eb1m trong c\u00f9ng geohash. Ngh\u0129a l\u00e0 c\u00e1c business ID kh\u00e1c nhau trong m\u1ed9t geohash \u0111\u01b0\u1ee3c l\u01b0u tr\u00ean nhi\u1ec1u h\u00e0ng kh\u00e1c nhau trong database. V\u00e0 c\u00e1c c\u1ed9t geohash v\u00e0 business ID s\u1ebd t\u1ea1o ra m\u1ed9t kho\u00e1 gh\u00e9p. V\u1edbi kho\u00e1 gh\u00e9p n\u00e0y, vi\u1ec7c xo\u00e1 doanh nghi\u1ec7p kh\u1ecfi b\u1ea3ng r\u1ea5t d\u1ec5 d\u00e0ng. </li> <li>Nh\u01b0 \u0111\u00e3 n\u00f3i \u1edf tr\u00ean, ta quan t\u00e2m \u0111\u1ebfn geohash level 4 \u0111\u1ebfn 6. Ch\u00fang t\u01b0\u01a1ng \u1ee9ng v\u1edbi b\u00e1n k\u00ednh t\u00ecm ki\u1ebfm t\u1eeb 0.5 km \u0111\u1ebfn 20 km. C\u1ed9t geohash trong b\u1ea3ng s\u1ebd l\u01b0u geohash level 6. Ta s\u1ebd d\u00f9ng to\u00e1n t\u1eed LIKE trong SQL \u0111\u1ec3 t\u00ecm geohash level ng\u1eafn h\u01a1n. \u0110\u00e2y l\u00e0 m\u1ed9t v\u00ed d\u1ee5. V\u1edbi truy v\u1ea5n n\u00e0y, ta s\u1ebd t\u00ecm t\u1ea5t c\u1ea3 doanh nghi\u1ec7p trong v\u00f2ng geohash <code>9q8zn</code>.</li> </ul> <p></p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#scale-bang-tim-kiem","title":"Scale b\u1ea3ng t\u00ecm ki\u1ebfm","text":"<p>Ti\u1ebfp theo, c\u00f9ng \u0111i v\u00e0o l\u00e0m sao \u0111\u1ec3 scale c\u00e1i b\u1ea3ng n\u00e0y. Ta c\u00f3 th\u1ef1c s\u1ef1 c\u1ea7n scale l\u00ean h\u01a1n 1 database kh\u00f4ng? T\u00ednh nhanh nh\u00e9, m\u1ed7i geohash d\u00e0i 6 k\u00fd t\u1ef1, gi\u1ea3 s\u1eed business ID d\u00e0i 64 bit, ngh\u0129a l\u00e0 8 byte \u0111\u00f3. Ngo\u00e0i ra, ta c\u0169ng mu\u1ed1n l\u01b0u kinh \u0111\u1ed9 v\u0129 \u0111\u1ed9 cho m\u1ed7i doanh nghi\u1ec7p \u0111\u1ec3 t\u00ednh kho\u1ea3ng c\u00e1ch t\u1eeb ng\u01b0\u1eddi d\u00f9ng \u0111\u1ebfn doanh nghi\u1ec7p, th\u00eam 16 byte v\u00f4. V\u00e2y m\u1ed7i h\u00e0ng s\u1ebd t\u1ed1n 30 byte. V\u1edbi 200 tri\u1ec7u doanh nghi\u1ec7p, k\u00edch th\u01b0\u1edbc b\u1ea3ng l\u00e0 kho\u1ea3ng 6GB, kh\u00e1 nh\u1ecf so v\u1edbi ph\u1ea7n c\u1ee9ng b\u00e2y gi\u1edd. </p> <p></p> <p>To\u00e0n b\u1ed9 dataset c\u00f3 th\u1ec3 n\u1eb1m trong m\u1ed9t server database. Tuy nhi\u00ean, QPS \u0111\u1ecdc kh\u00e1 cao, kho\u1ea3ng 5000. Trong gi\u1edd cao \u0111i\u1ec3m, m\u1ed9t database c\u00f3 l\u1ebd l\u00e0 kh\u00f4ng \u0111\u1ee7. C\u00f3 hai c\u00e1ch gi\u1ea3i quy\u1ebft, m\u1ed9t l\u00e0 th\u00eam b\u1ea3n sao \u0111\u1ec3 ph\u1ee5c v\u1ee5 vi\u1ec7c \u0111\u1ecdc, ho\u1eb7c hai l\u00e0 shard database. Shard kh\u00e1 l\u00e0 ph\u1ee9c t\u1ea1p. N\u00f3 c\u1ea7n sharding logic trong code. Th\u1ef1c s\u1ef1 ta kh\u00f4ng c\u00f3 l\u00fd do \u0111\u1ee7 thuy\u1ebft ph\u1ee5c g\u00ec \u0111\u1ec3 shard, v\u00ec dataset c\u00f3 th\u1ec3 n\u1eb1m trong m\u1ed9t m\u00e1y. Ta s\u1ebd ch\u1ecdn c\u00f3 m\u1ed9t \u0111\u1ed1ng b\u1ea3n sao database \u0111\u1ec3 ph\u1ee5c v\u1ee5 request \u0111\u1ecdc, c\u00e1ch n\u00e0y d\u1ec5 h\u01a1n.</p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#caching","title":"Caching","text":"<p>\u0110i\u1ec3m cu\u1ed1i c\u00f9ng l\u00e0 caching. Ta c\u00f3 c\u1ea7n caching kh\u00f4ng? Thi\u1ebft k\u1ebf n\u1eb7ng v\u1ec1 \u0111\u1ecdc, v\u00e0 dataset c\u0169ng nh\u1ecf. Nh\u01b0 \u0111\u00e3 n\u00f3i, ta c\u1ea7n scale vi\u1ec7c \u0111\u1ecdc data, v\u00e0 \u0111\u00e3 th\u00eam b\u1ea3n sao database. Tuy nhi\u00ean c\u00f3 m\u1ed9t dataset kh\u00e1c n\u1eefa, l\u00e0 b\u1ea3ng doanh nghi\u1ec7p. B\u1ea3ng n\u00e0y n\u1eb1m trong ph\u1ea1m vi terabyte, kh\u00f4ng l\u1edbn l\u1eafm. K\u00edch th\u01b0\u1edbc dataset n\u1eb1m tr\u00ean ranh gi\u1edbi m\u00e0 ta c\u00f3 th\u1ec3 c\u00e2n nh\u1eafc sharding. V\u00ec ta kh\u00f4ng update c\u00e1i b\u1ea3ng n\u00e0y nhi\u1ec1u l\u1eafm, v\u00e0 n\u00f3 n\u1eb7ng v\u1ec1 \u0111\u1ecdc, ta c\u00f3 th\u1ec3 tr\u00e1nh sharding n\u1ebfu ta d\u00f9ng cache. N\u00f3 s\u1ebd ch\u1ecbu nhi\u1ec1u request \u0111\u1ecdc v\u00e0 cho ta kh\u00f4ng gian \u0111\u1ec3 scale b\u1ea3ng doanh nghi\u1ec7p. Ta c\u00f3 nhi\u1ec1u l\u1ef1a ch\u1ecdn cho b\u1ea3ng n\u00e0y, nh\u01b0ng ta s\u1ebd gi\u1eef n\u00f3 \u1edf 1 database th\u00f4i. Ta s\u1ebd th\u00eam monitoring \u0111\u1ec3 shard, th\u00eam b\u1ea3n sao hay th\u00eam cache v\u00e0o sau.</p> <p></p> <p></p>"},{"location":"ByteByteGo/design_location_based_service/design_location_based_service/#tong-ket","title":"T\u1ed5ng k\u1ebft","text":"<p>Cu\u1ed1i c\u00f9ng, ta t\u00f3m t\u1eaft v\u00f2ng \u0111\u1eddi c\u1ee7a m\u1ed9t request t\u00ecm ki\u1ebfm. </p> <p>(1) Bob th\u1eed t\u00ecm m\u1ed9t nh\u00e0 h\u00e0ng trong b\u00e1n k\u00ednh 500m. Client g\u1eedi v\u1ecb tr\u00ed v\u00e0 b\u00e1n k\u00ednh \u0111\u1ebfn load balancer. </p> <p>(2) Load balancer chuy\u1ec3n ti\u1ebfp request \u0111\u1ebfn LBS. </p> <p>(3) D\u1ef1a v\u00e0o th\u00f4ng tin t\u1eeb request, service t\u00ecm geohash level \u1ee9ng v\u1edbi request t\u00ecm ki\u1ebfm, \u0111\u00f3 l\u00e0 level 6. </p> <p>(4) Service t\u00ednh to\u00e1n c\u00e1c geohash l\u00e2n c\u1eadn. S\u1ebd c\u00f3 9 geohash \u0111\u1ec3 truy v\u1ea5n. </p> <p>(5) Service g\u1eedi truy v\u1ea5n \u0111\u1ebfn database \u0111\u1ec3 t\u00ecm c\u00e1c business ID v\u00e0 kinh \u0111\u1ed9 v\u0129 \u0111\u1ed9 t\u01b0\u01a1ng \u1ee9ng trong c\u00e1c geohash \u0111\u00f3. </p> <p>(6) Service d\u00f9ng kinh \u0111\u1ed9 v\u0129 \u0111\u1ed9 \u0111\u1ec3 t\u00ednh kho\u1ea3ng c\u00e1ch t\u1eeb ng\u01b0\u1eddi d\u00f9ng \u0111\u1ebfn c\u00e1c nh\u00e0 h\u00e0ng, x\u1ebfp h\u1ea1ng ch\u00fang, v\u00e0 g\u1eedi tr\u1ea3 k\u1ebft qu\u1ea3 l\u1ea1i client.</p> <p></p>"},{"location":"ByteByteGo/dns/dns/","title":"T\u1ea5t t\u1ea7n t\u1eadt v\u1ec1 DNS","text":""},{"location":"ByteByteGo/dns/dns/#nguon","title":"Ngu\u1ed3n","text":"<p> Everything You Need to Know About DNS (Domain Name System)</p>"},{"location":"ByteByteGo/dns/dns/#khai-niem","title":"Kh\u00e1i ni\u1ec7m","text":"<p>DNS (Domain Name System - h\u1ec7 th\u1ed1ng t\u00ean mi\u1ec1n) l\u00e0 m\u1ed9t cu\u1ed1n danh b\u1ea1 c\u1ee7a Internet. N\u00f3 d\u1ecbch c\u00e1c t\u00ean mi\u1ec1n m\u00e0 con ng\u01b0\u1eddi c\u00f3 th\u1ec3 \u0111\u1ecdc \u0111\u01b0\u1ee3c, nh\u01b0 <code>google.com</code> th\u00e0nh c\u00e1c \u0111\u1ecba ch\u1ec9 IP m\u00e0 m\u00e1y c\u00f3 th\u1ec3 \u0111\u1ecdc \u0111\u01b0\u1ee3c. DNS c\u00f3 ph\u1ea7n h\u01a1i kh\u00f3 hi\u1ec3u v\u00ec c\u00f3 nh\u1eefng lo\u1ea1i DNS server kh\u00e1c nhau trong h\u1ec7 th\u1ed1ng ph\u00e2n c\u1ea5p DNS, m\u1ed7i lo\u1ea1i ph\u1ee5c v\u1ee5 cho m\u1ed9t m\u1ee5c \u0111\u00edch kh\u00e1c nhau.</p> <p></p> <p>Khi tr\u00ecnh duy\u1ec7t th\u1ef1c hi\u1ec7n truy v\u1ea5n DNS, tr\u00ecnh duy\u1ec7t \u0111\u00f3 \u0111ang h\u1ecfi m\u1ed9t DNS resolver (tr\u00ecnh ph\u00e2n gi\u1ea3i DNS). DNS resolver c\u00f3 th\u1ec3 \u0111\u1ebfn t\u1eeb ISP ho\u1eb7c t\u1eeb c\u00e1c nh\u00e0 cung c\u1ea5p DNS n\u1ed5i ti\u1ebfng nh\u01b0 1.1.1.1 c\u1ee7a Cloudflare hay 8.8.8.8 c\u1ee7a Google. </p> <p></p> <p>N\u1ebfu DNS resolver kh\u00f4ng c\u00f3 c\u00e2u tr\u1ea3 l\u1eddi trong cache c\u1ee7a n\u00f3, n\u00f3 s\u1ebd t\u00ecm v\u00e0 h\u1ecfi \u0111\u00fang authoritative nameserver (m\u00e1y ch\u1ee7 \u0111\u1ecbnh danh c\u00f3 th\u1ea9m quy\u1ec1n). Authoritative nameserver l\u00e0 m\u00e1y ch\u1ee7 ch\u1ee9a c\u00e2u tr\u1ea3 l\u1eddi. Khi c\u1eadp nh\u1eadt b\u1ea3n ghi DNS c\u1ee7a t\u00ean mi\u1ec1n, ta \u0111ang c\u1eadp nh\u1eadt authoritative nameserver c\u1ee7a n\u00f3.</p> <p></p> <p>L\u00e0m sao \u0111\u1ec3 DNS resolver t\u00ecm ra \u0111\u01b0\u1ee3c authoritative nameserver? C\u00f3 ba c\u1ea5p \u0111\u1ed9 ch\u00ednh c\u1ee7a authoritative DNS server, bao g\u1ed3m root name servers (m\u00e1y ch\u1ee7 \u0111\u1ecbnh danh g\u1ed1c), top level domain (TLD) nameservers (m\u00e1y ch\u1ee7 \u0111\u1ecbnh danh mi\u1ec1n c\u1ea5p cao nh\u1ea5t) v\u00e0 authoritative nameservers cho c\u00e1c mi\u1ec1n (m\u00e1y ch\u1ee7 \u0111\u1ecbnh danh c\u00f3 th\u1ea9m quy\u1ec1n).</p> <p></p> <p>Root name servers l\u01b0u tr\u1eef \u0111\u1ecba ch\u1ec9 IP c\u1ee7a TLD nameserver. C\u00f3 13 logical root name servers. M\u1ed7i root name server c\u00f3 m\u1ed9t \u0111\u1ecba ch\u1ec9 IP \u0111\u01b0\u1ee3c g\u00e1n cho n\u00f3.</p> <p></p> <p>Tr\u00ean th\u1ef1c t\u1ebf, c\u00f3 nhi\u1ec1u m\u00e1y ch\u1ee7 v\u1eadt l\u00fd \u0111\u1eb1ng sau m\u1ed7i \u0111\u1ecba ch\u1ec9 IP. Th\u00f4ng qua anycast, ta \u0111\u01b0\u1ee3c \u0111\u1ecbnh tuy\u1ebfn \u0111\u1ebfn m\u00e1y ch\u1ee7 g\u1ea7n nh\u1ea5t.</p> <p>M\u00e1y ch\u1ee7 \u0111\u1ecbnh danh TLD l\u01b0u \u0111\u1ecba ch\u1ec9 IP c\u1ee7a c\u00e1c authoritative nameserver cho t\u1ea5t c\u1ea3 c\u00e1c mi\u1ec1n trong quy\u1ec1n ki\u1ec3m so\u00e1t c\u1ee7a ch\u00fang. C\u00f3 nhi\u1ec1u lo\u1ea1i t\u00ean TLD nh\u01b0 <code>.com</code>, <code>.org</code>, <code>.edu</code>. Ngo\u00e0i ra c\u00f2n c\u00f3 c\u00e1c m\u00e3 TLD qu\u1ed1c gia nh\u01b0 <code>.de</code> v\u00e0 <code>.uk</code>.</p> <p></p> <p>C\u00e1c authoritative nameserver cho t\u00ean mi\u1ec1n cung c\u1ea5p c\u00e1c c\u00e2u tr\u1ea3 l\u1eddi \u0111\u00e1ng tin c\u1eady v\u00e0 ch\u00ednh x\u00e1c cho c\u00e1c truy v\u1ea5n DNS. Khi ta \u0111\u0103ng k\u00fd m\u1ed9t t\u00ean mi\u1ec1n, nh\u00e0 \u0111\u0103ng k\u00fd t\u00ean mi\u1ec1n s\u1ebd ch\u1ea1y c\u00e1c authoritative\u00a0nameserver nh\u01b0ng ta c\u00f3 th\u1ec3 \u0111\u1ed5i ch\u00fang th\u00e0nh c\u00e1c server kh\u00e1c. C\u00e1c nh\u00e0 cung c\u1ea5p \u0111\u00e1m m\u00e2y nh\u01b0 AWS v\u00e0 Cloudflare c\u00f3 c\u00e1c authoritative\u00a0nameserver m\u1ea1nh m\u1ebd. Thi\u1ebft k\u1ebf ph\u00e2n c\u1ea5p n\u00e0y l\u00e0m cho DNS c\u00f3 \u0111\u1ed9 ph\u00e2n c\u1ea5p cao v\u00e0 c\u1ef1c k\u1ef3 m\u1ea1nh m\u1ebd.</p> <p></p>"},{"location":"ByteByteGo/dns/dns/#truy-van-dns","title":"Truy v\u1ea5n DNS","text":"<p>(1) Ng\u01b0\u1eddi d\u00f9ng g\u00f5 <code>google.com</code> v\u00e0o tr\u00ecnh duy\u1ec7t. Tr\u00ecnh duy\u1ec7t ki\u1ec3m tra cache c\u1ee7a n\u00f3. N\u1ebfu kh\u00f4ng c\u00f3 c\u00e2u tr\u1ea3 l\u1eddi th\u00ec tr\u00ecnh duy\u1ec7t s\u1ebd g\u1ecdi system call \u0111\u1ec3 l\u1ea5y IP. System call c\u0169ng c\u00f3 cache ri\u00eang. N\u1ebfu v\u1eabn kh\u00f4ng c\u00f3 IP th\u00ec n\u00f3 s\u1ebd h\u1ecfi DNS resolver. </p> <p>(2) DNS resolver c\u0169ng s\u1ebd ki\u1ec3m tra cache c\u1ee7a n\u00f3. </p> <p>(3) N\u1ebfu v\u1eabn kh\u00f4ng c\u00f3 c\u00e2u tr\u1ea3 l\u1eddi ho\u1eb7c c\u00e2u tr\u1ea3 l\u1eddi h\u1ebft h\u1ea1n th\u00ec n\u00f3 s\u1ebd h\u1ecfi root name server. Root name server tr\u1ea3 l\u1eddi v\u1edbi danh s\u00e1ch TLD nameserver <code>.com</code>.</p> <p>(4) L\u01b0u \u00fd r\u1eb1ng v\u00ec <code>.com</code> l\u00e0 m\u1ed9t TLD ph\u1ed5 bi\u1ebfn n\u00ean resolver r\u1ea5t c\u00f3 th\u1ec3 \u0111\u00e3 cache \u0111\u1ecba ch\u1ec9 IP v\u00e0o nh\u1eefng TLD nameserver <code>.com</code> \u0111\u00f3. </p> <p>(5) Sau \u0111\u00f3, DNS resolver s\u1ebd h\u1ecfi TLD nameserver <code>.com</code></p> <p>(6) TLD nameserver <code>.com</code> tr\u1ea3 v\u1ec1 c\u00e1c authoritative\u00a0nameserver c\u1ee7a <code>google.com</code>. </p> <p>(7) + (8) Cu\u1ed1i c\u00f9ng, DNS resolver h\u1ecfi authoritative\u00a0nameserver c\u1ee7a <code>google.com</code> v\u00e0 n\u00f3 tr\u1ea3 v\u1ec1 \u0111\u1ecba ch\u1ec9 IP c\u1ee7a <code>google.com</code>.</p> <p>(9) DNS resolver tr\u1ea3 \u0111\u1ecba ch\u1ec9 IP v\u1ec1 cho h\u1ec7 \u0111i\u1ec1u h\u00e0nh, h\u1ec7 \u0111i\u1ec1u h\u00e0nh tr\u1ea3 l\u1ea1i \u0111\u1ecba ch\u1ec9 \u0111\u00f3 cho tr\u00ecnh duy\u1ec7t.</p> <p></p>"},{"location":"ByteByteGo/dns/dns/#cap-nhat-ban-ghi-dns","title":"C\u1eadp nh\u1eadt b\u1ea3n ghi DNS","text":"<p>Qu\u00e1 tr\u00ecnh truy\u1ec1n DNS ch\u1eadm v\u00ec c\u00f3 m\u1ed9t TTL (th\u1eddi gian s\u1ed1ng - Time-To-Live) tr\u00ean m\u1ed7i b\u1ea3n ghi DNS. V\u00e0 m\u1ed9t s\u1ed1 TTL m\u1eb7c \u0111\u1ecbnh kh\u00e1 l\u00e0 d\u00e0i. Ngo\u00e0i ra, kh\u00f4ng ph\u1ea3i t\u1ea5t c\u1ea3 DNS resolver \u0111\u1ec1u t\u1ed1t. C\u00f3 m\u1ed9t s\u1ed1 kh\u00f4ng coi tr\u1ecdng TTL. \u0110\u1ec3 gi\u1ea3m r\u1ee7i ro, c\u00f3 hai b\u01b0\u1edbc c\u1ea7n th\u1ef1c hi\u1ec7n.</p> <p>\u0110\u1ea7u ti\u00ean, gi\u1ea3m TTL cho b\u1ea3n ghi th\u00e0nh m\u1ed9t kho\u1ea3ng th\u1eddi gian r\u1ea5t ng\u1eafn, t\u1ea7m 1 ph\u00fat, tr\u01b0\u1edbc khi qu\u00e1 tr\u00ecnh c\u1eadp nh\u1eadt x\u1ea3y ra. \u0110i\u1ec1u n\u00e0y mang l\u1ea1i th\u1eddi gian \u0111\u1ec3 t\u1ea5t c\u1ea3 c\u00e1c m\u00e1y ch\u1ee7 DNS nh\u1eadn TTL m\u1edbi n\u00e0y, v\u00e0 s\u1ebd cho ph\u00e9p b\u1ea3n c\u1eadp nh\u1eadt th\u1ef1c t\u1ebf c\u00f3 hi\u1ec7u l\u1ef1c d\u1ef1a tr\u00ean TTL \u0111\u00f3.</p> <p>Th\u1ee9 hai, \u0111\u1ec3 m\u00e1y ch\u1ee7 ch\u1ea1y tr\u00ean \u0111\u1ecba ch\u1ec9 IP c\u0169 trong m\u1ed9t th\u1eddi gian. Ch\u1ec9 ng\u1eebng ho\u1ea1t \u0111\u1ed9ng m\u00e1y ch\u1ee7 khi l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp gi\u1ea3m xu\u1ed1ng m\u1ee9c ch\u1ea5p nh\u1eadn \u0111\u01b0\u1ee3c. V\u00ec m\u1ed9t s\u1ed1 DNS resolver kh\u00f4ng coi tr\u1ecdng TTL n\u00ean vi\u1ec7c n\u00e0y c\u00f3 th\u1ec3 m\u1ea5t ch\u00fat th\u1eddi gian.</p>"},{"location":"ByteByteGo/graphql/graphql/","title":"GraphQL l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/graphql/graphql/#nguon","title":"Ngu\u1ed3n","text":"<p> What Is GraphQL? REST vs. GraphQL</p>"},{"location":"ByteByteGo/graphql/graphql/#inh-nghia","title":"\u0110\u1ecbnh ngh\u0129a","text":"<p>GraphQL l\u00e0 ng\u00f4n ng\u1eef truy v\u1ea5n d\u00e0nh cho API do Meta ph\u00e1t tri\u1ec3n. N\u00f3 cung c\u1ea5p m\u1ed9t data schema trong API v\u00e0 cung c\u1ea5p cho client quy\u1ec1n y\u00eau c\u1ea7u ch\u00ednh x\u00e1c nh\u1eefng g\u00ec client c\u1ea7n.</p> <p></p> <p>GraphQL n\u1eb1m gi\u1eefa client v\u00e0 backend service. N\u00f3 c\u00f3 th\u1ec3 t\u1ed5ng h\u1ee3p nhi\u1ec1u y\u00eau c\u1ea7u t\u00e0i nguy\u00ean v\u00e0o m\u1ed9t truy v\u1ea5n duy nh\u1ea5t. N\u00f3 c\u0169ng h\u1ed7 tr\u1ee3 mutation v\u00e0 subscription.</p> <p>Mutation l\u00e0 c\u00e1ch GraphQL \u00e1p d\u1ee5ng c\u00e1c s\u1eeda \u0111\u1ed5i data cho t\u00e0i nguy\u00ean.</p> <p></p> <p>Subscription l\u00e0 c\u00e1ch GraphQL cho client nh\u1eadn th\u00f4ng b\u00e1o v\u1ec1 c\u00e1c thay \u0111\u1ed5i trong d\u1eef li\u1ec7u.</p> <p></p>"},{"location":"ByteByteGo/graphql/graphql/#so-sanh-voi-rest","title":"So s\u00e1nh v\u1edbi REST","text":"<p>Trong th\u1ef1c t\u1ebf, c\u1ea3 GraphQL v\u00e0 REST \u0111\u1ec1u g\u1eedi HTTP request v\u00e0 nh\u1eadn HTTP response.</p> <p></p> <p>Ta s\u1ebd so s\u00e1nh c\u00e1c thao t\u00e1c REST v\u00e0 GraphQL \u0111\u01a1n gi\u1ea3n tr\u00f4ng nh\u01b0 th\u1ebf n\u00e0o.</p> <p>REST xoay quanh c\u00e1c t\u00e0i nguy\u00ean. M\u1ed7i t\u00e0i nguy\u00ean \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh b\u1eb1ng m\u1ed9t URL. \u0110\u1ec3 l\u1ea5y th\u00f4ng tin c\u1ee7a m\u1ed9t cu\u1ed1n s\u00e1ch t\u1eeb API c\u1ee7a nh\u00e0 s\u00e1ch, n\u00f3 c\u00f3 th\u1ec3 gi\u1ed1ng nh\u01b0 th\u1ebf n\u00e0y. L\u01b0u \u00fd tr\u01b0\u1eddng t\u00e1c gi\u1ea3 tu\u1ef3 v\u00e0o vi\u1ec7c c\u00e0i \u0111\u1eb7t. M\u1ed9t s\u1ed1 tri\u1ec3n khai REST API c\u00f3 th\u1ec3 chia ch\u00fang th\u00e0nh c\u00e1c l\u1eddi g\u1ecdi REST ri\u00eang bi\u1ec7t.</p> <p></p> <p>Tuy nhi\u00ean, \u0111i\u1ec1u n\u00e0y s\u1ebd kh\u00e1c v\u1edbi GraphQL. \u0110\u1ea7u ti\u00ean ta x\u00e1c \u0111\u1ecbnh c\u00e1c type (lo\u1ea1i). Trong v\u00ed d\u1ee5 n\u00e0y ta c\u00f3 c\u00e1c type l\u00e0 Book v\u00e0 Author. C\u00e1c type n\u00e0y m\u00f4 t\u1ea3 c\u00e1c lo\u1ea1i d\u1eef li\u1ec7u c\u00f3 s\u1eb5n.</p> <p></p> <p>Ch\u00fang kh\u00f4ng ch\u1ec9 \u0111\u1ecbnh c\u00e1ch truy xu\u1ea5t d\u1eef li\u1ec7u qua GraphQL. \u0110\u1ec3 l\u00e0m \u0111\u01b0\u1ee3c \u0111i\u1ec1u \u0111\u00f3, ta c\u1ea7n \u0111\u1ecbnh ngh\u0129a m\u1ed9t truy v\u1ea5n, nh\u01b0 sau.</p> <p></p> <p>Gi\u1edd ta c\u1ea7n g\u1eedi m\u1ed9t request \u0111\u1ebfn GraphQL endpoint \u0111\u1ec3 l\u1ea5y data.</p> <p></p> <p></p> <p>Nh\u01b0 ta th\u1ea5y th\u00ec c\u1ea3 REST v\u00e0 GraphQL \u0111\u1ec1u d\u00f9ng HTTP. C\u1ea3 hai \u0111\u1ec1u g\u1eedi request qua m\u1ed9t URL, v\u00e0 ch\u00fang \u0111\u1ec1u c\u00f3 th\u1ec3 tr\u1ea3 v\u1ec1 m\u1ed9t JSON response nh\u01b0 nhau. Nh\u01b0ng \u0111\u00e2y l\u00e0 s\u1ef1 kh\u00e1c bi\u1ec7t: V\u1edbi GraphQL, ta ch\u1ec9 \u0111\u1ecbnh ch\u00ednh x\u00e1c c\u00e1c t\u00e0i nguy\u00ean m\u00e0 ta mu\u1ed1n, v\u00e0 c\u1ea3 nh\u1eefng tr\u01b0\u1eddng m\u00e0 ta mu\u1ed1n.</p> <p></p> <p>Trong v\u00ed d\u1ee5 v\u1ec1 REST, tr\u01b0\u1eddng Author c\u00f3 s\u1eb5n trong response. Nh\u01b0ng v\u1edbi GraphQL, client quy\u1ebft \u0111\u1ecbnh nh\u1eefng g\u00ec c\u00f3 trong response.</p> <p></p> <p>\u0110i\u1ec1u n\u00e0y mang \u0111\u1ebfn m\u1ed9t trong nh\u1eefng l\u1ee3i \u00edch ch\u00ednh c\u1ee7a GraphQL. GraphQL kh\u00f4ng s\u1eed d\u1ee5ng URL \u0111\u1ec3 ch\u1ec9 \u0111\u1ecbnh t\u00e0i nguy\u00ean c\u00f3 s\u1eb5n trong API. Thay v\u00e0o \u0111\u00f3 n\u00f3 s\u1eed d\u1ee5ng GraphQL schema. Ta c\u00f3 th\u1ec3 g\u1eedi m\u1ed9t truy v\u1ea5n ph\u1ee9c t\u1ea1p \u0111\u1ec3 l\u1ea5y data b\u1ed5 sung theo c\u00e1c quan h\u1ec7 \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh trong schema. </p> <p></p> <p>\u0110i\u1ec1u n\u00e0y s\u1ebd ph\u1ee9c t\u1ea1p h\u01a1n n\u1ebfu ta mu\u1ed1n l\u00e0m trong REST. Ta s\u1ebd ph\u1ea3i th\u1ef1c hi\u1ec7n \u0111i\u1ec1u \u0111\u00f3 \u1edf client v\u1edbi nhi\u1ec1u request. \u0110\u00e2y l\u00e0 v\u1ea5n \u0111\u1ec1 ph\u1ed5 bi\u1ebfn d\u1eabn \u0111\u1ebfn N+1 truy v\u1ea5n.</p> <p></p>"},{"location":"ByteByteGo/graphql/graphql/#nhuoc-iem","title":"Nh\u01b0\u1ee3c \u0111i\u1ec3m","text":"<p>C\u00e1i hay c\u1ee7a REST l\u00e0 ta kh\u00f4ng c\u1ea7n c\u00e1c th\u01b0 vi\u1ec7n \u0111\u1eb7c bi\u1ec7t \u0111\u1ec3 s\u1eed d\u1ee5ng API c\u1ee7a ng\u01b0\u1eddi kh\u00e1c. Request c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c g\u1eedi \u0111\u01a1n gi\u1ea3n b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng c\u00e1c c\u00f4ng c\u1ee5 ph\u1ed5 bi\u1ebfn nh\u01b0 cURL hay tr\u00ecnh duy\u1ec7t web.</p> <p>Ng\u01b0\u1ee3c l\u1ea1i, GraphQL y\u00eau c\u1ea7u c\u00f4ng c\u1ee5 h\u1ed7 tr\u1ee3 n\u1eb7ng h\u01a1n, c\u1ea3 \u1edf ph\u00eda client v\u00e0 server. \u0110i\u1ec1u n\u00e0y \u0111\u00f2i h\u1ecfi m\u1ed9t kho\u1ea3n \u0111\u1ea7u t\u01b0 tr\u01b0\u1edbc kh\u00e1 l\u1edbn. Chi ph\u00ed n\u00e0y c\u00f3 th\u1ec3 kh\u00f4ng \u0111\u00e1ng, \u0111\u1eb7c bi\u1ec7t l\u00e0 v\u1edbi c\u00e1c API CRUD \u0111\u01a1n gi\u1ea3n.</p> <p>M\u1ed9t nh\u01b0\u1ee3c \u0111i\u1ec3m n\u1eefa c\u1ee7a GraphQL l\u00e0 n\u00f3 kh\u00f3 l\u01b0u v\u00e0o cache h\u01a1n. REST d\u00f9ng HTTP GET \u0111\u1ec3 l\u1ea5y data, v\u00e0 HTTP GET th\u01b0\u1eddng cache response nh\u1edd c\u00f3 s\u1ef1 gi\u00fap \u0111\u1ee1 c\u1ee7a tr\u00ecnh duy\u1ec7t, CDN, proxy v\u00e0 web server. GraphQL ch\u1ec9 c\u00f3 m\u1ed9t \u0111\u1ea7u v\u00e0o duy nh\u1ea5t v\u00e0 d\u00f9ng HTTP POST theo m\u1eb7c \u0111\u1ecbnh. \u0110i\u1ec1u n\u00e0y kh\u00f4ng t\u1eadn d\u1ee5ng h\u1ebft HTTP caching. N\u1ebfu c\u1ea9n th\u1eadn, GraphQL c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c c\u1ea5u h\u00ecnh \u0111\u1ec3 t\u1eadn d\u1ee5ng t\u1ed1t h\u01a1n HTTP caching, tuy nhi\u00ean \u0111\u00e2y l\u00e0 c\u00f4ng vi\u1ec7c kh\u00f4ng h\u1ec1 \u0111\u01a1n gi\u1ea3n.</p> <p>Nh\u01b0\u1ee3c \u0111i\u1ec3m cu\u1ed1i c\u00f9ng c\u1ee7a GraphQL l\u00e0 d\u00f9 n\u00f3 cho ph\u00e9p client truy v\u1ea5n nh\u1eefng g\u00ec client c\u1ea7n, \u0111\u00e2y c\u0169ng l\u00e0 m\u1ed9t m\u1ed1i nguy l\u1edbn. T\u01b0\u1edfng t\u01b0\u1ee3ng r\u1eb1ng m\u1ed9t app di d\u1ed9ng c\u00f3 m\u1ed9t t\u00ednh n\u0103ng m\u1edbi v\u00f4 t\u00ednh scan m\u1ed9t table quan tr\u1ecdng \u1edf backend service. \u0110i\u1ec1u n\u00e0y c\u00f3 th\u1ec3 khi\u1ebfn DB ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng ngay khi t\u00ednh n\u0103ng \u0111\u01b0\u1ee3c cho ra m\u1eaft. T\u1ea5t nhi\u00ean ta c\u00f3 c\u00e1ch x\u1eed l\u00fd r\u1ed3i, nh\u01b0ng vi\u1ec7c tri\u1ec3n khai GraphQL s\u1ebd tr\u1edf n\u00ean kh\u00f3 kh\u0103n h\u01a1n. Chi ph\u00ed \u0111\u1ec3 ph\u00f2ng ng\u1eeba nh\u1eefng r\u1ee7i ro nh\u01b0 th\u1ebf n\u00e0y c\u1ea7n ph\u1ea3i \u0111\u01b0\u1ee3c t\u00ednh \u0111\u1ebfn khi xem x\u00e9t d\u00f9ng GraphQL.</p> <p>V\u1eady ta c\u00f3 n\u00ean d\u00f9ng GraphQL kh\u00f4ng? N\u00f3i v\u1ec1 c\u00f4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m l\u00e0 n\u00f3i v\u1ec1 s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i, ch\u1ec9 c\u00f3 ph\u00f9 h\u1ee3p hay kh\u00f4ng ch\u1ee9 th\u1ef1c s\u1ef1 kh\u00f4ng c\u00f3 c\u00e2u tr\u1ea3 l\u1eddi ch\u00ednh x\u00e1c.</p>"},{"location":"ByteByteGo/grpc/grpc/","title":"gRPC l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/grpc/grpc/#nguon","title":"Ngu\u1ed3n","text":"<p> What is RPC? gRPC Introduction.</p>"},{"location":"ByteByteGo/grpc/grpc/#inh-nghia","title":"\u0110\u1ecbnh ngh\u0129a","text":"<p>gRPC l\u00e0 m\u1ed9t framework l\u1ec7nh g\u1ecdi th\u1ee7 t\u1ee5c t\u1eeb xa (Remote Procedure Call - RPC) m\u00e3 ngu\u1ed3n m\u1edf do Google t\u1ea1o ra n\u0103m 2016. \u0110\u00e2y l\u00e0 b\u1ea3n l\u00e0m l\u1ea1i c\u1ee7a c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng RPC n\u1ed9i b\u1ed9 m\u00e0 Google \u0111\u00e3 d\u00f9ng trong nhi\u1ec1u n\u0103m.</p> <p>Nh\u01b0ng m\u00e0 RPC l\u00e0 g\u00ec?</p> <p>M\u1ed9t l\u1ec7nh g\u1ecdi th\u1ee7 t\u1ee5c c\u1ee5c b\u1ed9 (local procedure call) l\u00e0 l\u1ec7nh g\u1ecdi h\u00e0m trong m\u1ed9t process \u0111\u1ec3 th\u1ef1c thi m\u1ed9t s\u1ed1 code g\u00ec \u0111\u00f3.</p> <p>M\u1ed9t l\u1ec7nh g\u1ecdi th\u1ee7 t\u1ee5c t\u1eeb xa (remote proceduree call) cho ph\u00e9p m\u1ed9t m\u00e1y g\u1ecdi m\u1ed9t s\u1ed1 code tr\u00ean m\u00e1y kh\u00e1c nh\u01b0 th\u1ec3 \u0111\u00f3 l\u00e0 l\u1ec7nh g\u1ecdi h\u00e0m c\u1ee5c b\u1ed9 t\u1eeb g\u00f3c nh\u00ecn c\u1ee7a ng\u01b0\u1eddi d\u00f9ng.</p> <p></p> <p>gRPC l\u00e0 m\u1ed9t tri\u1ec3n khai ph\u1ed5 bi\u1ebfn c\u1ee7a RPC.</p> <p>Nhi\u1ec1u t\u1ed5 ch\u1ee9c \u0111\u00e3 s\u1eed d\u1ee5ng gRPC l\u00e0m c\u01a1 ch\u1ebf RPC \u01b0u ti\u00ean \u0111\u1ec3 k\u1ebft n\u1ed1i m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng l\u1edbn microservice \u0111ang ch\u1ea1y trong v\u00e0 gi\u1eefa c\u00e1c data center. Tuy nhi\u00ean, l\u00e0m sao gRPC l\u1ea1i ph\u1ed5 bi\u1ebfn nh\u01b0 v\u1eady?</p>"},{"location":"ByteByteGo/grpc/grpc/#su-pho-bien","title":"S\u1ef1 ph\u1ed5 bi\u1ebfn","text":""},{"location":"ByteByteGo/grpc/grpc/#he-sinh-thai-dev-manh","title":"H\u1ec7 sinh th\u00e1i dev m\u1ea1nh","text":"<p>\u0110\u1ea7u ti\u00ean, gPRC c\u00f3 m\u1ed9t h\u1ec7 sinh th\u00e1i dev r\u1ea5t m\u1ea1nh. \u0110i\u1ec1u n\u00e0y gi\u00fap d\u1ec5 d\u00e0ng ph\u00e1t tri\u1ec3n c\u00e1c API ch\u1ea5t l\u01b0\u1ee3ng cao v\u00e0 c\u00f3 th\u1ec3 m\u1edf r\u1ed9ng quy m\u00f4 t\u1ed1t. C\u1ed1t l\u00f5i c\u1ee7a h\u1ec7 sinh th\u00e1i n\u00e0y l\u00e0 vi\u1ec7c s\u1eed d\u1ee5ng Protocol Buffers (hay protobuf) l\u00e0m \u0111\u1ecbnh d\u1ea1ng trao \u0111\u1ed5i d\u1eef li\u1ec7u.</p> <p>Protocol Buffers l\u00e0 m\u1ed9t c\u01a1 ch\u1ebf kh\u00f4ng ph\u1ee5 thu\u1ed9c v\u00e0o ng\u00f4n ng\u1eef v\u00e0 n\u1ec1n t\u1ea3ng \u0111\u1ec3 m\u00e3 ho\u00e1 d\u1eef li\u1ec7u c\u00f3 c\u1ea5u tr\u00fac. gRPC s\u1eed d\u1ee5ng Protocol Buffers \u0111\u1ec3 m\u00e3 ho\u00e1 v\u00e0 g\u1eedi d\u1eef li\u1ec7u qua d\u00e2y d\u1eabn nh\u01b0 b\u00ecnh th\u01b0\u1eddng. </p> <p></p> <p>M\u1eb7c d\u00f9 gRPC c\u00f3 th\u1ec3 h\u1ed7 tr\u1ee3 c\u00e1c \u0111\u1ecbnh d\u1ea1ng m\u00e3 ho\u00e1 kh\u00e1c nh\u01b0 JSON, Protocol Buffers l\u1ea1i cung c\u1ea5p m\u1ed9t s\u1ed1 l\u1ee3i th\u1ebf khi\u1ebfn n\u00f3 tr\u1edf th\u00e0nh \u0111\u1ecbnh d\u1ea1ng m\u00e3 ho\u00e1 \u0111\u01b0\u1ee3c l\u1ef1a ch\u1ecdn cho gRPC.</p> <p>Protocol Buffers h\u1ed7 tr\u1ee3 c\u00e1c \u0111\u1ecbnh ngh\u0129a schema strongly-typed (ngh\u0129a l\u00e0 \u0111i theo ki\u1ec3u d\u1eef li\u1ec7u r\u00f5 r\u00e0ng v\u1edbi m\u1ed7i tr\u01b0\u1eddng, v\u00ed d\u1ee5 nh\u01b0 string hay integer). C\u1ea5u tr\u00fac data \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh trong m\u1ed9t file proto.</p> <p>Protocol Buffers cung c\u1ea5p nhi\u1ec1u c\u00f4ng c\u1ee5 h\u1ed7 tr\u1ee3 \u0111\u1ec3 chuy\u1ec3n schema \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong file proto th\u00e0nh c\u00e1c l\u1edbp truy c\u1eadp d\u1eef li\u1ec7u cho t\u1ea5t c\u1ea3 c\u00e1c ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh ph\u1ed5 bi\u1ebfn.</p> <p></p> <p>M\u1ed9t gRPC service c\u0169ng \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a trong file proto b\u1eb1ng c\u00e1ch ch\u1ec9 \u0111\u1ecbnh c\u00e1c tham s\u1ed1 v\u00e0 ki\u1ec3u tr\u1ea3 v\u1ec1 c\u1ee7a ph\u01b0\u01a1ng th\u1ee9c gRPC. C\u00f4ng c\u1ee5 t\u01b0\u01a1ng t\u1ef1 c\u0169ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 sinh code client v\u00e0 server t\u1eeb file proto. </p> <p></p> <p>Dev s\u1ebd s\u1eed d\u1ee5ng c\u00e1c l\u1edbp \u0111\u01b0\u1ee3c sinh ra n\u00e0y trong client \u0111\u1ec3 th\u1ef1c hi\u1ec7n c\u00e1c l\u1ec7nh g\u1ecdi RPC, v\u00e0 trong server \u0111\u1ec3 ph\u1ee5c v\u1ee5 c\u00e1c request RPC.</p> <p></p> <p>B\u1eb1ng c\u00e1ch h\u1ed7 tr\u1ee3 nhi\u1ec1u ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh, client v\u00e0 server c\u00f3 th\u1ec3 \u0111\u1ed9c l\u1eadp ch\u1ecdn ng\u00f4n ng\u1eef l\u1eadp tr\u00ecnh v\u00e0 h\u1ec7 sinh th\u00e1i ph\u00f9 h\u1ee3p nh\u1ea5t cho c\u00e1c use case c\u1ee5 th\u1ec3. Th\u00f4ng th\u01b0\u1eddng th\u00ec \u0111i\u1ec1u n\u00e0y kh\u00f4ng kh\u1ea3 thi v\u1edbi h\u1ea7u h\u1ebft c\u00e1c RPC framework kh\u00e1c.</p> <p></p>"},{"location":"ByteByteGo/grpc/grpc/#hieu-suat-cao","title":"Hi\u1ec7u su\u1ea5t cao","text":"<p>L\u00fd do th\u1ee9 hai khi\u1ebfn gRPC tr\u1edf n\u00ean ph\u1ed5 bi\u1ebfn l\u00e0 v\u00ec n\u00f3 c\u00f3 hi\u1ec7u su\u1ea5t cao ngay t\u1eeb \u0111\u1ea7u. C\u00f3 hai y\u1ebfu t\u1ed1 g\u00f3p ph\u1ea7n v\u00e0o hi\u1ec7u su\u1ea5t c\u1ee7a n\u00f3.</p> <p>Th\u1ee9 nh\u1ea5t, Protocol Buffers l\u00e0 m\u1ed9t \u0111\u1ecbnh d\u1ea1ng m\u00e3 ho\u00e1 nh\u1ecb ph\u00e2n r\u1ea5t hi\u1ec7u qu\u1ea3. N\u00f3 nhanh h\u01a1n nhi\u1ec1u so v\u1edbi JSON.</p> <p></p> <p>Th\u1ee9 hai, gRPC \u0111\u01b0\u1ee3c x\u00e2y d\u1ef1ng d\u1ef1a tr\u00ean HTTP/2 \u0111\u1ec3 cung c\u1ea5p n\u1ec1n t\u1ea3ng hi\u1ec7u su\u1ea5t cao tr\u00ean quy m\u00f4 l\u1edbn. Vi\u1ec7c s\u1eed d\u1ee5ng HTTP/2 mang l\u1ea1i nhi\u1ec1u l\u1ee3i \u00edch, c\u00f3 m\u1ed9t b\u00e0i vi\u1ebft v\u1ec1 c\u00e1c phi\u00ean b\u1ea3n HTTP, trong \u0111\u00f3 c\u00f3 HTTP/2, b\u1ea1n c\u00f3 th\u1ec3 \u0111\u1ecdc b\u00e0i \u0111\u00f3.</p> <p></p> <p>gRPC s\u1eed d\u1ee5ng c\u00e1c stream trong HTTP/2. N\u00f3 cho ph\u00e9p nhi\u1ec1u stream g\u00f3i tin th\u00f4ng qua m\u1ed9t k\u1ebft n\u1ed1i TCP t\u1ed3n t\u1ea1i l\u00e2u. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p gRPC framework x\u1eed l\u00fd nhi\u1ec1u l\u1eddi g\u1ecdi RPC \u0111\u1ed3ng th\u1eddi qua m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng nh\u1ecf k\u1ebft n\u1ed1i TCP gi\u1eefa client v\u00e0 server. \u0110\u1ec3 hi\u1ec3u c\u00e1ch gRPC ho\u1ea1t \u0111\u1ed9ng, ta c\u00f9ng xem qua m\u1ed9t flow t\u1eeb gRPC client \u0111\u1ebfn gRPC server.</p>"},{"location":"ByteByteGo/grpc/grpc/#vi-du","title":"V\u00ed d\u1ee5","text":"<p>Trong v\u00ed d\u1ee5 n\u00e0y, Order Service l\u00e0 gRPC client, v\u00e0 Payment Service l\u00e0 gRPC server. </p> <p>(1) Khi Order Service g\u1ecdi gRPC request \u0111\u1ebfn Payment Service, n\u00f3 s\u1ebd g\u1ecdi client code \u0111\u01b0\u1ee3c sinh ra b\u1edfi c\u00f4ng gc\u1ee5 gRPC t\u1ea1i th\u1eddi \u0111i\u1ec3m build.  Client code \u0111\u01b0\u1ee3c sinh ra n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 m\u1ed9t client stub.</p> <p>(2) gRPC m\u00e3 h\u00f3a d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c truy\u1ec1n cho client stub\u00a0v\u00e0o Protocol Buffers v\u00e0 g\u1eedi d\u1eef li\u1ec7u \u0111\u00f3\u00a0\u0111\u1ebfn t\u1ea7ng giao v\u1eadn.</p> <p>(3) gRPC g\u1eedi d\u1eef li\u1ec7u qua m\u1ea1ng d\u01b0\u1edbi d\u1ea1ng m\u1ed9t lu\u1ed3ng HTTP/2 data frame. Nh\u1edd m\u00e3 h\u00f3a nh\u1ecb ph\u00e2n v\u00e0 t\u1ed1i \u01b0u h\u00f3a m\u1ea1ng, gRPC \u0111\u01b0\u1ee3c cho l\u00e0 nhanh h\u01a1n 5 l\u1ea7n so v\u1edbi JSON.</p> <p>(4), (5), (6) Payment Service nh\u1eadn c\u00e1c g\u00f3i tin t\u1eeb\u00a0m\u1ea1ng, gi\u1ea3i m\u00e3 ch\u00fang v\u00e0\u00a0g\u1ecdi server app.</p> <p>(7), (8), (9) K\u1ebft qu\u1ea3 tr\u1ea3 v\u1ec1 t\u1eeb server app\u00a0\u0111\u01b0\u1ee3c m\u00e3 h\u00f3a v\u00e0o Protocol Buffer\u00a0v\u00e0 g\u1eedi \u0111\u1ebfn t\u1ea7ng giao v\u1eadn.</p> <p>(10), (11), (12), (13) Order Service nh\u1eadn c\u00e1c g\u00f3i tin, gi\u1ea3i m\u00e3 ch\u00fang v\u00e0 g\u1eedi k\u1ebft qu\u1ea3 \u0111\u1ebfn client app.</p> <p></p>"},{"location":"ByteByteGo/grpc/grpc/#han-che","title":"H\u1ea1n ch\u1ebf","text":"<p>T\u1eeb v\u00ed d\u1ee5 tr\u00ean, ta th\u1ea5y\u00a0gRPC r\u1ea5t d\u1ec5 tri\u1ec3n khai. N\u1ebfu d\u1ec5 d\u00e0ng nh\u01b0 v\u1eady, sao ch\u00fang ta kh\u00f4ng th\u1ea5y gRPC \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nhi\u1ec1u gi\u1eefa web client v\u00e0 web server?</p> <p>Nguy\u00ean nh\u00e2n l\u00e0 gRPC d\u1ef1a v\u00e0o\u00a0quy\u1ec1n truy c\u1eadp c\u1ea5p th\u1ea5p h\u01a1n v\u00e0o nguy\u00ean m\u1eabu HTTP/2. Hi\u1ec7n kh\u00f4ng c\u00f3 tr\u00ecnh duy\u1ec7t n\u00e0o cung c\u1ea5p m\u1ee9c \u0111\u1ed9 ki\u1ec3m so\u00e1t\u00a0c\u1ea7n thi\u1ebft \u0111\u1ed1i v\u1edbi c\u00e1c web request\u00a0\u0111\u1ec3 h\u1ed7 tr\u1ee3 client gRPC.</p> <p>C\u00f3 th\u1ec3 th\u1ef1c hi\u1ec7n l\u1ec7nh g\u1ecdi gRPC t\u1eeb\u00a0tr\u00ecnh duy\u1ec7t v\u1edbi s\u1ef1 tr\u1ee3 gi\u00fap c\u1ee7a proxy. C\u00f4ng ngh\u1ec7 n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 gRPC-Web.</p> <p>Tuy nhi\u00ean, t\u00ednh n\u0103ng n\u00e0y\u00a0kh\u00f4ng ho\u00e0n to\u00e0n t\u01b0\u01a1ng th\u00edch v\u1edbi\u00a0gRPC v\u00e0 m\u1ee9c \u0111\u1ed9 s\u1eed d\u1ee5ng c\u1ee7a n\u00f3 v\u1eabn th\u1ea5p so v\u1edbi gRPC.</p> <p></p>"},{"location":"ByteByteGo/grpc/grpc/#khi-nao-su-dung","title":"Khi n\u00e0o s\u1eed d\u1ee5ng","text":"<p>gRPC l\u00e0 c\u01a1 ch\u1ebf giao ti\u1ebfp li\u00ean d\u1ecbch v\u1ee5 \u0111\u01b0\u1ee3c l\u1ef1a ch\u1ecdn gi\u1eefa c\u00e1c microservice trong data center.</p> <p></p> <p>Kh\u1ea3 n\u0103ng h\u1ed7 tr\u1ee3 l\u1edbn c\u1ee7a n\u00f3 \u0111\u1ed1i v\u1edbi nhi\u1ec1u ng\u00f4n ng\u1eef\u00a0l\u1eadp tr\u00ecnh cho ph\u00e9p c\u00e1c d\u1ecbch v\u1ee5 ch\u1ecdn\u00a0ng\u00f4n ng\u1eef ri\u00eang v\u00e0 h\u1ec7 sinh th\u00e1i dev ph\u00f9 h\u1ee3p v\u1edbi use case c\u1ee7a ng\u01b0\u1eddi d\u00f9ng. Ta c\u0169ng c\u00f3 th\u1ec3 th\u1ea5y vi\u1ec7c s\u1eed d\u1ee5ng gRPC ng\u00e0y c\u00e0ng t\u0103ng trong c\u00e1c \u1ee9ng d\u1ee5ng di \u0111\u1ed9ng.</p> <p>T\u00ednh hi\u1ec7u qu\u1ea3 v\u00e0 hi\u1ec7u su\u1ea5t c\u1ee7a n\u00f3 c\u00f3 vai tr\u00f2 l\u1edbn trong c\u00e1c m\u00f4i tr\u01b0\u1eddng b\u1ecb h\u1ea1n ch\u1ebf v\u1ec1 hi\u1ec7u n\u0103ng v\u00e0 b\u0103ng th\u00f4ng nh\u01b0 c\u00e1c thi\u1ebft b\u1ecb di \u0111\u1ed9ng.</p>"},{"location":"ByteByteGo/http_versions/http_versions/","title":"HTTP/1 \u0111\u1ebfn HTTP/2 \u0111\u1ebfn HTTP/3","text":""},{"location":"ByteByteGo/http_versions/http_versions/#nguon","title":"Ngu\u1ed3n","text":"<p> HTTP/1 to HTTP/2 to HTTP/3</p>"},{"location":"ByteByteGo/http_versions/http_versions/#http1","title":"HTTP/1","text":"<p>HTTP/1 ra m\u1eaft v\u00e0o n\u0103m 1996, \u0111\u01b0\u1ee3c x\u00e2y d\u1ef1ng d\u1ef1a tr\u00ean TCP. M\u1ed7i request \u0111\u1ebfn c\u00f9ng m\u1ed9t server c\u1ea7n m\u1ed9t TCP connection ri\u00eang.</p> <p></p>"},{"location":"ByteByteGo/http_versions/http_versions/#http11","title":"HTTP/1.1","text":"<p>HTTP/1.1 ra m\u1eaft sau HTTP/1 m\u1ed9t n\u0103m, v\u00e0o n\u0103m 1997. N\u00f3 gi\u1edbi thi\u1ec7u c\u01a1 ch\u1ebf keep-alive nh\u1eb1m gi\u00fap cho m\u1ed9t connection c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng l\u1ea1i cho nhi\u1ec1u request. Duy tr\u00ec k\u1ebft n\u1ed1i (persistent connection) s\u1ebd gi\u00fap gi\u1ea3m \u0111\u1ed9 tr\u1ec5 khi request v\u00ec client s\u1ebd kh\u00f4ng c\u1ea7n ph\u1ea3i kh\u1edfi t\u1ea1o l\u1ea1i connection cho c\u00e1c request sau \u0111\u00f3 (b\u1eaft tay 3 b\u01b0\u1edbc TCP).</p> <p></p> <p>M\u1ed9t chi ti\u1ebft \u0111\u00e1ng ch\u00fa \u00fd n\u1eefa c\u1ee7a HTTP/1.1 l\u00e0 ch\u1ee9c n\u0103ng HTTP pipelining. V\u1ec1 m\u1eb7t l\u00fd thuy\u1ebft, ch\u1ee9c n\u0103ng n\u00e0y cho ph\u00e9p client g\u1eedi nhi\u1ec1u request l\u00ean server tr\u01b0\u1edbc khi \u0111\u1ee3i m\u1ed7i response. C\u00e1c response ph\u1ea3i \u0111\u01b0\u1ee3c nh\u1eadn theo th\u1ee9 t\u1ef1 \u0111\u01b0\u1ee3c request \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o t\u00ednh ch\u00ednh x\u00e1c.</p> <p>L\u01b0u \u00fd l\u00e0 HTTP pipelining kh\u00e1 kh\u00f3 \u0111\u1ec3 c\u00e0i \u0111\u1eb7t v\u00e0 nhi\u1ec1u proxy server \u1edf gi\u1eefa kh\u00f4ng th\u1ec3 n\u00e0o x\u1eed l\u00fd pipelining ch\u00ednh x\u00e1c \u0111\u01b0\u1ee3c. Ch\u1ee9c n\u0103ng n\u00e0y v\u00ec th\u1ebf kh\u00f4ng c\u00f2n \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi nhi\u1ec1u tr\u00ecnh duy\u1ec7t ng\u00e0y nay.</p> <p></p> <p>HTTP/1.1 v\u1edbi pipelining c\u00f2n c\u00f3 m\u1ed9t v\u1ea5n \u0111\u1ec1 n\u1eefa \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 head-of-line blocking (HOL blocking). \u0110\u1ea1i kh\u00e1i th\u00ec v\u1edbi c\u00f9ng m\u1ed9t connection, c\u00e1c request sau s\u1ebd ph\u1ea3i \u0111\u1ee3i request tr\u01b0\u1edbc \u0111\u00f3 xong (ngh\u0129a l\u00e0 request \u0111\u00e3 \u0111\u01b0\u1ee3c g\u1eedi l\u00ean server). N\u1ebfu m\u1ed9t request b\u1ecb ch\u1eb7n v\u00ec m\u1ed9t s\u1ed1 l\u00fd do nh\u01b0 m\u1ea5t g\u00f3i tin (packet loss), c\u00e1c request sau n\u00f3 tr\u00ean c\u00f9ng m\u1ed9t connection c\u0169ng b\u1ecb \u1ea3nh h\u01b0\u1edfng.</p> <p></p> <p>\u0110\u1ec3 gi\u1eef cho k\u1ebft n\u1ed1i c\u00f3 t\u1ed1c \u0111\u1ed9 \u1edf m\u1ee9c ch\u1ea5p nh\u1eadn \u0111\u01b0\u1ee3c, tr\u00ecnh duy\u1ec7t th\u01b0\u1eddng gi\u1eef nhi\u1ec1u TCP connection \u0111\u1ebfn c\u00f9ng m\u1ed9t server v\u00e0 g\u1eedi c\u00e1c request song song v\u1edbi nhau \u0111\u1ebfn server.</p> <p></p>"},{"location":"ByteByteGo/http_versions/http_versions/#http2","title":"HTTP/2","text":"<p>HTTP/2 ra \u0111\u1eddi n\u0103m 2015, gi\u1edbi thi\u1ec7u HTTP streams, gi\u00fap ta c\u00f3 th\u1ec3 g\u1eedi nhi\u1ec1u stream request \u0111\u1ebfn c\u00f9ng m\u1ed9t server tr\u00ean ch\u1ec9 m\u1ed9t TCP connection. Kh\u00e1c v\u1edbi HTTP/1.1 pipelining, c\u00e1c stream n\u00e0y \u0111\u1ed9c l\u1eadp v\u1edbi nhau v\u00e0 kh\u00f4ng c\u1ea7n ph\u1ea3i g\u1eedi hay nh\u1eadn theo b\u1ea5t c\u1ee9 th\u1ee9 t\u1ef1 n\u00e0o. </p> <p>HTTP/2 gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c head-of-line blocking c\u1ee7a HTTP/1.1 tr\u00ean t\u1ea7ng \u1ee9ng d\u1ee5ng nh\u01b0ng kh\u00f4ng gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c tr\u00ean t\u1ea7ng giao v\u1eadn v\u1edbi TCP.</p> <p></p> <p>M\u1ed9t chi ti\u1ebft \u0111\u00e1ng l\u01b0u \u00fd c\u1ee7a HTTP/2 l\u00e0 kh\u1ea3 n\u0103ng push, gi\u00fap cho server c\u00f3 th\u1ec3 g\u1eedi n\u1ed9i dung m\u1edbi cho client khi c\u00f3 th\u1ec3, m\u00e0 kh\u00f4ng c\u1ea7n client ph\u1ea3i g\u1eedi request \u0111\u1ec3 poll.</p>"},{"location":"ByteByteGo/http_versions/http_versions/#http3","title":"HTTP/3","text":"<p>HTTP/3 ra m\u1eaft b\u1ea3n th\u1eed nghi\u1ec7m v\u00e0o n\u0103m 2020 v\u00e0 \u0111\u01b0\u1ee3c ra m\u1eaft ch\u00ednh th\u1ee9c v\u00e0o th\u00e1ng 6 n\u0103m 2022. N\u00f3 s\u1eed d\u1ee5ng m\u1ed9t giao th\u1ee9c t\u00ean l\u00e0 QUIC thay v\u00ec d\u00f9ng TCP. QUIC d\u1ef1a tr\u00ean UDP. N\u00f3 gi\u1edbi thi\u1ec7u c\u00e1c stream \u0111\u00f3ng vai tr\u00f2 quan tr\u1ecdng tr\u00ean t\u1ea7ng giao v\u1eadn. C\u00e1c QUIC stream d\u00f9ng chung m\u1ed9t connection nhanh n\u00ean kh\u00f4ng c\u1ea7n ph\u1ea3i b\u1eaft tay \u0111\u1ec3 t\u1ea1o connection m\u1edbi. Trong h\u1ea7u h\u1ebft c\u00e1c tr\u01b0\u1eddng h\u1ee3p, m\u1ea5t g\u00f3i tin \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn m\u1ed9t stream s\u1ebd kh\u00f4ng \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn c\u00e1c stream kh\u00e1c, n\u00ean n\u00f3 gi\u1ea3i quy\u1ebft \u0111\u01b0\u1ee3c t\u00ecnh tr\u1ea1ng head-of-line blocking tr\u00ean t\u1ea7ng giao v\u1eadn.</p> <p></p> <p>QUIC \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf cho vi\u1ec7c s\u1eed d\u1ee5ng nhi\u1ec1u internet tr\u00ean \u0111i\u1ec7n tho\u1ea1i. Ng\u01b0\u1eddi ta th\u01b0\u1eddng chuy\u1ec3n m\u1ea1ng tr\u00ean \u0111i\u1ec7n tho\u1ea1i nhi\u1ec1u l\u1ea7n (nh\u01b0 t\u1eeb WiFi sang 4G v\u00e0 ng\u01b0\u1ee3c l\u1ea1i). V\u1edbi TCP, vi\u1ec7c chuy\u1ec3n m\u1ea1ng n\u00e0y kh\u00e1 l\u00e0 kh\u00f3 ch\u1ecbu v\u00e0 ch\u1eadm ch\u1ea1p.</p> <p>QUIC s\u1eed d\u1ee5ng m\u1ed9t concept g\u1ecdi l\u00e0 connection ID, gi\u00fap cho connection c\u00f3 th\u1ec3 di chuy\u1ec3n gi\u1eefa c\u00e1c \u0111\u1ecba ch\u1ec9 IP v\u00e0 giao di\u1ec7n m\u1ea1ng d\u1ec5 d\u00e0ng, nhanh ch\u00f3ng v\u00e0 \u0111\u00e1ng tin c\u1eady.</p> <p></p> <p>D\u00f9 HTTP/3 m\u1edbi ch\u1ec9 \u0111\u01b0\u1ee3c chu\u1ea9n ho\u00e1, n\u00f3 \u0111\u00e3 \u0111\u01b0\u1ee3c d\u00f9ng b\u1edfi 25% s\u1ed1 website v\u00e0 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi nhi\u1ec1u tr\u00ecnh duy\u1ec7t tr\u00ean th\u1ecb tr\u01b0\u1eddng.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/","title":"Ki\u1ebfn tr\u00fac Kubernetes","text":""},{"location":"ByteByteGo/kubernetes/kubernetes/#nguon","title":"Ngu\u1ed3n","text":"<p> Kubernetes Explained in 6 Minutes | k8s Architecture</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#kubernetes-la-gi","title":"Kubernetes l\u00e0 g\u00ec?","text":"<p>Kubernetes l\u00e0 m\u1ed9t n\u1ec1n t\u1ea3ng \u0111i\u1ec1u ph\u1ed1i container m\u00e3 ngu\u1ed3n m\u1edf. N\u00f3 t\u1ef1 \u0111\u1ed9ng ho\u00e1 vi\u1ec7c deploy, m\u1edf r\u1ed9ng quy m\u00f4 v\u00e0 qu\u1ea3n l\u00fd c\u00e1c \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c \u0111\u00f3ng g\u00f3i.</p> <p></p> <p></p> <p>Kubernetes c\u00f3 kh\u1edfi \u0111i\u1ec3m l\u00e0 h\u1ec7 th\u1ed1ng \u0111i\u1ec1u ph\u1ed1i container n\u1ed9i b\u1ed9 c\u1ee7a Google, t\u00ean l\u00e0 Borg. N\u00f3 qu\u1ea3n l\u00fd vi\u1ec7c tri\u1ec3n khai h\u00e0ng ng\u00e0n \u1ee9ng d\u1ee5ng trong n\u1ed9i b\u1ed9 Google. V\u00e0o n\u0103m 2014, Google c\u00f4ng b\u1ed1 m\u1ed9t phi\u00ean b\u1ea3n m\u00e3 ngu\u1ed3n m\u1edf c\u1ee7a Borg, \u0111\u00f3 ch\u00ednh l\u00e0 Kubernetes.</p> <p></p> <p>Sao n\u00f3 l\u1ea1i \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 k8s? T\u01b0\u01a1ng t\u1ef1 v\u1edbi i18n v\u1edbi internationalization v\u00e0 l10n v\u1edbi localization, s\u1ed1 8 trong k8s ch\u1ec9 8 k\u00fd t\u1ef1 n\u1eb1m gi\u1eefa ch\u1eef k v\u00e0 s trong kubernetes.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#cac-thanh-phan-trong-kubernetes","title":"C\u00e1c th\u00e0nh ph\u1ea7n trong Kubernetes","text":"<p>M\u1ed9t c\u1ee5m Kubernetes l\u00e0 m\u1ed9t t\u1eadp c\u00e1c m\u00e1y, g\u1ecdi l\u00e0 c\u00e1c node, \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 ch\u1ea1y c\u00e1c \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c \u0111\u00f3ng g\u00f3i. </p> <p></p> <p>C\u00f3 hai ph\u1ea7n c\u1ed1t l\u00f5i trong m\u1ed9t c\u1ee5m Kubernetes. \u0110\u1ea7u ti\u00ean l\u00e0 ph\u1ea7n \u0111i\u1ec1u khi\u1ec3n (control plane). N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m qu\u1ea3n l\u00fd tr\u1ea1ng th\u00e1i c\u1ee7a c\u1ee5m. Trong m\u00f4i tr\u01b0\u1eddng th\u1ef1c t\u1ebf, control plane th\u01b0\u1eddng ch\u1ea1y tr\u00ean nhi\u1ec1u node, tr\u1ea3i r\u1ed9ng tr\u00ean m\u1ed9t s\u1ed1 v\u00f9ng data center. </p> <p></p> <p>Th\u1ee9 hai l\u00e0 c\u00e1c worker node. C\u00e1c node n\u00e0y ch\u1ea1y vi\u1ec7c cho \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c \u0111\u00f3ng g\u00f3i. C\u00e1c \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c \u0111\u00f3ng g\u1ecdi ch\u1ea1y trong m\u1ed9t Pod. </p> <p></p> <p>Pod l\u00e0 \u0111\u01a1n v\u1ecb tri\u1ec3n khai nh\u1ecf nh\u1ea5t trong Kubernetes. M\u1ed9t pod s\u1ebd host m\u1ed9t ho\u1eb7c nhi\u1ec1u container v\u00e0 cung c\u1ea5p b\u1ed9 nh\u1edb d\u00f9ng chung c\u0169ng nh\u01b0 k\u1ebft n\u1ed1i m\u1ea1ng cho c\u00e1c container \u0111\u00f3. C\u00e1c pod \u0111\u01b0\u1ee3c t\u1ea1o ra v\u00e0 qu\u1ea3n l\u00fd b\u1edfi control plane c\u1ee7a Kubernetes. Ch\u00fang l\u00e0 c\u00e1c k\u1ebft c\u1ea5u c\u01a1 b\u1ea3n c\u1ee7a c\u00e1c \u1ee9ng d\u1ee5ng Kubernetes.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#control-plane","title":"Control Plane","text":"<p>Control plane bao g\u1ed3m m\u1ed9t s\u1ed1 th\u00e0nh ph\u1ea7n ch\u00ednh. Ch\u00fang l\u00e0 API server, etcd, b\u1ed9 l\u1eadp l\u1ecbch v\u00e0 tr\u00ecnh qu\u1ea3n l\u00fd b\u1ed9 \u0111i\u1ec1u khi\u1ec3n.</p> <p>API server l\u00e0 interface ch\u00ednh gi\u1eefa control plane v\u00e0 ph\u1ea7n c\u00f2n l\u1ea1i c\u1ee7a c\u1ee5m. N\u00f3 m\u1edf m\u1ed9t API RESTful cho ph\u00e9p c\u00e1c client t\u01b0\u01a1ng t\u00e1c v\u1edbi control plane v\u00e0 g\u1eedi c\u00e1c request \u0111\u1ec3 qu\u1ea3n l\u00fd c\u1ee5m. etcd l\u00e0 m\u1ed9t kho l\u01b0u tr\u1eef key-value t\u1eeb xa. N\u00f3 l\u01b0u tr\u1eef tr\u1ea1ng th\u00e1i c\u1ee7a c\u1ee5m. N\u00f3 \u0111\u01b0\u1ee3c d\u00f9ng b\u1edfi API server v\u00e0 c\u00e1c th\u00e0nh ph\u1ea7n kh\u00e1c c\u1ee7a control plane \u0111\u1ec3 l\u01b0u v\u00e0 l\u1ea5y th\u00f4ng tin v\u1ec1 c\u1ee5m.</p> <p></p> <p></p> <p>B\u1ed9 l\u1eadp l\u1ecbch ch\u1ecbu tr\u00e1ch nhi\u1ec7m l\u1eadp l\u1ecbch cho c\u00e1c pod tr\u00ean c\u00e1c worker node trong c\u1ee5m. N\u00f3 s\u1eed d\u1ee5ng th\u00f4ng tin v\u1ec1 t\u00e0i nguy\u00ean c\u1ea7n b\u1edfi c\u00e1c pod v\u00e0 t\u00e0i nguy\u00ean \u0111ang c\u00f3 tr\u00ean c\u00e1c worker node \u0111\u1ec3 \u0111\u01b0a ra quy\u1ebft \u0111\u1ecbnh ph\u00e2n ph\u1ed1i.</p> <p>Tr\u00ecnh qu\u1ea3n l\u00fd b\u1ed9 \u0111i\u1ec1u khi\u1ec3n ch\u1ecbu tr\u00e1ch nhi\u1ec7m ch\u1ea1y c\u00e1c b\u1ed9 \u0111i\u1ec1u khi\u1ec3n qu\u1ea3n l\u00fd tr\u1ea1ng th\u00e1i c\u1ee7a c\u1ee5m. M\u1ed9t s\u1ed1 v\u00ed d\u1ee5 bao g\u1ed3m b\u1ed9 \u0111i\u1ec1u khi\u1ec3n sao ch\u00e9p: \u0111\u1ea3m b\u1ea3o s\u1ed1 l\u01b0\u1ee3ng b\u1ea3n sao c\u1ee7a m\u1ed9t pod \u0111ang ho\u1ea1t \u0111\u1ed9ng; v\u00e0 b\u1ed9 \u0111i\u1ec1u khi\u1ec3n tri\u1ec3n khai: qu\u1ea3n l\u00fd c\u1eadp nh\u1eadt lu\u00e2n phi\u00ean v\u00e0 rollback c\u00e1c tri\u1ec3n khai.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#worker-node","title":"Worker Node","text":"<p>Ti\u1ebfp theo, ta h\u00e3y \u0111i s\u00e2u v\u00e0o c\u00e1c worker node. C\u00e1c th\u00e0nh ph\u1ea7n c\u1ed1t l\u00f5i c\u1ee7a Kubernetes ch\u1ea1y tr\u00ean worker node bao g\u1ed3m kubelet, container runtime v\u00e0 kube-proxy. </p> <p></p> <p>Kubelet l\u00e0 m\u1ed9t daemon ch\u1ea1y tr\u00ean m\u1ed7i worker node. N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m giao ti\u1ebfp v\u1edbi control plane. N\u00f3 nh\u1eadn ch\u1ec9 th\u1ecb t\u1eeb control plane v\u1ec1 vi\u1ec7c c\u00e1c pod n\u00e0o s\u1ebd ch\u1ea1y tr\u00ean node v\u00e0 \u0111\u1ea3m b\u1ea3o r\u1eb1ng tr\u1ea1ng th\u00e1i mong mu\u1ed1n tr\u00ean pod \u0111\u01b0\u1ee3c duy tr\u00ec.</p> <p></p> <p>Container runtime ch\u1ea1y c\u00e1c container tr\u00ean c\u00e1c worker node. N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m k\u00e9o container image t\u1eeb registry, ch\u1ea1y v\u00e0 d\u1eebng c\u00e1c container, v\u00e0 qu\u1ea3n l\u00fd t\u00e0i nguy\u00ean c\u1ee7a c\u00e1c container. </p> <p>Kube-proxy l\u00e0 m\u1ed9t proxy m\u1ea1ng ch\u1ea1y tr\u00ean m\u1ed7i worker node. N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m \u0111\u1ecbnh tuy\u1ebfn l\u01b0u l\u01b0\u1ee3ng \u0111\u1ebfn \u0111\u00fang pod. N\u00f3 c\u0169ng cung c\u1ea5p c\u00e2n b\u1eb1ng t\u1ea3i cho c\u00e1c pod v\u00e0 \u0111\u1ea3m b\u1ea3o l\u01b0u l\u01b0\u1ee3ng \u0111\u01b0\u1ee3c ph\u00e2n ph\u1ed1i \u0111\u1ec1u tr\u00ean c\u00e1c pod.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#iem-manh-va-iem-yeu","title":"\u0110i\u1ec3m m\u1ea1nh v\u00e0 \u0111i\u1ec3m y\u1ebfu","text":"<p>V\u1eady khi n\u00e0o ta c\u1ea7n d\u00f9ng Kubernetes? Nh\u01b0 nhi\u1ec1u th\u1ee9 trong c\u00f4ng ngh\u1ec7 ph\u1ea7n m\u1ec1m, t\u1ea5t c\u1ea3 \u0111\u1ec1u l\u00e0 v\u1ec1 s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#iem-manh","title":"\u0110i\u1ec3m m\u1ea1nh","text":"<p>\u0110i\u1ec3m m\u1ea1nh c\u1ee7a Kubernetes l\u00e0 g\u00ec? Kubernetes c\u00f3 t\u00ednh m\u1edf r\u1ed9ng v\u00e0 s\u1eb5n s\u00e0ng cao. N\u00f3 cung c\u1ea5p c\u00e1c t\u00ednh n\u0103ng nh\u01b0 t\u1ef1 ph\u1ee5c h\u1ed3i, t\u1ef1 \u0111\u1ed9ng rollback v\u00e0 m\u1edf r\u1ed9ng theo chi\u1ec1u ngang. N\u00f3 gi\u00fap d\u1ec5 d\u00e0ng m\u1edf r\u1ed9ng ho\u1eb7c thu h\u1eb9p quy m\u00f4 \u1ee9ng d\u1ee5ng n\u1ebfu c\u1ea7n, cho ph\u00e9p ta ph\u1ea3n \u1ee9ng nhanh ch\u00f3ng v\u1edbi c\u00e1c thay \u0111\u1ed5i v\u1ec1 nhu c\u1ea7u. </p> <p>Kubernetes c\u0169ng c\u00f3 t\u00ednh di \u0111\u1ed9ng. N\u00f3 gi\u00fap ta tri\u1ec3n khai v\u00e0 qu\u1ea3n l\u00fd c\u00e1c \u1ee9ng d\u1ee5ng m\u1ed9t c\u00e1ch nh\u1ea5t qu\u00e1n v\u00e0 \u0111\u00e1ng tin c\u1eady b\u1ea5t k\u1ec3 c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng b\u00ean d\u01b0\u1edbi c\u00f3 ra sao. N\u00f3 ch\u1ea1y t\u1ea1i ch\u1ed7, tr\u00ean \u0111\u00e1m m\u00e2y c\u00f4ng c\u1ed9ng, ho\u1eb7c trong m\u00f4i tr\u01b0\u1eddng k\u1ebft h\u1ee3p c\u1ea3 hai. N\u00f3 cung c\u1ea5p m\u1ed9t c\u00e1ch th\u1ee9c th\u1ed1ng nh\u1ea5t \u0111\u1ec3 \u0111\u00f3ng g\u00f3i, tri\u1ec3n khai v\u00e0 qu\u1ea3n l\u00fd \u1ee9ng d\u1ee5ng.</p>"},{"location":"ByteByteGo/kubernetes/kubernetes/#iem-yeu","title":"\u0110i\u1ec3m y\u1ebfu","text":"<p>Th\u1ebf c\u00f2n \u0111i\u1ec3m y\u1ebfu th\u00ec sao? </p> <p>\u0110i\u1ec3m y\u1ebfu s\u1ed1 m\u1ed9t l\u00e0 s\u1ef1 ph\u1ee9c t\u1ea1p. Kubernetes r\u1ea5t ph\u1ee9c t\u1ea1p \u0111\u1ec3 thi\u1ebft l\u1eadp v\u00e0 v\u1eadn h\u00e0nh. Chi ph\u00ed tr\u1ea3 tr\u01b0\u1edbc cao, \u0111\u1eb7c bi\u1ec7t v\u1edbi c\u00e1c t\u1ed5 ch\u1ee9c m\u1edbi s\u1eed d\u1ee5ng b\u1ed9 \u0111i\u1ec1u ph\u1ed1i container nh\u01b0 th\u1ebf n\u00e0y. N\u00f3 \u0111\u00f2i h\u1ecfi tr\u00ecnh \u0111\u1ed9 chuy\u00ean m\u00f4n v\u00e0 ngu\u1ed3n l\u1ef1c cao \u0111\u1ec3 thi\u1ebft l\u1eadp v\u00e0 qu\u1ea3n l\u00fd m\u00f4i tr\u01b0\u1eddng live Kubernetes. </p> <p>Th\u1ee9 hai l\u00e0 v\u1ec1 chi ph\u00ed. Kubernetes \u0111\u1ecfi h\u1ecfi m\u1ed9t m\u1ee9c t\u00e0i nguy\u00ean t\u1ed1i thi\u1ec3u nh\u1ea5t \u0111\u1ecbnh \u0111\u1ec3 ch\u1ea1y nh\u1eb1m h\u1ed7 tr\u1ee3 t\u1ea5t c\u1ea3 c\u00e1c t\u00ednh n\u0103ng m\u00e0 ta \u0111\u00e3 \u0111\u1ec1 c\u1eadp \u1edf tr\u00ean. N\u00f3 c\u00f3 kh\u1ea3 n\u0103ng l\u00e0 tr\u00ean m\u1ee9c c\u1ea7n thi\u1ebft cho c\u00e1c doanh nghi\u1ec7p nh\u1ecf. </p> <p>C\u00f3 m\u1ed9t c\u00e1ch \u0111\u1ec3 gi\u1ea3m chi ph\u00ed l\u00e0 chuy\u1ec3n control plane sang m\u1ed9t d\u1ecbch v\u1ee5 Kubernetes \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd. C\u00e1c d\u1ecbch v\u1ee5 Kubernetes nh\u01b0 v\u1eady th\u01b0\u1eddng \u0111\u01b0\u1ee3c cung c\u1ea5p b\u1edfi nh\u00e0 cung c\u1ea5p \u0111\u00e1m m\u00e2y. C\u00e1c l\u1ef1a ch\u1ecdn ph\u1ed5 bi\u1ebfn l\u00e0 Amazon EKS, GKE tr\u00ean Google Clound, v\u00e0 AKS tr\u00ean Azure. C\u00e1c d\u1ecbch v\u1ee5 n\u00e0y cho ph\u00e9p c\u00e1c t\u1ed5 ch\u1ee9c ch\u1ea1y \u1ee9ng d\u1ee5ng Kubernetes m\u00e0 kh\u00f4ng ph\u1ea3i lo v\u1ec1 c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng b\u00ean d\u01b0\u1edbi. Ch\u00fang \u0111\u1ea3m nh\u1eadn c\u00e1c t\u00e1c v\u1ee5 \u0111\u00f2i h\u1ecfi chuy\u00ean m\u00f4n s\u00e2u, nh\u01b0 vi\u1ec7c thi\u1ebft l\u1eadp v\u00e0 \u0111\u1ecbnh c\u1ea5u h\u00ecnh control plane, m\u1edf r\u1ed9ng c\u1ee5m, v\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 b\u1ea3o tr\u00ec v\u00e0 h\u1ed7 tr\u1ee3 li\u00ean t\u1ee5c. \u0110\u00e2y l\u00e0 m\u1ed9t l\u1ef1a ch\u1ecdn h\u1ee3p l\u00fd cho c\u00e1c doanh nghi\u1ec7p v\u1eeba \u0111\u1ec3 th\u1eed nghi\u1ec7m Kubernetes. C\u00f2n v\u1edbi c\u00e1c doanh nghi\u1ec7p nh\u1ecf, th\u1ef1c s\u1ef1 ch\u00fang t\u00f4i ngh\u0129 h\u1ecd s\u1ebd kh\u00f4ng c\u1ea7n \u0111\u1ebfn Kubernetes \u0111\u00e2u.</p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/","title":"C\u00e1c m\u1ed1c \u0111\u1ed9 tr\u1ec5 m\u00e0 l\u1eadp tr\u00ecnh vi\u00ean n\u00ean bi\u1ebft","text":""},{"location":"ByteByteGo/latency_numbers/latency_numbers/#nguon","title":"Ngu\u1ed3n","text":"<p> Latency Numbers Programmer Should Know</p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#tai-sao-nen-noi-ve-o-tre","title":"T\u1ea1i sao n\u00ean n\u00f3i v\u1ec1 \u0111\u1ed9 tr\u1ec5?","text":"<p>\u0110\u1ed9 tr\u1ec5 (latency) l\u00e0 m\u1ed9t y\u1ebfu t\u1ed1 quan tr\u1ecdng trong c\u00e1c h\u1ec7 th\u1ed1ng ng\u00e0y nay. Th\u1ef1c s\u1ef1 ch\u00fang ta kh\u00f4ng c\u1ea7n bi\u1ebft \u0111\u1ed9 tr\u1ec5 ch\u00ednh x\u00e1c m\u00e0 ch\u1ec9 c\u1ea7n ghi nh\u1edb m\u1ed9t s\u1ed1 kho\u1ea3ng \u0111\u1ed9 tr\u1ec5 nh\u1ea5t \u0111\u1ecbnh \u0111\u1ec3 h\u00ecnh dung ra th\u1ee9 ta \u0111ang l\u00e0m s\u1ebd t\u1ed1n kho\u1ea3ng tr\u1ec5 nh\u01b0 th\u1ebf n\u00e0o.</p> <p>Ta s\u1ebd \u0111i v\u00e0o t\u1eebng kho\u1ea3ng th\u1eddi gian tr\u1ec5 \u0111\u1ec3 xem c\u00f3 nh\u1eefng \u1ee9ng d\u1ee5ng n\u00e0o li\u00ean quan \u0111\u1ebfn ch\u00fang hay kh\u00f4ng.</p> <p></p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#1-nano-giay","title":"1 nano gi\u00e2y","text":"<p>Truy c\u1eadp v\u00e0o c\u00e1c thanh ghi CPU t\u1ed1n kho\u1ea3ng d\u01b0\u1edbi 1 nano gi\u00e2y. Ta ch\u1ec9 c\u00f3 v\u00e0i thanh ghi trong CPU nh\u01b0ng truy c\u1eadp ch\u00fang l\u1ea1i r\u1ea5t nhanh.</p> <p></p> <p>Chu k\u1ef3 xung nh\u1ecbp (clock cycle) c\u1ee7a m\u00e1y t\u00ednh c\u0169ng t\u1ed1n kho\u1ea3ng d\u01b0\u1edbi 1 nano gi\u00e2y.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#1-10-nano-giay","title":"1-10 nano gi\u00e2y","text":"<p>Truy c\u1eadp v\u00e0o b\u1ed9 nh\u1edb \u0111\u1ec7m (cache) L1 v\u00e0 L2 c\u1ee7a CPU t\u1ed1n t\u1eeb 1 \u0111\u1ebfn 10 nano gi\u00e2y. M\u1ed9t s\u1ed1 thao t\u00e1c t\u1ed1n k\u00e9m c\u1ee7a CPU c\u0169ng \u1edf trong kho\u1ea3ng n\u00e0y, v\u00ed d\u1ee5 nh\u01b0 branch mispredict penalty, t\u1ed1n kho\u1ea3ng 20 chu k\u1ef3 xung nh\u1ecbp.</p> <p></p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#10-100-nano-giay","title":"10-100 nano gi\u00e2y","text":"<p>Truy c\u1eadp v\u00e0o b\u1ed9 nh\u1edb \u0111\u1ec7m L3 c\u1ee7a CPU th\u01b0\u1eddng t\u1ed1n kho\u1ea3ng 10 nano gi\u00e2y. </p> <p></p> <p>V\u1edbi c\u00e1c b\u1ed9 x\u1eed l\u00fd hi\u1ec7n \u0111\u1ea1i nh\u01b0 Apple M1, tham chi\u1ebfu v\u00e0o b\u1ed9 nh\u1edb ch\u00ednh t\u1ed1n kho\u1ea3ng g\u1ea7n 100 nano gi\u00e2y. N\u00f3i c\u00e1ch kh\u00e1c, truy c\u1eadp v\u00e0o b\u1ed9 nh\u1edb ch\u00ednh c\u1ee7a m\u00e1y t\u00ednh hi\u1ec7n \u0111\u1ea1i s\u1ebd ch\u1eadm h\u01a1n v\u00e0i tr\u0103m l\u1ea7n truy c\u1eadp v\u00e0o thanh ghi CPU.</p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#100-1000-nano-giay","title":"100-1000 nano gi\u00e2y","text":"<p>Kho\u1ea3ng n\u00e0y s\u1ebd g\u1ed3m l\u1ec7nh g\u1ecdi h\u1ec7 th\u1ed1ng (system call). Trong Linux, g\u1ecdi m\u1ed9t l\u1ec7nh h\u1ec7 th\u1ed1ng \u0111\u01a1n gi\u1ea3n s\u1ebd t\u1ed1n kho\u1ea3ng v\u00e0i tr\u0103m nano gi\u00e2y. L\u01b0u \u00fd ph\u1ea7n l\u1edbn th\u1eddi gian trong n\u00e0y l\u00e0 chi ph\u00ed \u0111\u1ec3 di chuy\u1ec3n v\u00e0o kernel v\u00e0 \u0111i ra, th\u1eddi gian th\u1ef1c g\u1ecdi l\u1ec7nh h\u1ec7 th\u1ed1ng l\u00e0 r\u1ea5t \u00edt.</p> <p></p> <p>Ngo\u00e0i ra, ta c\u00f2n t\u1ed1n kho\u1ea3ng 200 nano gi\u00e2y \u0111\u1ec3 MD5 hash m\u1ed9t s\u1ed1 64 bit.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#1-10-micro-giay","title":"1-10 micro gi\u00e2y","text":"<p>Context switch gi\u1eefa c\u00e1c thread trong Linux t\u1ed1n t\u1ea7m kho\u1ea3ng v\u00e0i micro gi\u00e2y. D\u00f9 v\u1eady th\u00ec \u0111\u00e2y l\u00e0 tr\u01b0\u1eddng h\u1ee3p t\u1ed1t nh\u1ea5t \u0111\u1ec3 c\u00f3 \u0111\u1ed9 tr\u1ec5 n\u00e0y. Tu\u1ef3 v\u00e0o workload, n\u1ebfu context switch bao g\u1ed3m vi\u1ec7c mang c\u00e1c trang d\u1eef li\u1ec7u t\u1eeb b\u1ed9 nh\u1edb cho lu\u1ed3ng m\u1edbi, n\u00f3 c\u00f3 th\u1ec3 t\u1ed1n nhi\u1ec1u th\u1eddi gian h\u01a1n.</p> <p></p> <p>Copy 64KB d\u1eef li\u1ec7u t\u1eeb m\u1ed9t ch\u1ed7 trong b\u1ed9 nh\u1edb ch\u00ednh sang ch\u1ed7 kh\u00e1c (c\u0169ng trong b\u1ed9 nh\u1edb ch\u00ednh) c\u0169ng t\u1ed1n v\u00e0i micro gi\u00e2y.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#10-100-micro-giay","title":"10-100 micro gi\u00e2y","text":"<p>Network proxy nh\u01b0 Nginx c\u1ea7n kho\u1ea3ng 50 micro gi\u00e2y \u0111\u1ec3 x\u1eed l\u00fd m\u1ed9t HTTP request.</p> <p></p> <p>\u0110\u1ecdc 1MB li\u00ean ti\u1ebfp t\u1eeb b\u1ed9 nh\u1edb ch\u00ednh s\u1ebd t\u1ed1n kho\u1ea3ng 50 micro gi\u00e2y.</p> <p></p> <p>\u0110\u1ed9 tr\u1ec5 \u0111\u1ecdc c\u1ee7a \u1ed5 c\u1ee9ng SSD c\u0169ng trong kho\u1ea3ng n\u00e0y, t\u1ed1n t\u1ea7m 100 micro gi\u00e2y \u0111\u1ec3 \u0111\u1ecdc m\u1ed9t trang 8K.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#100-1000-micro-giay","title":"100-1000 micro gi\u00e2y","text":"<p>\u0110\u1ed9 tr\u1ec5 ghi c\u1ee7a \u1edf c\u1ee9ng SSD l\u1edbn h\u01a1n t\u1ea7m 10 l\u1ea7n so v\u1edbi \u0111\u1ed9 tr\u1ec5 \u0111\u1ecdc, g\u1ea7n 1000 micro gi\u00e2y \u0111\u1ec3 ghi m\u1ed9t trang.</p> <p></p> <p>Th\u1eddi gian tr\u1ec5 tr\u1ecdn v\u00f2ng c\u1ee7a m\u1ea1ng n\u1ed9i v\u00f9ng (v\u1edbi c\u00e1c n\u1ec1n t\u1ea3ng \u0111\u00e1m m\u00e2y hi\u1ec7n nay) l\u00e0 t\u1ea7m kho\u1ea3ng v\u00e0i tr\u0103m micro gi\u00e2y. Ng\u00e0y nay \u0111\u1ed9 tr\u1ec5 n\u00e0y c\u00f3 xu h\u01b0\u1edbng gi\u1ea3m, \u0111\u00f4i khi v\u1ec1 d\u01b0\u1edbi 100 micro gi\u00e2y.</p> <p></p> <p>M\u1ed9t thao t\u00e1c th\u00f4ng th\u01b0\u1eddng tr\u00ean Memcache hay Redis t\u1ed1n kho\u1ea3ng 1000 micro gi\u00e2y, bao g\u1ed3m c\u1ea3 th\u1eddi gian tr\u1ec5 tr\u1ecdn v\u00f2ng \u1edf tr\u00ean.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#1-10-mili-giay","title":"1-10 mili gi\u00e2y","text":"<p>Th\u1eddi gian tr\u1ec5 tr\u1ecdn v\u00f2ng c\u1ee7a m\u1ea1ng xuy\u00ean v\u00f9ng l\u00e0 v\u00e0o kho\u1ea3ng 5 mili gi\u00e2y.</p> <p></p> <p>Th\u1eddi gian t\u00ecm (seek time) c\u1ee7a \u1ed5 c\u1ee9ng c\u0169ng v\u00e0o kho\u1ea3ng 5 mili gi\u00e2y.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#10-100-mili-giay","title":"10-100 mili gi\u00e2y","text":"<p>Th\u1eddi gian tr\u1ec5 tr\u1ecdn v\u00f2ng c\u1ee7a b\u1edd \u0111\u00f4ng v\u00e0 b\u1edd t\u00e2y n\u01b0\u1edbc M\u1ef9, hay b\u1edd \u0111\u00f4ng n\u01b0\u1edbc M\u1ef9 v\u00e0 ch\u00e2u \u00c2u n\u1eb1m trong kho\u1ea3ng n\u00e0y.</p> <p></p> <p>\u0110\u1ecdc 1GB li\u00ean ti\u1ebfp t\u1eeb b\u1ed9 nh\u1edb ch\u00ednh c\u0169ng n\u1eb1m trong kho\u1ea3ng n\u00e0y.</p> <p></p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#100-1000-mili-giay","title":"100-1000 mili gi\u00e2y","text":"<p>M\u1ea5t t\u1ea7m 300 mili gi\u00e2y \u0111\u1ec3 bcrypt m\u1ed9t m\u1eadt kh\u1ea9u.</p> <p></p> <p>B\u1eaft tay TLS n\u1eb1m trong kho\u1ea3ng 250 \u0111\u1ebfn 500 mili gi\u00e2y. N\u00f3 bao g\u1ed3m nhi\u1ec1u network round trip n\u00ean con s\u1ed1 s\u1ebd tu\u1ef3 v\u00e0o kho\u1ea3ng c\u00e1ch gi\u1eefa 2 m\u00e1y.</p> <p></p> <p>Th\u1eddi gian tr\u1ec5 tr\u1ecdn v\u00f2ng v\u1edbi m\u1ea1ng t\u1eeb b\u1edd t\u00e2y n\u01b0\u1edbc M\u1ef9 \u0111\u1ebfn Singapore c\u0169ng trong kho\u1ea3ng 100 \u0111\u1ebfn 1000 mili gi\u00e2y.</p> <p></p> <p>\u0110\u1ecdc 1GB li\u00ean ti\u1ebfp t\u1eeb SSD c\u0169ng trong kho\u1ea3ng n\u00e0y.</p>"},{"location":"ByteByteGo/latency_numbers/latency_numbers/#1-giay","title":"1 gi\u00e2y","text":"<p>Chuy\u1ec3n 1GB tr\u00ean m\u1ea1ng trong c\u00f9ng m\u1ed9t v\u00f9ng \u0111\u00e1m m\u00e2y t\u1ed1n kho\u1ea3ng 10 gi\u00e2y.</p> <p></p>"},{"location":"ByteByteGo/lsm_tree/lsm_tree/","title":"B\u00ed m\u1eadt \u0111\u1eb1ng sau NoSQL: C\u00e2y LSM","text":""},{"location":"ByteByteGo/lsm_tree/lsm_tree/#nguon","title":"Ngu\u1ed3n","text":"<p> The Secret Sauce Behind NoSQL: LSM Tree</p>"},{"location":"ByteByteGo/lsm_tree/lsm_tree/#mo-au","title":"M\u1edf \u0111\u1ea7u","text":"<p>C\u00e1c database NoSQL nh\u01b0 Cassandra \u0111\u00e3 tr\u1edf n\u00ean b\u00f9ng n\u1ed5 trong nh\u1eefng n\u0103m g\u1ea7n \u0111\u00e2y. M\u1ed9t y\u1ebfu t\u1ed1 th\u00fac \u0111\u1ea9y l\u00e0 nhu c\u1ea7u l\u1edbn \u0111\u1ec3 thu t\u1eadp l\u01b0\u1ee3ng d\u1eef li\u1ec7u kh\u1ed5ng l\u1ed3 t\u1eeb r\u1ea5t r\u1ea5t nhi\u1ec1u ngu\u1ed3n kh\u00e1c nhau v\u00e0 ng\u00e0y c\u00e0ng t\u0103ng l\u00ean, nh\u01b0 c\u00e1c \u1ee9ng d\u1ee5ng di \u0111\u1ed9ng v\u00e0 c\u00e1c thi\u1ebft b\u1ecb IoT (Internet of Things). B\u00ed m\u1eadt \u1ea9n gi\u1ea5u \u0111\u1eb1ng sau c\u00e1c database NoSQL n\u00e0y l\u00e0 m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u c\u00f3 t\u00ean l\u00e0 c\u00e2y Log Structured Merge (vi\u1ebft t\u1eaft l\u00e0 c\u00e2y LSM, l\u01b0\u1ee3c d\u1ecbch l\u00e0 c\u00e2y h\u1ee3p nh\u1ea5t c\u00f3 c\u1ea5u tr\u00fac log). C\u00e2y LSM \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u ho\u00e1 cho vi\u1ec7c ghi d\u1eef li\u1ec7u nhanh.</p> <p></p>"},{"location":"ByteByteGo/lsm_tree/lsm_tree/#b-tree","title":"B-tree","text":"<p>\u0110\u1ec3 hi\u1ec3u c\u00e2y LSM ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o, ta c\u00f9ng \u0111i t\u00ecm hi\u1ec3u d\u1eef li\u1ec7u th\u01b0\u1eddng \u0111\u01b0\u1ee3c l\u01b0u v\u00e0o c\u00e1c relational database (c\u01a1 s\u1edf d\u1eef li\u1ec7u quan h\u1ec7) ra sao. M\u1ed9t relational database th\u01b0\u1eddng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u c\u00f3 t\u00ean l\u00e0 B-tree. </p> <p></p> <p>B-tree \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u cho vi\u1ec7c \u0111\u1ecdc d\u1eef li\u1ec7u. C\u1eadp nh\u1eadt (th\u00eam, s\u1eeda, xo\u00e1) B-tree t\u01b0\u01a1ng \u0111\u1ed1i t\u1ed1n k\u00e9m v\u00ec n\u00f3 li\u00ean quan \u0111\u1ebfn random I/O v\u00e0 c\u00f3 th\u1ec3 bao g\u1ed3m vi\u1ec7c c\u1eadp nh\u1eadt nhi\u1ec1u trang tr\u00ean \u0111\u0129a c\u1ee9ng. \u0110i\u1ec1u n\u00e0y l\u00e0m gi\u1edbi h\u1ea1n t\u1ed1c \u0111\u1ed9 ghi d\u1eef li\u1ec7u c\u1ee7a B-tree. </p>"},{"location":"ByteByteGo/lsm_tree/lsm_tree/#cay-lsm","title":"C\u00e2y LSM","text":"<p>C\u00e2y LSM th\u00ec kh\u00e1c. Vi\u1ec7c ghi d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c d\u1ed3n theo \u0111\u1ee3t trong b\u1ed9 nh\u1edb trong m\u1ed9t c\u1ea5u tr\u00fac g\u1ecdi l\u00e0 memtable, sau \u0111\u00f3 g\u1eedi \u0111i. M\u1ed9t memtable \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp theo object key, v\u00e0 th\u01b0\u1eddng \u0111\u01b0\u1ee3c tri\u1ec3n khai d\u01b0\u1edbi d\u1ea1ng c\u00e2y nh\u1ecb ph\u00e2n c\u00e2n b\u1eb1ng (balanced binary tree). </p> <p></p> <p>Khi k\u00edch th\u01b0\u1edbc memtable \u0111\u1ebfn m\u1ed9t gi\u1edbi h\u1ea1n n\u00e0o \u0111\u00f3, n\u00f3 s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n v\u00e0o \u0111\u0129a c\u1ee9ng d\u01b0\u1edbi d\u1ea1ng Sorted String Table b\u1ea5t bi\u1ebfn (vi\u1ebft t\u1eaft l\u00e0 SSTable, l\u01b0\u1ee3c d\u1ecbch l\u00e0 B\u1ea3ng ch\u1ee9a c\u00e1c x\u00e2u \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp).</p> <p></p> <p>M\u1ed9t SSTable l\u01b0u c\u00e1c c\u1eb7p key-value theo tr\u00ecnh t\u1ef1 \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp theo key. T\u1ea5t c\u1ea3 c\u00e1c l\u1ea7n ghi \u0111\u1ec1u l\u00e0 I/O tu\u1ea7n t\u1ef1, khi\u1ebfn cho vi\u1ec7c ghi r\u1ea5t nhanh tr\u00ean m\u1ecdi lo\u1ea1i \u0111\u0129a. SSTable m\u1edbi s\u1ebd tr\u1edf th\u00e0nh \u0111o\u1ea1n (hay l\u00e0 th\u00f4ng tin) m\u1edbi nh\u1ea5t c\u1ee7a c\u00e2y LSM. Khi c\u00f3 nhi\u1ec1u d\u1eef li\u1ec7u h\u01a1n, ng\u00e0y c\u00e0ng nhi\u1ec1u SSTable b\u1ea5t bi\u1ebfn \u0111\u01b0\u1ee3c t\u1ea1o ra v\u00e0 th\u00eam v\u00e0o c\u00e2y LSM, v\u1edbi m\u1ed7i SSTable \u0111\u1ea1i di\u1ec7n cho m\u1ed9t t\u1eadp con nh\u1ecf theo tr\u00ecnh t\u1ef1 th\u1eddi gian c\u1ee7a c\u00e1c thay \u0111\u1ed5i m\u1edbi nh\u1ea5t. </p> <p></p> <p>V\u00ec c\u00e1c SSTable n\u00e0y b\u1ea5t bi\u1ebfn, c\u1eadp nh\u1eadt cho m\u1ed9t key hi\u1ec7n c\u00f3 s\u1ebd kh\u00f4ng ghi \u0111\u00e8 l\u00ean SSTable ch\u1ee9a key \u0111\u00f3. Thay v\u00e0o \u0111\u00f3, m\u1ed9t key m\u1edbi \u0111\u01b0\u1ee3c th\u00eam v\u00e0o SSTable m\u1edbi nh\u1ea5t, v\u00e0 n\u00f3 s\u1ebd thay cho c\u00e1c key tr\u00f9ng n\u00f3 trong c\u00e1c SSTable c\u0169.</p> <p></p> <p>Vi\u1ec7c xo\u00e1 m\u1ed9t object ph\u1ea3i x\u1eed l\u00fd kh\u00e1c \u0111i, v\u00ec ta kh\u00f4ng th\u1ec3 \u0111\u00e1nh d\u1ea5u object \u0111\u00e3 b\u1ecb xo\u00e1 trong SSTable c\u0169 \u0111\u01b0\u1ee3c. \u0110\u1ec3 th\u1ef1c hi\u1ec7n xo\u00e1, n\u00f3 th\u00eam m\u1ed9t \u0111\u00e1nh d\u1ea5u g\u1ecdi l\u00e0 tombstone (bia m\u1ed9) v\u00e0o SSTable m\u1edbi nh\u1ea5t cho c\u00e1i key \u0111\u00f3. Khi ta \u0111\u1ecdc d\u1eef li\u1ec7u m\u00e0 th\u1ea5y tombstone, ta bi\u1ebft r\u1eb1ng object \u0111\u00e3 b\u1ecb xo\u00e1. Vi\u1ec7c xo\u00e1 \u1edf \u0111\u00e2y l\u1ea1i t\u1ed1n th\u00eam kh\u00f4ng gian d\u1eef li\u1ec7u, nghe h\u01a1i l\u1ea1, nh\u01b0ng l\u00e0 c\u00e1ch t\u1ed1t nh\u1ea5t c\u00f3 th\u1ec3 l\u00e0m.</p> <p></p> <p>Khi c\u00f3 request \u0111\u1ecdc d\u1eef li\u1ec7u \u0111\u1ebfn, \u0111\u1ea7u ti\u00ean ta t\u00ecm key trong memtable, sau \u0111\u00f3 t\u00ecm trong SSTable m\u1edbi nh\u1ea5t trong c\u00e2y LSM, xong \u0111\u1ebfn SSTable m\u1edbi th\u1ee9 hai, v\u00e0 ti\u1ebfp t\u1ee5c nh\u01b0 th\u1ebf. SSTable \u0111\u00e3 \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp n\u00ean vi\u1ec7c t\u00ecm ki\u1ebfm c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n hi\u1ec7u qu\u1ea3.</p> <p></p> <p>Vi\u1ec7c th\u00eam li\u00ean t\u1ee5c c\u00e1c SSTable nh\u01b0 v\u1eady n\u1ea3y sinh hai v\u1ea5n \u0111\u1ec1. Th\u1ee9 nh\u1ea5t, v\u00ec s\u1ed1 SSTable t\u0103ng l\u00ean, s\u1ebd ng\u00e0y c\u00e0ng t\u1ed1n th\u1eddi gian h\u01a1n \u0111\u1ec3 t\u00ecm m\u1ed9t key. Th\u1ee9 hai, SSTable li\u00ean t\u1ee5c t\u00edch lu\u1ef9 nh\u01b0 v\u1eady, s\u1ebd c\u00f3 r\u1ea5t nhi\u1ec1u object c\u0169 do vi\u1ec7c s\u1eeda v\u00e0 xo\u00e1 (th\u00eam data m\u1edbi), \u0111i\u1ec1u n\u00e0y s\u1ebd l\u00e0m t\u1ed1n kh\u00f4ng gian l\u01b0u tr\u1eef. </p> <p>\u0110\u1ec3 gi\u1ea3i quy\u1ebft c\u00e1c v\u1ea5n \u0111\u1ec1 n\u00e0y, ta s\u1ebd \u0111i h\u1ee3p nh\u1ea5t (merge) v\u00e0 n\u00e9n (compact) \u0111\u1ecbnh k\u1ef3. Qu\u00e1 tr\u00ecnh n\u00e0y s\u1ebd ch\u1ea1y n\u1ec1n \u0111\u1ec3 h\u1ee3p nh\u1ea5t c\u00e1c SSTable v\u00e0 lo\u1ea1i b\u1ecf c\u00e1c gi\u00e1 tr\u1ecb c\u0169 ho\u1eb7c b\u1ecb xo\u00e1. \u0110i\u1ec1u n\u00e0y gi\u00fap ti\u1ebft ki\u1ec7m kh\u00f4ng gian l\u01b0u tr\u1eef v\u00e0 gi\u1edbi h\u1ea1n s\u1ed1 l\u01b0\u1ee3ng SSTable m\u00e0 m\u1ed9t l\u1ea7n \u0111\u1ecdc ph\u1ea3i ki\u1ec3m tra. V\u00ec c\u00e1c SSTable \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp r\u1ed3i, n\u00ean qu\u00e1 tr\u00ecnh h\u1ee3p nh\u1ea5t v\u00e0 n\u00e9n n\u00e0y r\u1ea5t \u0111\u01a1n gi\u1ea3n v\u00e0 hi\u1ec7u qu\u1ea3. C\u00e1ch l\u00e0m c\u0169ng t\u01b0\u01a1ng t\u1ef1 vi\u1ec7c merge trong Merge Sort. T\u00f3m l\u1ea1i, \u0111\u00e2y l\u00e0 c\u00e1ch c\u00e2y LSM cung c\u1ea5p kh\u1ea3 n\u0103ng ghi d\u1eef li\u1ec7u nhanh ch\u00f3ng.</p> <p></p> <p></p> <p></p> <p>Ta c\u00f9ng t\u00f3m t\u1eaft l\u1ea1i nh\u00e9. C\u00e2y LSM s\u1ebd ghi d\u1eef li\u1ec7u v\u00e0o memtable tr\u01b0\u1edbc. Khi memtable \u0111\u1ea7y, ta s\u1eafp x\u1ebfp v\u00e0 \u0111\u1ea9y n\u00f3 v\u00e0o \u0111\u0129a c\u1ee9ng d\u01b0\u1edbi d\u1ea1ng SSTable b\u1ea5t bi\u1ebfn. S\u1ed1 l\u01b0\u1ee3ng SSTable t\u0103ng l\u00ean do c\u00e0ng nhi\u1ec1u memtable data \u0111\u01b0\u1ee3c \u0111\u1ea9y v\u00e0o. \u0110i\u1ec1u n\u00e0y sinh ra v\u1ea5n \u0111\u1ec1 cho vi\u1ec7c \u0111\u1ecdc, do n\u00f3 ph\u1ea3i t\u00ecm ki\u1ebfm qua c\u00e1c SSTable \u0111\u1ec3 th\u1ef1c hi\u1ec7n tra c\u1ee9u. \u0110\u1ec3 gi\u1edbi h\u1ea1n s\u1ed1 l\u01b0\u01a1ng SSTable m\u00e0 n\u00f3 ph\u1ea3i t\u00ecm ki\u1ebfm cho m\u1ed7i l\u1ea7n \u0111\u1ecdc, c\u00e2y LSM h\u1ee3p nh\u1ea5t c\u00e1c SSTable v\u00e0 n\u00e9n (qu\u00e1 tr\u00ecnh n\u00e0y \u0111\u01b0\u1ee3c ch\u1ea1y n\u1ec1n).</p> <p></p>"},{"location":"ByteByteGo/lsm_tree/lsm_tree/#qua-trinh-nen","title":"Qu\u00e1 tr\u00ecnh n\u00e9n","text":"<p>Ta c\u00f9ng xem x\u00e9t s\u00e2u h\u01a1n v\u1ec1 qu\u00e1 tr\u00ecnh n\u00e9n. Khi c\u00e1c SSTable h\u1ee3p nh\u1ea5t, ch\u00fang \u0111\u01b0\u1ee3c t\u1ed5 ch\u1ee9c th\u00e0nh c\u00e1c level. \u0110\u00e2y l\u00e0 n\u01a1i ph\u1ea7n c\u00e2y c\u1ee7a c\u00e2y LSM xu\u1ea5t hi\u1ec7n. C\u00f3 m\u1ed9t s\u1ed1 c\u00e1ch kh\u00e1c nhau \u0111\u1ec3 x\u00e1c \u0111\u1ecbnh th\u1eddi \u0111i\u1ec3m v\u00e0 c\u00e1ch th\u1ee9c c\u00e1c SSTable \u0111\u01b0\u1ee3c h\u1ee3p nh\u1ea5t v\u00e0 n\u00e9n. C\u00f3 hai c\u00e1ch t\u1ed5ng qu\u00e1t: N\u00e9n theo k\u00edch th\u01b0\u1edbc (Size Tiered Compaction) v\u00e0 n\u00e9n theo level (Leveled Compaction).</p> <p>N\u00e9n theo k\u00edch th\u01b0\u1edbc \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u ho\u00e1 cho vi\u1ec7c ghi, c\u00f2n n\u00e9n theo level \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u ho\u00e1 cho vi\u1ec7c \u0111\u1ecdc d\u1eef li\u1ec7u h\u01a1n. Ta s\u1ebd kh\u00f4ng \u0111i v\u00e0o chi ti\u1ebft nh\u1eefng c\u00e1ch n\u00e0y ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o. Nh\u01b0ng c\u00f3 m\u1ed9t v\u00e0i \u0111i\u1ec3m ch\u00ednh c\u1ea7n nh\u1edb: vi\u1ec7c n\u00e9n gi\u1eef cho s\u1ed1 l\u01b0\u01a1ng SSTable n\u1eb1m trong gi\u1edbi h\u1ea1n n\u00e0o \u0111\u00f3. C\u00e1c SSTable \u0111\u01b0\u1ee3c t\u1ed5 ch\u1ee9c th\u00e0nh c\u00e1c level. M\u1ed7i level s\u1ebd l\u1edbn h\u01a1n theo c\u1ea5p s\u1ed1 nh\u00e2n khi c\u00e1c SSTable \u1edf level tr\u00ean \u0111\u01b0\u1ee3c h\u1ee3p nh\u1ea5t v\u00e0o n\u00f3. Vi\u1ec7c n\u00ean t\u1ed1n r\u1ea5t nhi\u1ec1u I/O. N\u00e9n sai s\u1ebd c\u00f3 th\u1ec3 l\u00e0m ch\u1eadm c\u1ea3 vi\u1ec7c \u0111\u1ecdc v\u00e0 ghi.</p>"},{"location":"ByteByteGo/lsm_tree/lsm_tree/#cac-cach-toi-uu","title":"C\u00e1c c\u00e1ch t\u1ed1i \u01b0u","text":"<p>Cu\u1ed1i c\u00f9ng, ta c\u00f9ng xem x\u00e9t c\u00e1c t\u1ed1i \u01b0u ph\u1ed5 bi\u1ebfn cho c\u00e2y LSM trong th\u1ef1c t\u1ebf. C\u00f3 nhi\u1ec1u c\u00e1ch t\u1ed1i \u01b0u ho\u00e1 c\u1ed1 g\u1eafng cung c\u1ea5p hi\u1ec7u su\u1ea5t \u0111\u1ecdc g\u1ea7n v\u1edbi B-tree h\u01a1n. Nh\u1eefng g\u00ec ta s\u1ebd \u0111i v\u00e0o d\u01b0\u1edbi \u0111\u00e2y ch\u1ec9 l\u00e0 nh\u1eefng c\u00e1ch ph\u1ed5 bi\u1ebfn nh\u1ea5t th\u00f4i. \u0110\u1ec3 tra m\u1ed9t key, n\u00f3 th\u1ef1c hi\u1ec7n t\u00ecm ki\u1ebfm tr\u00ean SSTable \u1edf m\u1ecdi level. M\u1eb7c d\u00f9 t\u00ecm ki\u1ebfm nhanh tr\u00ean d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp, nh\u01b0ng vi\u1ec7c duy\u1ec7t qua t\u1ea5t c\u1ea3 c\u00e1c SSTable tr\u00ean \u0111\u0129a s\u1ebd t\u1ed1n r\u1ea5t nhi\u1ec1u I/O. Nhi\u1ec1u h\u1ec7 th\u1ed1ng gi\u1eef m\u1ed9t b\u1ea3ng t\u00f3m t\u1eaft (summary table) trong b\u1ed9 nh\u1edb, trong \u0111\u00f3 ch\u1ee9a min/max c\u1ee7a m\u1ed7i kh\u1ed1i \u0111\u0129a \u1edf m\u1ecdi level. \u0110i\u1ec1u n\u00e0y gi\u00fap h\u1ec7 th\u1ed1ng b\u1ecf qua t\u00ecm ki\u1ebfm \u1edf nh\u1eefng kh\u1ed1i \u0111\u0129a kh\u00f4ng c\u00f3 key c\u1ea7n t\u00ecm, gi\u00fap ti\u1ebft ki\u1ec7m r\u1ea5t nhi\u1ec1u random I/O.</p> <p></p> <p>M\u1ed9t v\u1ea5n \u0111\u1ec1 n\u1eefa c\u00f3 th\u1ec3 t\u1ed1n k\u00e9m l\u00e0 vi\u1ec7c t\u00ecm key kh\u00f4ng c\u00f3 trong c\u00e2y LSM. N\u00f3 s\u1ebd ph\u1ea3i t\u00ecm qua t\u1ea5t c\u1ea3 c\u00e1c kh\u1ed1i \u1edf m\u1ecdi level. H\u1ea7u h\u1ebft c\u00e1c h\u1ec7 th\u1ed1ng duy tr\u00ec m\u1ed9t bloom filter \u1edf m\u1ed7i level. M\u1ed9t bloom filter l\u00e0 m\u1ed9t c\u1ea5u tr\u00fac d\u1eef li\u1ec7u ti\u1ebft ki\u1ec7m kh\u00f4ng gian, n\u00f3 s\u1ebd tr\u1ea3 v\u1ec1 \"Kh\u00f4ng c\u00f3\" n\u1ebfu key kh\u00f4ng t\u1ed3n t\u1ea1i, v\u00e0 \"C\u00f3 th\u1ec3 c\u00f3\" n\u1ebfu key c\u00f3 th\u1ec3 t\u1ed3n t\u1ea1i. \u0110i\u1ec1u n\u00e0y gi\u00fap h\u1ec7 th\u1ed1ng b\u1ecf qua m\u1ed9t level n\u1ebfu key kh\u00f4ng c\u00f3 \u1edf \u0111\u00f3, gi\u00fap gi\u1ea3m m\u1ea1nh l\u01b0\u1ee3ng random I/O c\u1ea7n. </p> <p></p> <p>K\u1ebft l\u1ea1i, NoSQL database \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1eb1ng m\u1ed9t c\u00e2y LSM c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c \u0111i\u1ec1u ch\u1ec9nh \u0111\u1ec3 h\u1ed7 tr\u1ee3 t\u1ed1c \u0111\u1ed9 ghi r\u1ea5t cao. Nh\u01b0 v\u1edbi b\u1ea5t k\u1ef3 database n\u00e0o, \u0111i\u1ec1u ch\u1ec9nh c\u1ea7n ph\u1ea3i ph\u00f9 h\u1ee3p. V\u1edbi c\u00e2y LSM, \u0111i\u1ec1u ch\u1ec9nh vi\u1ec7c n\u00e9n l\u00e0 quan tr\u1ecdng nh\u1ea5t.</p>"},{"location":"ByteByteGo/microservices/microservices/","title":"Microservices l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/microservices/microservices/#nguon","title":"Ngu\u1ed3n","text":"<p> What Are Microservices Really All About? (And When Not To Use It)</p>"},{"location":"ByteByteGo/microservices/microservices/#gioi-thieu-ve-kien-truc-microservice","title":"Gi\u1edbi thi\u1ec7u v\u1ec1 ki\u1ebfn tr\u00fac microservice","text":"<p>Ki\u1ebfn tr\u00fac microservice (d\u1ecbch v\u1ee5 si\u00eau nh\u1ecf) cho ph\u00e9p c\u00e1c team l\u1edbn x\u00e2y d\u1ef1ng c\u00e1c \u1ee9ng d\u1ee5ng c\u00f3 th\u1ec3 m\u1edf r\u1ed9ng bao g\u1ed3m nhi\u1ec1u service \u0111\u01b0\u1ee3c li\u00ean k\u1ebft v\u1edbi nhau. </p> <p></p> <p>C\u00e1c microservice \u0111\u01b0\u1ee3c li\u00ean k\u1ebft l\u1ecfng l\u1ebbo v\u1edbi nhau. M\u1ed7i service x\u1eed l\u00fd m\u1ed9t ch\u1ee9c n\u0103ng chuy\u00ean d\u1ee5ng trong m\u1ed9t \u1ee9ng d\u1ee5ng quy m\u00f4 l\u1edbn. V\u00ed d\u1ee5, gi\u1ecf h\u00e0ng, thanh to\u00e1n, h\u1ed3 s\u01a1 ng\u01b0\u1eddi d\u00f9ng v\u00e0 push notification \u0111\u1ec1u c\u00f3 th\u1ec3 tr\u1edf th\u00e0nh c\u00e1c microservice ri\u00eang l\u1ebb. C\u00e1c khu v\u1ef1c ch\u1ee9c n\u0103ng \u0111\u00f4i khi \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 c\u00e1c mi\u1ec1n (domains). </p> <p></p> <p>C\u00e1c microservice giao ti\u1ebfp v\u1edbi nhau th\u00f4ng qua c\u00e1c interface \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh r\u00f5 r\u00e0ng v\u1edbi t\u1ea7m \u1ea3nh h\u01b0\u1edfng (surface area) nh\u1ecf. T\u1ea7m \u1ea3nh h\u01b0\u1edfng nh\u1ecf n\u00e0y h\u1ea1n ch\u1ebf \u1ea3nh h\u01b0\u1edfng c\u1ee7a l\u1ed7i v\u00e0 c\u00e1c h\u1ecfng h\u00f3c v\u1ec1 sau. N\u00f3 gi\u00fap m\u1ed7i service d\u1ec5 d\u00e0ng suy ra b\u1ed1i c\u1ea3nh c\u1ee7a to\u00e0n b\u1ed9 \u1ee9ng d\u1ee5ng. C\u00e1c microservice giao ti\u1ebfp th\u00f4ng qua m\u1ed9t t\u1eadp c\u00e1c l\u1eddi g\u1ecdi th\u1ee7 t\u1ee5c t\u1eeb xa (RPC - Remote Procedure Call), truy\u1ec1n ph\u00e1t s\u1ef1 ki\u1ec7n (event streaming) ho\u1eb7c tr\u00ecnh ph\u00e2n ph\u1ed1i tin nh\u1eafn (message broker). </p> <p></p> <p>RPC nh\u01b0 gRPC cung c\u1ea5p response nhanh h\u01a1n, nh\u01b0ng t\u1ea7m \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn c\u00e1c microservice kh\u00e1c s\u1ebd l\u1edbn h\u01a1n khi service b\u1ecb ng\u01b0ng ho\u1ea1t \u0111\u1ed9ng. Event streaming cung c\u1ea5p s\u1ef1 c\u00e1ch ly t\u1ed1t h\u01a1n gi\u1eefa c\u00e1c service nh\u01b0ng m\u1ea5t nhi\u1ec1u th\u1eddi gian h\u01a1n \u0111\u1ec3 x\u1eed l\u00fd.</p> <p>C\u00e1c microservice c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c tri\u1ec3n khai \u0111\u1ed9c l\u1eadp v\u1edbi nhau. V\u00ec m\u1ed7i service nh\u1ecf, d\u1ec5 suy lu\u1eadn h\u01a1n v\u00e0 c\u00f3 t\u1ea7m \u1ea3nh h\u01b0\u1edfng nh\u1ecf, \u0111i\u1ec1u n\u00e0y gi\u00fap ng\u01b0\u1eddi v\u1eadn h\u00e0nh y\u00ean t\u00e2m v\u00e0 t\u1ef1 tin tri\u1ec3n khai th\u01b0\u1eddng xuy\u00ean. C\u00e1c Microservice mang l\u1ea1i s\u1ef1 linh ho\u1ea1t h\u01a1n \u0111\u1ec3 m\u1edf r\u1ed9ng quy m\u00f4 c\u1ee7a t\u1eebng microservice m\u1ed9t c\u00e1ch \u0111\u1ed9c l\u1eadp. S\u1ef1 linh ho\u1ea1t trong ho\u1ea1t \u0111\u1ed9ng l\u00e0 v\u00f4 gi\u00e1. C\u00e1c microservice c\u00f3 ki\u1ebfn tr\u00fac t\u1ed1t th\u1ef1c hi\u1ec7n \u1ea9n th\u00f4ng tin r\u1ea5t hi\u1ec7u qu\u1ea3. \u0110i\u1ec1u n\u00e0y c\u00f3 ngh\u0129a l\u00e0 vi\u1ec7c chia database nguy\u00ean kh\u1ed1i th\u00e0nh c\u00e1c th\u00e0nh ph\u1ea7n logic kh\u00e1c nhau v\u00e0 gi\u1eef t\u1eebng th\u00e0nh ph\u1ea7n \u1ea9n k\u1ef9 b\u00ean trong microservice t\u01b0\u01a1ng \u1ee9ng c\u1ee7a n\u00f3. N\u00f3i v\u1ec1 th\u00e0nh ph\u1ea7n logic, n\u00f3 c\u00f3 th\u1ec3 c\u00f3 ngh\u0129a l\u00e0 m\u1ed9t schema ri\u00eang trong c\u1ee5m database ho\u1eb7c m\u1ed9t database v\u1eadt l\u00fd ho\u00e0n to\u00e0n ri\u00eang bi\u1ec7t, tu\u1ef3 v\u00e0o c\u00e0i \u0111\u1eb7t.</p> <p></p> <p>Tuy nhi\u00ean, m\u1ed9t nh\u01b0\u1ee3c \u0111i\u1ec3m l\u1edbn c\u1ee7a microservice l\u00e0 vi\u1ec7c chia nh\u1ecf database. V\u1edbi vi\u1ec7c chia database th\u00e0nh c\u00e1c \u0111\u01a1n v\u1ecb logic ri\u00eang bi\u1ec7t, database kh\u00f4ng c\u00f2n c\u00f3 th\u1ec3 duy tr\u00ec c\u00e1c quan h\u1ec7 kho\u00e1 ngo\u1ea1i v\u00e0 th\u1ef1c thi t\u00ednh to\u00e0n v\u1eb9n tham chi\u1ebfu gi\u1eefa c\u00e1c \u0111\u01a1n v\u1ecb n\u00e0y. G\u00e1nh n\u1eb7ng duy tr\u00ec t\u00ednh to\u00e0n v\u1eb9n d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c chuy\u1ec3n sang t\u1ea7ng \u1ee9ng d\u1ee5ng.</p>"},{"location":"ByteByteGo/microservices/microservices/#cac-thanh-phan-khac","title":"C\u00e1c th\u00e0nh ph\u1ea7n kh\u00e1c","text":"<p>Ta c\u00f9ng xem x\u00e9t c\u00e1c th\u00e0nh ph\u1ea7n quan tr\u1ecdng kh\u00e1c \u0111\u1ec3 tri\u1ec3n khai th\u00e0nh c\u00f4ng ki\u1ebfn tr\u00fac microservice. Th\u1ee9 nh\u1ea5t l\u00e0 API gateway. API gateway x\u1eed l\u00fd c\u00e1c request \u0111\u1ebfn v\u00e0 \u0111\u1ecbnh tuy\u1ebfn ch\u00fang \u0111\u1ebfn c\u00e1c microservice c\u00f3 li\u00ean quan. API gateway d\u1ef1a v\u00e0o service c\u1ee7a nh\u00e0 cung c\u1ea5p danh t\u00ednh \u0111\u1ec3 x\u1eed l\u00fd x\u00e1c th\u1ef1c v\u00e0 c\u1ea5p quy\u1ec1n cho t\u1eebng request \u0111\u1ebfn th\u00f4ng qua API gateway. </p> <p>\u0110\u1ec3 bi\u1ebft \u0111\u01b0\u1ee3c service \u0111\u1ec3 \u0111\u1ecbnh tuy\u1ebfn m\u1ed9t request, API gateway s\u1ebd tham kh\u1ea3o service registry v\u00e0 discovery service. C\u00e1c microservice \u0111\u0103ng k\u00fd v\u1edbi service registry v\u00e0 t\u00ecm hi\u1ec3u th\u00f4ng tin c\u1ee7a c\u00e1c microservice kh\u00e1c th\u00f4ng qua discovery service. Ngo\u00e0i ra c\u00f2n c\u00f3 c\u00e1c th\u00e0nh ph\u1ea7n h\u1eefu \u00edch kh\u00e1c trong ki\u1ebfn tr\u00fac microservice nh\u01b0 gi\u00e1m s\u00e1t v\u00e0 c\u1ea3nh b\u00e1o, c\u00f4ng c\u1ee5 DevOps \u0111\u1ec3 tri\u1ec3n khai v\u00e0 kh\u1eafc ph\u1ee5c s\u1ef1 c\u1ed1.</p> <p></p>"},{"location":"ByteByteGo/microservices/microservices/#khi-nao-can-dung","title":"Khi n\u00e0o c\u1ea7n d\u00f9ng?","text":"<p>Nh\u01b0 v\u1eady khi n\u00e0o c\u1ea7n d\u00f9ng ki\u1ebfn tr\u00fac microservice? </p> <p>X\u00e2y d\u1ef1ng v\u00e0 v\u1eadn h\u00e0nh ki\u1ebfn tr\u00fac microservice kh\u00e1 t\u1ed1n k\u00e9m. N\u00f3 ch\u1ec9 th\u1ef1c s\u1ef1 c\u00f3 \u00fd ngh\u0129a v\u1edbi c\u00e1c team l\u1edbn. M\u1ed7i mi\u1ec1n, ho\u1eb7c ch\u1ee9c n\u0103ng c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c duy tr\u00ec \u0111\u1ed9c l\u1eadp b\u1edfi m\u1ed9t team chuy\u00ean d\u1ee5ng. Trong m\u1ed9t ki\u1ebfn tr\u00fac microservice \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf t\u1ed1t, c\u00e1c team \u0111\u1ed9c l\u1eadp n\u00e0y c\u00f3 th\u1ec3 t\u1ef1 v\u1eadn h\u00e0nh nhanh, v\u00e0 t\u1ea7m \u1ea3nh h\u01b0\u1edfng c\u1ee7a l\u1ed7i s\u1ebd \u0111\u01b0\u1ee3c ki\u1ec3m so\u00e1t t\u1ed1t. M\u1ed7i service c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf, tri\u1ec3n khai, v\u00e0 m\u1edf r\u1ed9ng m\u1ed9t c\u00e1ch \u0111\u1ed9c l\u1eadp. </p> <p></p> <p>Tuy nhi\u00ean, chi ph\u00ed c\u1ee7a c\u1ee7a vi\u1ec7c tri\u1ec3n khai nh\u01b0 v\u1eady r\u1ea5t l\u1edbn n\u00ean n\u00f3 th\u01b0\u1edfng kh\u00f4ng ph\u00f9 h\u1ee3p v\u1edbi c\u00e1c startup nh\u1ecf. M\u1ed9t l\u1eddi khuy\u00ean cho c\u00e1c startup nh\u1ecf l\u00e0 n\u00ean thi\u1ebft k\u1ebf m\u1ed7i ch\u1ee9c n\u0103ng trong \u1ee9ng d\u1ee5ng v\u1edbi interface r\u00f5 r\u00e0ng. M\u1ed9t ng\u00e0y n\u00e0o \u0111\u00f3, n\u1ebfu business v\u00e0 team ph\u00e1t tri\u1ec3n nhanh v\u00e0 ki\u1ebfn tr\u00fac microservice b\u1eaft \u0111\u1ea7u c\u00f3 \u00fd ngh\u0129a, th\u00ec vi\u1ec7c chuy\u1ec3n \u0111\u1ed5i s\u1ebd d\u1ec5 qu\u1ea3n l\u00fd h\u01a1n.</p>"},{"location":"ByteByteGo/osi_model/osi_model/","title":"M\u00f4 h\u00ecnh OSI l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/osi_model/osi_model/#nguon","title":"Ngu\u1ed3n","text":"<p> What is OSI Model | Real World Examples</p>"},{"location":"ByteByteGo/osi_model/osi_model/#khai-niem","title":"Kh\u00e1i ni\u1ec7m","text":"<p>M\u00f4 h\u00ecnh OSI (Open Systems Interconnect) l\u00e0 m\u1ed9t framework (v\u1ec1 m\u1eb7t l\u00fd thuy\u1ebft) cung c\u1ea5p m\u1ed9t g\u00f3c nh\u00ecn v\u1ec1 m\u1ea1ng. N\u00f3 chia vi\u1ec7c giao ti\u1ebfp gi\u1eefa hai thi\u1ebft b\u1ecb tr\u00ean m\u1ea1ng v\u00e0o 7 t\u1ea7ng tr\u1eebu t\u01b0\u1ee3ng.</p> <p></p> <p>T\u1ea7ng v\u1eadt l\u00fd (Physical Layer) l\u00e0 t\u1ea7ng d\u01b0\u1edbi c\u00f9ng. N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m truy\u1ec1n t\u1ea3i c\u00e1c bit d\u1eef li\u1ec7u th\u00f4 qua m\u1ed9t k\u1ebft n\u1ed1i v\u1eadt l\u00fd.</p> <p></p> <p>T\u1ea7ng li\u00ean k\u1ebft d\u1eef li\u1ec7u (Data Link Layer) l\u00e0 t\u1ea7ng th\u1ee9 hai. N\u00f3 l\u1ea5y c\u00e1c bit d\u1eef li\u1ec7u th\u00f4 t\u1eeb t\u1ea7ng v\u1eadt l\u00fd v\u00e0 t\u1ed5 ch\u1ee9c ch\u00fang th\u00e0nh c\u00e1c frame. N\u00f3 \u0111\u1ea3m b\u1ea3o c\u00e1c frame \u0111\u01b0\u1ee3c \u0111\u01b0a \u0111\u1ebfn \u0111\u00fang \u0111\u1ecba ch\u1ec9. Ethernet h\u1ea7u h\u1ebft l\u00e0 n\u1eb1m trong t\u1ea7ng n\u00e0y.</p> <p></p> <p>T\u1ea7ng m\u1ea1ng (Network Layer) l\u00e0 t\u1ea7ng th\u1ee9 ba. N\u00f3 ch\u1ecbu tr\u00e1ch nhi\u1ec7m \u0111\u1ecbnh tuy\u1ebfn c\u00e1c frame d\u1eef li\u1ec7u tr\u00ean c\u00e1c m\u1ea1ng kh\u00e1c nhau. Ph\u1ea7n IP c\u1ee7a TCP/IP l\u00e0 m\u1ed9t v\u00ed d\u1ee5 n\u1ed5i ti\u1ebfng v\u1ec1 t\u1ea7ng n\u00e0y.</p> <p></p> <p>T\u1ea7ng giao v\u1eadn (Transport Layer) l\u00e0 t\u1ea7ng th\u1ee9 t\u01b0. N\u00f3 x\u1eed l\u00fd giao ti\u1ebfp \u0111\u1ea7u cu\u1ed1i gi\u1eefa 2 node. \u0110\u00e2y l\u00e0 n\u01a1i ch\u1ee9a TCP v\u00e0 UDP. </p> <p></p> <p>TCP cung c\u1ea5p kh\u1ea3 n\u0103ng li\u00ean l\u1ea1c \u0111\u1ea7u cu\u1ed1i, \u0111\u00e1ng tin c\u1eady gi\u1eefa c\u00e1c thi\u1ebft b\u1ecb. N\u00f3 th\u1ef1c hi\u1ec7n \u0111i\u1ec1u n\u00e0y b\u1eb1ng c\u00e1ch chia d\u1eef li\u1ec7u th\u00e0nh c\u00e1c ph\u00e2n \u0111o\u1ea1n nh\u1ecf, c\u00f3 th\u1ec3 qu\u1ea3n l\u00fd \u0111\u01b0\u1ee3c v\u00e0 g\u1eedi t\u1eebng ph\u00e2n \u0111o\u1ea1n ri\u00eang l\u1ebb. M\u1ed7i \u0111o\u1ea1n c\u00f3 m\u1ed9t s\u1ed1 th\u1ee9 t\u1ef1 g\u1eafn li\u1ec1n v\u1edbi n\u00f3. \u0110\u1ea7u nh\u1eadn s\u1eed d\u1ee5ng c\u00e1c s\u1ed1 th\u1ee9 t\u1ef1 \u0111\u1ec3 t\u1eadp h\u1ee3p l\u1ea1i d\u1eef li\u1ec7u theo \u0111\u00fang th\u1ee9 t\u1ef1. TCP c\u0169ng cung c\u1ea5p ch\u1ee9c n\u0103ng ki\u1ec3m tra l\u1ed7i \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o r\u1eb1ng d\u1eef li\u1ec7u kh\u00f4ng b\u1ecb h\u1ecfng trong qu\u00e1 tr\u00ecnh truy\u1ec1n.</p> <p></p> <p>UDP c\u0169ng l\u00e0 m\u1ed9t giao th\u1ee9c n\u1ed5i ti\u1ebfng trong t\u1ea7ng giao v\u1eadn. N\u00f3 t\u01b0\u01a1ng t\u1ef1 nh\u01b0 TCP nh\u01b0ng \u0111\u01a1n gi\u1ea3n h\u01a1n v\u00e0 nhanh h\u01a1n. UDP kh\u00f4ng cung c\u1ea5p t\u00ednh n\u0103ng ki\u1ec3m tra l\u1ed7i v\u00e0 ki\u1ec3m tra \u0111\u1ed9 tin c\u1eady, kh\u00e1c v\u1edbi TCP. N\u00f3 ch\u1ec9 \u0111\u01a1n gi\u1ea3n l\u00e0 g\u1eedi c\u00e1c g\u00f3i tin t\u1eeb thi\u1ebft b\u1ecb n\u00e0y sang thi\u1ebft b\u1ecb kh\u00e1c. \u0110\u1ea7u nh\u1eadn c\u00f3 tr\u00e1ch nhi\u1ec7m x\u00e1c \u0111\u1ecbnh xem g\u00f3i tin c\u00f3 \u0111\u01b0\u1ee3c nh\u1eadn ch\u00ednh x\u00e1c hay ch\u01b0a. N\u1ebfu c\u00f3 l\u1ed7i x\u1ea3y ra, \u0111\u1ea7u nh\u1eadn ch\u1ec9 \u0111\u01a1n gi\u1ea3n l\u00e0 lo\u1ea1i b\u1ecf g\u00f3i tin.</p> <p></p> <p>C\u00e1c t\u1ea7ng c\u00f2n l\u1ea1i bao g\u1ed3m t\u1ea7ng phi\u00ean (Session Layer), t\u1ea7ng tr\u00ecnh di\u1ec5n (Presentation Layer) v\u00e0 t\u1ea7ng \u1ee9ng d\u1ee5ng (Application Layers). \u0110\u00e2y l\u00e0 n\u01a1i m\u00e0 m\u00f4 h\u00ecnh OSI m\u1ea5t \u0111i t\u00ednh h\u1eefu d\u1ee5ng trong th\u1ef1c t\u1ebf. Ch\u00fang qu\u00e1 chi ti\u1ebft v\u00e0 kh\u00f4ng ph\u1ea3n \u00e1nh th\u1ef1c t\u1ebf. N\u00f3i chung, ch\u1ec9 c\u1ea7n thu g\u1ecdn ch\u00fang th\u00e0nh m\u1ed9t t\u1ea7ng duy nh\u1ea5t v\u00e0 coi c\u00e1c giao th\u1ee9c \u1ee9ng d\u1ee5ng (Application Protocols Layer) nh\u01b0 HTTP nh\u01b0 c\u00e1c giao th\u1ee9c t\u1ea7ng 7 l\u00e0 \u0111\u01b0\u1ee3c.</p> <p></p>"},{"location":"ByteByteGo/osi_model/osi_model/#du-lieu-i-qua-mo-hinh-osi-nhu-the-nao","title":"D\u1eef li\u1ec7u \u0111i qua m\u00f4 h\u00ecnh OSI nh\u01b0 th\u1ebf n\u00e0o.","text":"<p>Ta c\u00f9ng xem x\u00e9t m\u1ecdt v\u00ed d\u1ee5 v\u1ec1 c\u00e1ch d\u1eef li\u1ec7u di chuy\u1ec3n qua c\u00e1c t\u1ea7ng khi \u0111\u01b0\u1ee3c truy\u1ec1n qua m\u1ea1ng.</p> <p>(1) Ng\u01b0\u1eddi d\u00f9ng g\u1eedi m\u1ed9t HTTP request \u0111\u1ebfn web server qua m\u1ea1ng, HTTP header \u0111\u01b0\u1ee3c th\u00eam v\u00e0o d\u1eef li\u1ec7u \u1edf t\u1ea7ng \u1ee9ng d\u1ee5ng. </p> <p>(2) Sau \u0111\u00f3, m\u1ed9t TCP header \u0111\u01b0\u1ee3c th\u00eam v\u00e0o d\u1eef li\u1ec7u. N\u00f3 \u0111\u01b0\u1ee3c g\u00f3i g\u1ecdn trong c\u00e1c \u0111o\u1ea1n TCP \u1edf t\u1ea7ng giao v\u1eadn. Header ch\u1ee9a port ngu\u1ed3n, port \u0111\u00edch v\u00e0 s\u1ed1 th\u1ee9 t\u1ef1.</p> <p>(3) Ti\u1ebfp theo, c\u00e1c ph\u00e2n \u0111o\u1ea1n \u0111\u01b0\u1ee3c g\u00f3i v\u1edbi m\u1ed9t IP header \u1edf t\u1ea7ng m\u1ea1ng. IP header ch\u1ee9a \u0111\u1ecba ch\u1ec9 IP ngu\u1ed3n v\u00e0 \u0111\u00edch. </p> <p>(4) M\u1ed9t MAC header \u0111\u01b0\u1ee3c th\u00eam v\u00e0o t\u1ea7ng li\u00ean k\u1ebft d\u1eef li\u1ec7u, v\u1edbi \u0111\u1ecba ch\u1ec9 MAC ngu\u1ed3n v\u00e0 \u0111\u00edch. Th\u1ef1c ra \u0111\u1ecba ch\u1ec9 MAC th\u01b0\u1eddng kh\u00f4ng ph\u1ea3i l\u00e0 \u0111\u1ecba ch\u1ec9 MAC c\u1ee7a thi\u1ebft b\u1ecb g\u1eedi v\u00e0 thi\u1ebft b\u1ecb nh\u1eadn. Ch\u00fang l\u00e0 \u0111\u1ecba ch\u1ec9 MAC c\u1ee7a c\u00e1c thi\u1ebft b\u1ecb \u0111\u1ecbnh tuy\u1ebfn trong b\u01b0\u1edbc nh\u1ea3y ti\u1ebfp theo c\u1ee7a h\u00e0nh tr\u00ecnh d\u00e0i tr\u00ean internet. </p> <p>(5) C\u00e1c frame c\u0169ng \u0111\u01b0\u1ee3c g\u1eedi qua m\u1ea1ng \u1edf d\u1ea1ng bit d\u1eef li\u1ec7u th\u00f4 trong t\u1ea7ng v\u1eadt l\u00fd. </p> <p>(6) + (7) + (8) + (9) + (10) Khi web server nh\u1eadn \u0111\u01b0\u1ee3c c\u00e1c bit th\u00f4 n\u00e0y t\u1eeb m\u1ea1ng, n\u00f3 s\u1ebd \u0111\u1ea3o ng\u01b0\u1ee3c quy tr\u00ecnh. C\u00e1c header \u0111\u01b0\u1ee3c b\u00f3c ra tr\u00ean t\u1eebng t\u1ea7ng, v\u00e0 cu\u1ed1i c\u00f9ng, web server x\u1eed l\u00fd HTTP request.</p> <p></p> <p>T\u00f3m l\u1ea1i, m\u00f4 h\u00ecnh OSI l\u00e0 m\u1ed9t c\u00e1ch nh\u00ecn v\u1ec1 c\u00e1ch m\u1ea1ng ho\u1ea1t \u0111\u1ed9ng. M\u1ee5c \u0111\u00edch ch\u00ednh c\u1ee7a n\u00f3 l\u00e0 \u0111\u1ec3 gi\u00e1o d\u1ee5c. M\u1eb7c d\u00f9 c\u00e1c t\u1ea7ng kh\u00f4ng ho\u00e0n to\u00e0n ph\u00f9 h\u1ee3p v\u1edbi c\u00e1c use case trong th\u1ebf gi\u1edbi th\u1ef1c, ch\u00fang v\u1eabn \u0111\u01b0\u1ee3c c\u00e1c nh\u00e0 cung c\u1ea5p m\u1ea1ng v\u00e0 nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 \u0111\u00e1m m\u00e2y s\u1eed d\u1ee5ng r\u1ed9ng r\u00e3i nh\u01b0 m\u1ed9t c\u00e1ch \u0111\u1ec3 m\u00f4 t\u1ea3 b\u1ecb tr\u00ed c\u1ee7a c\u00e1c s\u1ea3n ph\u1ea9m m\u1ea1ng c\u1ee7a h\u1ecd trong m\u00f4 h\u00ecnh OSI.</p> <p>V\u00ed d\u1ee5: load balancer tr\u00ean \u0111\u00e1m m\u00e2y th\u01b0\u1eddng \u0111\u01b0\u1ee3c chia l\u00e0m hai lo\u1ea1i - L4 v\u00e0 L7.</p> <p>L7 load balancer ngh\u0129a l\u00e0 n\u00f3 ho\u1ea1t \u0111\u1ed9ng \u1edf t\u1ea7ng giao th\u1ee9c \u1ee9ng d\u1ee5ng nh\u01b0 HTTP v\u00e0 HTTPS. </p> <p></p> <p>L4 load balancer th\u00ec ho\u1ea1t \u0111\u1ed9ng \u1edf t\u1ea7ng giao v\u1eadn.</p> <p></p>"},{"location":"ByteByteGo/process_vs_thread/process_vs_thread/","title":"Process vs. Thread","text":""},{"location":"ByteByteGo/process_vs_thread/process_vs_thread/#nguon","title":"Ngu\u1ed3n","text":"<p> FANG Interview Question | Process vs Thread</p>"},{"location":"ByteByteGo/process_vs_thread/process_vs_thread/#chuong-trinh-program-la-gi","title":"Ch\u01b0\u01a1ng tr\u00ecnh (Program) l\u00e0 g\u00ec?","text":"<p>M\u1ed9t ch\u01b0\u01a1ng tr\u00ecnh (Program) l\u00e0 m\u1ed9t file th\u1ef1c thi (executable). N\u00f3 ch\u1ee9a m\u00e3 ngu\u1ed3n, ho\u1eb7c m\u1ed9t t\u1eadp c\u00e1c h\u01b0\u1edbng d\u1eabn x\u1eed l\u00fd \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef th\u00e0nh m\u1ed9t file tr\u00ean \u1ed5 \u0111\u0129a.</p> <p></p>"},{"location":"ByteByteGo/process_vs_thread/process_vs_thread/#tien-trinh-process-la-gi","title":"Ti\u1ebfn tr\u00ecnh (Process) l\u00e0 g\u00ec?","text":"<p>Khi m\u00e3 ngu\u1ed3n c\u1ee7a ch\u01b0\u01a1ng tr\u00ecnh \u0111\u01b0\u1ee3c \u0111\u01b0a v\u00e0o trong b\u1ed9 nh\u1edb v\u00e0 \u0111\u01b0\u1ee3c th\u1ef1c thi b\u1edfi b\u1ed9 x\u1eed l\u00fd, n\u00f3 tr\u1edf th\u00e0nh m\u1ed9t ti\u1ebfn tr\u00ecnh (Process).</p> <p></p> <p>M\u1ed9t process \u0111ang ho\u1ea1t \u0111\u1ed9ng c\u0169ng c\u1ea7n t\u00e0i nguy\u00ean m\u00e0 ch\u01b0\u01a1ng tr\u00ecnh c\u1ea7n \u0111\u1ec3 ch\u1ea1y. T\u00e0i nguy\u00ean n\u00e0y \u0111\u01b0\u1ee3c qu\u1ea3n l\u00fd b\u1edfi h\u1ec7 \u0111i\u1ec1u h\u00e0nh. M\u1ed9t s\u1ed1 v\u00ed d\u1ee5 nh\u01b0 thanh ghi x\u1eed l\u00fd, b\u1ed9 \u0111\u1ebfm ch\u01b0\u01a1ng tr\u00ecnh, con tr\u1ecf stack, c\u00e1c trang b\u1ed9 nh\u1edb \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh cho stack v\u00e0 heap c\u1ee7a process, v\u00e2n v\u00e2n...</p> <p>M\u1ed7i process c\u00f3 kh\u00f4ng gian \u0111\u1ecba ch\u1ec9 b\u1ed9 nh\u1edb ri\u00eang. M\u1ed9t process kh\u00f4ng th\u1ec3 g\u00e2y h\u1ea1i \u0111\u1ebfn kh\u00f4ng gian b\u1ed9 nh\u1edb c\u1ee7a m\u1ed9t process kh\u00e1c. \u0110i\u1ec1u n\u00e0y c\u00f3 ngh\u0129a l\u00e0 n\u1ebfu m\u1ed9t process g\u1eb7p s\u1ef1 c\u1ed1, c\u00e1c process kh\u00e1c v\u1eabn c\u00f3 th\u1ec3 ti\u1ebfp t\u1ee5c ch\u1ea1y. Tr\u00ecnh duy\u1ec7t Chrome v\u1eadn d\u1ee5ng \u0111i\u1ec1u n\u00e0y r\u1ea5t t\u1ed1t. M\u1ed7i tab c\u1ee7a Chrome l\u00e0 m\u1ed9t process. Khi m\u1ed9t tab g\u1eb7p s\u1ef1 c\u1ed1 do l\u1ed7i hay b\u1ecb t\u1ea5n c\u00f4ng, c\u00e1c tab kh\u00e1c kh\u00f4ng b\u1ecb \u1ea3nh h\u01b0\u1edfng.</p>"},{"location":"ByteByteGo/process_vs_thread/process_vs_thread/#luong-thread-la-gi","title":"Lu\u1ed3ng (Thread) l\u00e0 g\u00ec?","text":"<p>Lu\u1ed3ng (thread) l\u00e0 m\u1ed9t \u0111\u01a1n v\u1ecb th\u1ef1c thi b\u00ean trong m\u1ed9t process. M\u1ed7i process c\u00f3 \u00edt nh\u1ea5t m\u1ed9t thread, c\u00f2n g\u1ecdi l\u00e0 main thread. M\u1ed9t process c\u00f3 th\u1ec3 c\u00f3 nhi\u1ec1u thread.</p> <p></p> <p>M\u1ed7i thread c\u00f3 m\u1ed9t stack ri\u00eang. Tr\u01b0\u1edbc \u0111\u00f3 ta \u0111\u1ec1 c\u1eadp \u0111\u1ebfn vi\u1ec7c c\u00e1c thanh ghi, b\u1ed9 \u0111\u1ebfm ch\u01b0\u01a1ng tr\u00ecnh, con tr\u1ecf stack l\u00e0 m\u1ed9t ph\u1ea7n c\u1ee7a m\u1ed9t process. Gi\u1edd ta c\u00f3 th\u1ec3 n\u00f3i \u0111\u00fang h\u01a1n r\u1eb1ng ch\u00fang l\u00e0 m\u1ed9t ph\u1ea7n c\u1ee7a m\u1ed9t thread.</p> <p>C\u00e1c thread trong m\u1ed9t process chia s\u1ebb c\u00f9ng m\u1ed9t kh\u00f4ng gian \u0111\u1ecba ch\u1ec9 b\u1ed9 nh\u1edb. Kh\u00f4ng gian \u0111\u1ecba ch\u1ec9 b\u1ed9 nh\u1edb chung n\u00e0y c\u0169ng c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 giao ti\u1ebfp gi\u1eefa c\u00e1c thread v\u1edbi nhau. Tuy nhi\u00ean, m\u1ed9t thread g\u1eb7p s\u1ef1 c\u1ed1 c\u00f3 th\u1ec3 d\u1eabn \u0111\u1ebfn c\u1ea3 process g\u1eb7p l\u1ed7i.</p> <p></p>"},{"location":"ByteByteGo/process_vs_thread/process_vs_thread/#he-ieu-hanh-khoi-chay-thread-hoac-process-tren-cpu-nhu-the-nao","title":"H\u1ec7 \u0111i\u1ec1u h\u00e0nh kh\u1edfi ch\u1ea1y thread ho\u1eb7c process tr\u00ean CPU nh\u01b0 th\u1ebf n\u00e0o?","text":"<p>Vi\u1ec7c n\u00e0y \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi context switching (thay \u0111\u1ed5i b\u1ed1i c\u1ea3nh).</p> <p></p> <p>Trong khi \u0111ang context switch, m\u1ed9t process \u0111\u01b0\u1ee3c mang ra (switch) kh\u1ecfi CPU \u0111\u1ec3 cho m\u1ed9t process kh\u00e1c c\u00f3 th\u1ec3 ch\u1ea1y. H\u1ec7 \u0111i\u1ec1u h\u00e0nh l\u01b0u tr\u1ea1ng th\u00e1i c\u1ee7a process hi\u1ec7n t\u1ea1i (b\u1ecb switch ra) \u0111\u1ec3 c\u00f3 th\u1ec3 kh\u00f4i ph\u1ee5c v\u00e0 ti\u1ebfp t\u1ee5c ch\u1ea1y v\u00e0o m\u1ed9t th\u1eddi \u0111i\u1ec3m kh\u00e1c. Sau \u0111\u00f3 n\u00f3 kh\u00f4i ph\u1ee5c tr\u1ea1ng th\u00e1i tr\u01b0\u1edbc \u0111\u00f3 c\u1ee7a m\u1ed9t process kh\u00e1c v\u00e0 ti\u1ebfp t\u1ee5c ch\u1ea1y process \u0111\u00f3.</p> <p></p> <p></p> <p>Context switch r\u1ea5t t\u1ed1n k\u00e9m. N\u00f3 bao g\u1ed3m vi\u1ec7c l\u01b0u v\u00e0 t\u1ea3i d\u1eef li\u1ec7u v\u00e0o thanh ghi, thay \u0111\u1ed5i trang b\u1ed9 nh\u1edb, v\u00e0 c\u1eadp nh\u1eadt nhi\u1ec1u c\u1ea5u tr\u00fac d\u1eef li\u1ec7u trong kernel. Thay \u0111\u1ed5i th\u1ef1c thi gi\u1eefa c\u00e1c lu\u1ed3ng c\u0169ng c\u1ea7n context switching.</p> <p></p> <p></p> <p>Th\u00f4ng th\u01b0\u1eddng th\u00ec context switch tr\u00ean thread s\u1ebd nhanh h\u01a1n tr\u00ean process. Thread th\u00ec c\u00f3 \u00edt tr\u1ea1ng th\u00e1i h\u01a1n v\u00e0 quan tr\u1ecdng h\u01a1n l\u00e0 c\u00e1c thread c\u00f3 c\u00f9ng kh\u00f4ng gian \u0111\u1ecba ch\u1ec9 b\u1ed9 nh\u1edb, n\u00ean kh\u00f4ng c\u1ea7n ph\u1ea3i thay \u0111\u1ed5i trang c\u00e1c b\u1ed9 nh\u1edb \u1ea3o, \u0111\u00e2y c\u0169ng l\u00e0 thao t\u00e1c t\u1ed1n k\u00e9m nh\u1ea5t trong context switch.</p> <p></p> <p>Context switch t\u1ed1n k\u00e9m n\u00ean c\u00f3 m\u1ed9t s\u1ed1 c\u01a1 ch\u1ebf \u0111\u1ec3 t\u1ed1i thi\u1ec3u ho\u00e1 s\u1ef1 t\u1ed1n k\u00e9m n\u00e0y, v\u00ed d\u1ee5 nh\u01b0 fiber v\u00e0 coroutine.</p> <p></p> <p>C\u00e1c c\u01a1 ch\u1ebf n\u00e0y gi\u1ea3m t\u1ed1n k\u00e9m nh\u01b0ng t\u0103ng \u0111\u1ed9 ph\u1ee9c t\u1ea1p c\u1ee7a context switch. N\u00f3i chung, ch\u00fang \u0111\u01b0\u1ee3c l\u00ean l\u1ecbch m\u1ed9t c\u00e1ch h\u1ee3p t\u00e1c v\u1edbi nhau, ngh\u0129a l\u00e0, m\u1ed9t th\u1eb1ng ph\u1ea3i \u0111\u01b0a quy\u1ec1n \u0111i\u1ec1u khi\u1ec3n cho th\u1eb1ng c\u00f2n l\u1ea1i \u0111\u1ec3 th\u1eb1ng c\u00f2n l\u1ea1i c\u00f3 th\u1ec3 ch\u1ea1y, gi\u00fap cho \u1ee9ng d\u1ee5ng t\u1ef1 m\u00ecnh l\u1eadp l\u1ecbch. Tr\u00e1ch nhi\u1ec7m thu\u1ed9c v\u1ec1 \u1ee9ng d\u1ee5ng \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o r\u1eb1ng m\u1ed9t task k\u00e9o d\u00e0i c\u00f3 th\u1ec3 t\u1ea1m ng\u01b0ng b\u1eb1ng c\u00e1ch trao quy\u1ec1n \u0111i\u1ec1u khi\u1ebfn theo \u0111\u1ecbnh k\u1ef3.</p> <p></p>"},{"location":"ByteByteGo/proxy_vs_reverse_proxy/proxy_vs_reverse_proxy/","title":"Proxy vs. Reverse Proxy","text":""},{"location":"ByteByteGo/proxy_vs_reverse_proxy/proxy_vs_reverse_proxy/#nguon","title":"Ngu\u1ed3n","text":"<p> Proxy vs Reverse Proxy (Real-world Examples)</p>"},{"location":"ByteByteGo/proxy_vs_reverse_proxy/proxy_vs_reverse_proxy/#forward-proxy","title":"Forward Proxy","text":"<p>C\u00f3 hai lo\u1ea1i proxy ph\u1ed5 bi\u1ebfn l\u00e0 forward proxy (proxy chuy\u1ec3n ti\u1ebfp) v\u00e0 reverse proxy (proxy ng\u01b0\u1ee3c).</p> <p>Forward proxy l\u00e0 m\u1ed9t server n\u1eb1m gi\u1eefa m\u1ed9t nh\u00f3m c\u00e1c m\u00e1y client v\u00e0 m\u1ea1ng internet. Khi nh\u1eefng m\u00e1y client \u0111\u00f3 g\u1eedi request l\u00ean c\u00e1c trang web tr\u00ean m\u1ea1ng internet, forward proxy s\u1ebd \u0111\u00f3ng vai tr\u00f2 l\u00e0 trung gian \u0111\u1ec3 ch\u1eb7n c\u00e1c request \u0111\u00f3, v\u00e0 giao ti\u1ebfp v\u1edbi web server thay m\u1eb7t cho c\u00e1c m\u00e1y client \u0111\u00f3.</p> <p></p> <p>Ng\u01b0\u1eddi ta c\u1ea7n forward proxy v\u00ec m\u1ed9t v\u00e0i l\u00fd do sau.</p> <p>Th\u1ee9 nh\u1ea5t, forward proxy b\u1ea3o v\u1ec7 danh t\u00ednh tr\u1ef1c tuy\u1ebfn c\u1ee7a client. B\u1eb1ng c\u00e1ch d\u00f9ng forward proxy \u0111\u1ec3 k\u1ebft n\u1ed1i v\u1edbi m\u1ed9t trang web, \u0111\u1ecba ch\u1ec9 IP c\u1ee7a client s\u1ebd kh\u00f4ng b\u1ecb server t\u00ecm ra, server s\u1ebd ch\u1ec9 nh\u00ecn th\u1ea5y \u0111\u1ecba ch\u1ec9 c\u1ee7a proxy. Nh\u01b0 v\u1eady s\u1ebd kh\u00f3 h\u01a1n \u0111\u1ec3 t\u00ecm ra \u0111\u01b0\u1ee3c client.</p> <p>Th\u1ee9 hai, m\u1ed9t forward proxy c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 b\u1ecf qua c\u00e1c h\u1ea1n ch\u1ebf v\u1ec1 duy\u1ec7t web. M\u1ed9t s\u1ed1 t\u1ed5 ch\u1ee9c nh\u01b0 ch\u00ednh ph\u1ee7, tr\u01b0\u1eddng h\u1ecdc v\u00e0 doanh nghi\u1ec7p l\u1edbn s\u1eed d\u1ee5ng t\u01b0\u1eddng l\u1eeda \u0111\u1ec3 h\u1ea1n ch\u1ebf quy\u1ec1n truy c\u1eadp internet. B\u1eb1ng c\u00e1ch k\u1ebft n\u1ed1i v\u1edbi forward proxy b\u00ean ngo\u00e0i t\u01b0\u1eddng l\u1eeda, client c\u00f3 kh\u1ea3 n\u0103ng v\u01b0\u1ee3t qua nh\u1eefng h\u1ea1n ch\u1ebf n\u00e0y. Tuy nhi\u00ean kh\u00f4ng ph\u1ea3i l\u00fac n\u00e0o c\u0169ng v\u01b0\u1ee3t qua \u0111\u01b0\u1ee3c v\u00ec b\u1ea3n th\u00e2n t\u01b0\u1eddng l\u1eeda c\u00f3 th\u1ec3 ch\u1eb7n k\u1ebft n\u1ed1i v\u1edbi proxy.</p> <p>Th\u1ee9 ba, c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng forward proxy \u0111\u1ec3 ch\u1eb7n quy\u1ec1n truy c\u1eadp v\u00e0o m\u1ed9t s\u1ed1 n\u1ed9i dung nh\u1ea5t \u0111\u1ecbnh. \u0110i\u1ec1u n\u00e0y kh\u00f4ng c\u00f3 g\u00ec l\u1ea1 khi c\u00e1c tr\u01b0\u1eddng h\u1ecdc v\u00e0 doanh nghi\u1ec7p s\u1ebd c\u1ea5u h\u00ecnh m\u1ea1ng c\u1ee7a h\u1ecd \u0111\u1ec3 k\u1ebft n\u1ed1i t\u1ea5t c\u1ea3 client v\u1edbi web th\u00f4ng qua m\u1ed9t proxy v\u00e0 \u00e1p d\u1ee5ng c\u00e1c b\u1ed9 l\u1ecdc \u0111\u1ec3 kh\u00f4ng cho ph\u00e9p truy c\u1eadp c\u00e1c trang web nh\u01b0 m\u1ea1ng x\u00e3 h\u1ed9i. C\u1ea7n l\u01b0u \u00fd r\u1eb1ng forward proxy th\u01b0\u1eddng y\u00eau c\u1ea7u client c\u1ea5u h\u00ecnh \u1ee9ng d\u1ee5ng c\u1ee7a client tr\u1ecf \u0111\u1ebfn proxy. </p>"},{"location":"ByteByteGo/proxy_vs_reverse_proxy/proxy_vs_reverse_proxy/#transparent-proxy","title":"Transparent Proxy","text":"<p>\u0110\u1ed1i v\u1edbi c\u00e1c t\u1ed5 ch\u1ee9c l\u1edbn, h\u1ecd th\u01b0\u1eddng s\u1eed d\u1ee5ng m\u1ed9t k\u1ef9 thu\u1eadt g\u1ecdi l\u00e0 transparent proxy (proxy minh b\u1ea1ch) \u0111\u1ec3 h\u1ee3p l\u00fd ho\u00e1 qu\u00e1 tr\u00ecnh.</p> <p>M\u1ed9t transparent proxy ho\u1ea1t \u0111\u1ed9ng v\u1edbi c\u00e1c c\u00f4ng t\u1eafc t\u1ea7ng 4 (OSI) \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng chuy\u1ec3n h\u01b0\u1edbng m\u1ed9t s\u1ed1 lo\u1ea1i l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp nh\u1ea5t \u0111\u1ecbnh \u0111\u1ebfn proxy. Kh\u00f4ng c\u1ea7n ph\u1ea3i c\u1ea5u h\u00ecnh client \u0111\u1ec3 s\u1eed d\u1ee5ng n\u00f3. R\u1ea5t kh\u00f3 \u0111\u1ec3 b\u1ecf qua m\u1ed9t transparent proxy khi client \u0111ang \u1edf tr\u00ean m\u1ea1ng c\u1ee7a t\u1ed5 ch\u1ee9c.</p> <p></p> <p>T\u00f3m l\u1ea1i, forward proxy n\u1eb1m gi\u1eefa client v\u00e0 internet v\u00e0 ho\u1ea1t \u0111\u1ed9ng thay m\u1eb7t cho client.</p>"},{"location":"ByteByteGo/proxy_vs_reverse_proxy/proxy_vs_reverse_proxy/#reverse-proxy","title":"Reverse Proxy","text":"<p>Reverse proxy n\u1eb1m gi\u1eefa internet v\u00e0 c\u00e1c web server. N\u00f3 ch\u1eb7n c\u00e1c request t\u1eeb client v\u00e0 giao ti\u1ebfp v\u1edbi web server thay m\u1eb7t cho client.</p> <p></p> <p>C\u00f3 m\u1ed9t s\u1ed1 l\u00fd do v\u00ec sao m\u1ed9t website s\u1ebd d\u00f9ng reverse proxy.</p> <p>Th\u1ee9 nh\u1ea5t, m\u1ed9t reverse proxy c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 b\u1ea3o v\u1ec7 m\u1ed9t trang web. \u0110\u1ecba ch\u1ec9 IP c\u1ee7a trang web \u0111\u01b0\u1ee3c \u1ea9n \u0111\u1eb1ng sau reverse proxy v\u00e0 kh\u00f4ng \u0111\u01b0\u1ee3c ti\u1ebft l\u1ed9 cho client. \u0110i\u1ec1u n\u00e0y khi\u1ebfn vi\u1ec7c t\u1ed5 ch\u1ee9c m\u1ed9t cu\u1ed9c t\u1ea5n c\u00f4ng t\u1eeb ch\u1ed1i d\u1ecbch v\u1ee5 (DDoS) v\u00e0o m\u1ed9t trang web tr\u1edf n\u00ean kh\u00f3 h\u01a1n nhi\u1ec1u.</p> <p>Th\u1ee9 hai, m\u1ed9t reverse proxy \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 c\u00e2n b\u1eb1ng t\u1ea3i (load balancing). M\u1ed9t trang web n\u1ed5i ti\u1ebfng c\u00f3 th\u1ec3 ph\u1ea3i x\u1eed l\u00fd h\u00e0ng tri\u1ec7u ng\u01b0\u1eddi d\u00f9ng m\u1ed7i ng\u00e0y, n\u00f3 kh\u00f3 c\u00f3 th\u1ec3 x\u1eed l\u00fd l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp l\u1edbn nh\u01b0 v\u1eady v\u1edbi m\u1ed9t server. M\u1ed9t reverse proxy c\u00f3 th\u1ec3 c\u00e2n b\u1eb1ng m\u1ed9t l\u01b0\u1ee3ng l\u1edbn request \u0111\u1ebfn web server b\u1eb1ng c\u00e1ch ph\u00e2n ph\u1ed1i l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp \u0111\u1ebfn m\u1ed9t nh\u00f3m l\u1edbn c\u00e1c web server, v\u00e0 ng\u0103n ch\u1eb7n hi\u1ec7u qu\u1ea3 b\u1ea5t k\u1ef3 m\u1ed9t server n\u00e0o trong s\u1ed1 ch\u00fang b\u1ecb qu\u00e1 t\u1ea3i. L\u01b0u \u00fd r\u1eb1ng ta gi\u1ea3 s\u1eed reverse proxy c\u00f3 th\u1ec3 x\u1eed l\u00fd l\u01b0u l\u01b0\u1ee3ng truy c\u1eadp \u0111\u1ebfn.</p> <p>C\u00e1c d\u1ecbch v\u1ee5 nh\u01b0 Cloudflare \u0111\u1eb7t c\u00e1c reverse proxy server \u1edf h\u00e0ng tr\u0103m \u0111\u1ecba \u0111i\u1ec3m tr\u00ean kh\u1eafp th\u1ebf gi\u1edbi. \u0110i\u1ec1u n\u00e0y \u0111\u1eb7t reverse proxy g\u1ea7n v\u1edbi ng\u01b0\u1eddi d\u00f9ng, v\u00e0 \u0111\u1ed3ng th\u1eddi cung c\u1ea5p dung l\u01b0\u1ee3ng x\u1eed l\u00fd l\u1edbn.</p> <p>Th\u1ee9 ba, m\u1ed9t reverse proxy c\u00f3 th\u1ec3 cache c\u00e1c static content. M\u1ed9t ph\u1ea7n c\u1ee7a content c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c cache v\u00e0o reverse proxy trong m\u1ed9t kho\u1ea3ng th\u1eddi gian. N\u1ebfu c\u00f9ng m\u1ed9t ph\u1ea7n content \u0111\u00f3 d\u01b0\u1ee3c request l\u1ea1i t\u1eeb reverse proxy, th\u00f4ng tin \u0111\u00e3 cache c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 nhanh ch\u00f3ng.</p> <p>Th\u1ee9 t\u01b0, reverse proxy c\u00f3 th\u1ec3 x\u1eed l\u00fd m\u00e3 ho\u00e1 SSL. B\u1eaft tay SSL r\u1ea5t t\u1ed1n k\u00e9m v\u1ec1 m\u1eb7t t\u00ednh to\u00e1n. M\u1ed9t reverse proxy c\u00f3 th\u1ec3 gi\u1ea3i ph\u00f3ng c\u00e1c server kh\u1ecfi c\u00e1c thao t\u00e1c t\u1ed1n k\u00e9m n\u00e0y. THay v\u00ec x\u1eed l\u00fd SSL cho t\u1ea5t c\u1ea3 client, m\u1ed9t trang web ch\u1ec9 c\u1ea7n x\u1eed l\u00fd b\u1eaft tay SSL t\u1eeb m\u1ed9t s\u1ed1 \u00edt reverse proxy.</p>"},{"location":"ByteByteGo/proxy_vs_reverse_proxy/proxy_vs_reverse_proxy/#cac-lop-reverse-proxy","title":"C\u00e1c l\u1edbp reverse proxy","text":"<p>Reverse proxy \u1edf kh\u1eafp m\u1ecdi n\u01a1i. V\u1edbi m\u1ed9t trang web hi\u1ec7n \u0111\u1ea1i, kh\u00f4ng c\u00f3 g\u00ec l\u1ea1 khi c\u00f3 nhi\u1ec1u l\u1edbp reverse proxy. </p> <p>L\u1edbp \u0111\u1ea7u ti\u00ean c\u00f3 th\u1ec3 l\u00e0 m\u1ed9t d\u1ecbch v\u1ee5 bi\u00ean nh\u01b0 Cloudflare. C\u00e1c reverse proxy \u0111\u01b0\u1ee3c tri\u1ec3n khai t\u1edbi h\u00e0ng tr\u0103m \u0111\u1ecba \u0111i\u1ec3m tr\u00ean to\u00e0n th\u1ebf gi\u1edbi \u0111\u1ec3 g\u1ea7n v\u1edbi ng\u01b0\u1eddi d\u00f9ng.</p> <p>L\u1edbp th\u1ee9 hai c\u00f3 th\u1ec3 l\u00e0 API gateway ho\u1eb7c load balance t\u1ea1i nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 host. Nhi\u1ec1u nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 \u0111\u00e1m m\u00e2y k\u1ebft h\u1ee3p 2 l\u1edbp n\u00e0y th\u00e0nh m\u1ed9t d\u1ecbch v\u1ee5 \u0111\u1ea7u v\u00e0o duy nh\u1ea5t.</p> <p>Ng\u01b0\u1eddi d\u00f9ng s\u1ebd v\u00e0o m\u1ea1ng \u0111\u00e1m m\u00e2y \u1edf g\u1ea7n v\u1edbi ng\u01b0\u1eddi d\u00f9ng v\u00e0 t\u1eeb \u0111\u00f3, reverse proxy k\u1ebft n\u1ed1i qua m\u1ea1ng c\u00e1p quang t\u1ed1c \u0111\u1ed9 cao v\u1edbi load balancer, n\u01a1i request \u0111\u01b0\u1ee3c ph\u00e2n ph\u1ed1i \u0111\u1ec1u tr\u00ean m\u1ed9t c\u1ee5m web server.</p> <p></p>"},{"location":"ByteByteGo/rest_api/rest_api/","title":"REST API l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/rest_api/rest_api/#nguon","title":"Ngu\u1ed3n","text":"<p> What Is REST API? Examples And How To Use It</p>"},{"location":"ByteByteGo/rest_api/rest_api/#api-la-gi","title":"API l\u00e0 g\u00ec?","text":"<p>API, hay \u0111\u1ea7y \u0111\u1ee7 h\u01a1n l\u00e0 Application Programming Interface, l\u00e0 m\u1ed9t c\u00e1ch \u0111\u1ec3 hai m\u00e1y t\u00ednh giao ti\u1ebfp v\u1edbi nhau.</p> <p>Chu\u1ea9n API chung \u0111\u01b0\u1ee3c d\u00f9ng b\u1edfi ph\u1ea7n l\u1edbn c\u00e1c \u1ee9ng d\u1ee5ng web v\u00e0 di \u0111\u1ed9ng \u0111\u1ec3 giao ti\u1ebfp v\u1edbi c\u00e1c server \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 REST, hay \u0111\u1ea7y \u0111\u1ee7 h\u01a1n l\u00e0 REpresentational State Transfer.</p> <p>REST nghe c\u00f3 v\u1ebb h\u00e0n l\u00e2m. N\u00f3 kh\u00f4ng ph\u1ea3i l\u00e0 m\u1ed9t d\u1ea1ng \u0111\u1eb7c t\u1ea3 g\u00ec c\u1ea3. N\u00f3 l\u00e0 m\u1ed9t t\u1eadp h\u1ee3p c\u00e1c quy t\u1eafc \u0111\u00e3 tr\u1edf th\u00e0nh chu\u1ea9n chung cho vi\u1ec7c x\u00e2y d\u1ef1ng web API t\u1eeb \u0111\u1ea7u nh\u1eefng n\u0103m 2000. M\u1ed9t API tu\u00e2n th\u1ee7 chu\u1ea9n REST th\u00ec \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 m\u1ed9t RESTful API. M\u1ed9t s\u1ed1 v\u00ed d\u1ee5 c\u00f3 th\u1ec3 k\u1ec3 ra l\u00e0 Twilio, Stripe v\u00e0 Google Maps.</p> <p></p>"},{"location":"ByteByteGo/rest_api/rest_api/#co-ban-ve-rest-api","title":"C\u01a1 b\u1ea3n v\u1ec1 REST API","text":"<p>M\u1ed9t RESTful API t\u1ed5 ch\u1ee9c c\u00e1c t\u00e0i nguy\u00ean theo m\u1ed9t t\u1eadp c\u00e1c URI duy nh\u1ea5t, hay \u0111\u1ea7y \u0111\u1ee7 h\u01a1n l\u00e0 Uniform Resource Identifier. C\u00e1c URI n\u00e0y ph\u00e2n bi\u1ec7t c\u00e1c lo\u1ea1i t\u00e0i nguy\u00ean kh\u00e1c nhau tr\u00ean server. Sau \u0111\u00e2y l\u00e0 v\u00e0i v\u00ed d\u1ee5.</p> <p></p> <p>C\u00e1c t\u00e0i nguy\u00ean n\u00ean \u0111\u01b0\u1ee3c nh\u00f3m theo danh t\u1eeb, kh\u00f4ng n\u00ean l\u00e0 \u0111\u1ed9ng t\u1eeb. M\u1ed9t API d\u00f9ng \u0111\u1ec3 l\u1ea5y t\u1ea5t c\u1ea3 products n\u00ean d\u00f9ng <code>/products</code> ch\u1ee9 kh\u00f4ng n\u00ean d\u00f9ng <code>/getAllProducts</code>. Client t\u01b0\u01a1ng t\u00e1c v\u1edbi t\u00e0i nguy\u00ean b\u1eb1ng c\u00e1ch t\u1ea1o m\u1ed9t request \u0111\u1ebfn endpoint t\u01b0\u01a1ng \u1ee9ng v\u1edbi t\u00e0i nguy\u00ean \u0111\u00f3 th\u00f4ng qua HTTP. Request n\u00e0y c\u00f3 format c\u1ee5 th\u1ec3. N\u00f3 bao g\u1ed3m URI c\u1ee7a t\u00e0i nguy\u00ean ta mu\u1ed1n truy c\u1eadp, tr\u01b0\u1edbc URI l\u00e0 m\u1ed9t HTTP verb, th\u1ee9 s\u1ebd n\u00f3i cho server bi\u1ebft ta mu\u1ed1n l\u00e0m g\u00ec v\u1edbi t\u00e0i nguy\u00ean \u0111\u00f3.</p> <p></p>"},{"location":"ByteByteGo/rest_api/rest_api/#crud-la-gi","title":"CRUD l\u00e0 g\u00ec?","text":"<p>M\u1ed9t POST request cho th\u1ea5y ta mu\u1ed1n t\u1ea1o (CREATE) m\u1ed9t t\u00e0i nguy\u00ean m\u1edbi. M\u1ed9t GET request cho th\u1ea5y ta mu\u1ed1n \u0111\u1ecdc (READ) t\u00e0i nguy\u00ean c\u00f3 s\u1eb5n. M\u1ed9t PUT request cho th\u1ea5y ta mu\u1ed1n c\u1eadp nh\u1eadt (UPDATE) m\u1ed9t t\u00e0i nguy\u00ean hi\u1ec7n c\u00f3. M\u1ed9t DELETE request cho th\u1ea5y ta mu\u1ed1n xo\u00e1 (DELETE) m\u1ed9t t\u00e0i nguy\u00ean hi\u1ec7n c\u00f3. B\u1ea1n c\u00f3 th\u1ec3 \u0111\u00e3 nghe qua t\u1eeb vi\u00eat t\u1eaft CRUD, 4 th\u1ee9 tr\u00ean k\u1ebft h\u1ee3p l\u1ea1i ch\u00ednh l\u00e0 n\u00f3.</p> <p>Body c\u1ee7a request c\u00f3 th\u1ec3 c\u00f3 HTTP request body ch\u1ee9a data, th\u01b0\u1eddng l\u00e0 m\u00e3 ho\u00e1 theo JSON. </p> <p></p> <p>Server nh\u1eadn request, x\u1eed l\u00fd n\u00f3, sau \u0111\u00f3 format k\u1ebft qu\u1ea3 th\u00e0nh m\u1ed9t response. D\u00f2ng \u0111\u1ea7u ti\u00ean c\u1ee7a response ch\u1ee9a HTTP status code \u0111\u1ec3 n\u00f3i cho client bi\u1ebft chuy\u1ec7n g\u00ec \u0111\u00e3 x\u1ea3y ra v\u1edbi request.</p> <p>M\u1ed9t RESTful API \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t t\u1ed1t s\u1ebd tr\u1ea3 v\u1ec1 \u0111\u00fang HTTP status code. Code 2xx ngh\u0129a l\u00e0 request \u0111\u00e3 th\u1ef1c hi\u1ec7n th\u00e0nh c\u00f4ng. Code 4xx ngh\u0129a l\u00e0 \u0111\u00e3 c\u00f3 l\u1ed7i g\u00ec \u0111\u00f3 x\u1ea3y ra v\u1edbi request, v\u00ed d\u1ee5 nh\u01b0 request kh\u00f4ng \u0111\u00fang \u0111\u1ecbnh d\u1ea1ng. Code 5xx ngh\u0129a l\u00e0 c\u00f3 v\u1ea5n \u0111\u1ec1 v\u1edbi server khi th\u1ef1c hi\u1ec7n request, nh\u01b0 vi\u1ec7c server s\u1eadp.</p> <p></p> <p>Client c\u00f3 th\u1ec3 ch\u1ecdn \u0111\u1ec3 th\u1eed l\u1ea1i request 5xx v\u1eeba r\u1ed3i. Ta n\u00f3i \"c\u00f3 th\u1ec3 th\u1eed l\u1ea1i\" v\u00ec m\u1ed9t s\u1ed1 request kh\u00f4ng idempotent, v\u00e0 c\u00e1c request \u0111\u00f3 c\u1ea7n \u0111\u01b0\u1ee3c ch\u00fa \u00fd nhi\u1ec1u h\u01a1n khi th\u1eed l\u1ea1i. M\u1ed9t API g\u1ecdi l\u00e0 idempotent ngh\u0129a l\u00e0 khi g\u1ecdi c\u00f9ng m\u1ed9t request nhi\u1ec1u l\u1ea7n th\u00ec \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn t\u00e0i nguy\u00ean s\u1ebd nh\u01b0 khi ch\u1ec9 g\u1ecdi m\u1ed9t l\u1ea7n. C\u00e1c POST request th\u01b0\u1eddng kh\u00f4ng idempotent v\u00ec ch\u00f9ng th\u01b0\u1eddng \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 t\u1ea1o t\u00e0i nguy\u00ean m\u1edbi.</p> <p>Response body c\u00f3 th\u1ec3 c\u00f3 ho\u1eb7c kh\u00f4ng, v\u00e0 c\u00f3 th\u1ec3 ch\u1ee9a data, th\u01b0\u1eddng \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1 theo JSON.</p> <p></p> <p>C\u00e0i \u0111\u1eb7t REST n\u00ean theo h\u01b0\u1edbng stateless, ngh\u0129a l\u00e0 c\u1ea3 2 ph\u00eda server v\u00e0 client \u0111\u1ec1u kh\u00f4ng l\u01b0u th\u00f4ng tin c\u1ee7a nhau v\u00e0 m\u1ecdi v\u00f2ng request response (chu k\u00ec) \u0111\u1ec1u \u0111\u1ed9c l\u1eadp v\u1edbi nhau. \u0110i\u1ec1u n\u00e0y khi\u1ebfn cho c\u00e1c \u1ee9ng d\u1ee5ng web d\u1ec5 d\u00e0ng scale up h\u01a1n.</p> <p>N\u1ebfu m\u1ed9t endpoint tr\u1ea3 v\u1ec1 l\u01b0\u1ee3ng th\u00f4ng tin l\u1edbn, c\u1ea7n d\u00f9ng pagination (ph\u00e2n trang). Chu\u1ea9n pagination th\u01b0\u1eddng \u0111\u01b0\u1ee3c d\u00f9ng l\u00e0 v\u1edbi c\u00e1c tham s\u1ed1 \"offset\" v\u00e0 \"limit\". V\u00ed d\u1ee5 <code>/products?offset=50&amp;limit=25</code> ngh\u0129a l\u00e0 ta l\u1ea5y 25 product t\u1eeb product th\u1ee9 50 tr\u1edf \u0111i. N\u1ebfu c\u00e1c tham s\u1ed1 tr\u00ean kh\u00f4ng \u0111\u01b0\u1ee3c truy\u1ec1n v\u00e0o, ta c\u1ea7n d\u00f9ng c\u00e1c tham s\u1ed1 m\u1eb7c \u0111\u1ecbnh c\u1ee7a ch\u00fang.</p> <p>Cu\u1ed1i c\u00f9ng, versioning API r\u1ea5t quan tr\u1ecdng. Versioning cho ph\u00e9p k\u0129 s\u01b0 c\u00f3 th\u1ec3 ti\u1ebfp t\u1ee5c cung c\u1ea5p c\u00e1c phi\u00ean b\u1ea3n tr\u01b0\u1edbc c\u1ee7a c\u00e1c API m\u00e0 kh\u00f4ng ph\u1ea3i xo\u00e1 ho\u00e0n to\u00e0n ch\u00fang \u0111i. \u0110i\u1ec1u n\u00e0y gi\u00fap client c\u00f3 \u0111\u1ee7 th\u1eddi gian \u0111\u1ec3 chuy\u1ec3n qua API version m\u1edbi. C\u00f3 nhi\u1ec1u c\u00e1ch versioning, ph\u1ed5 bi\u1ebfn nh\u1ea5t l\u00e0 \u0111\u1eb7t ti\u1ec1n t\u1ed1 <code>/v1/</code>, <code>/v2/</code> tr\u01b0\u1edbc t\u00e0i nguy\u00ean tr\u00ean URI, v\u00ed d\u1ee5 <code>/v1/products</code>, <code>/v2/products</code>.</p>"},{"location":"ByteByteGo/scan_to_pay/scan_to_pay/","title":"Scan to Pay l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/scan_to_pay/scan_to_pay/#nguon","title":"Ngu\u1ed3n","text":"<p> Scan to Pay in 2 Minutes</p>"},{"location":"ByteByteGo/scan_to_pay/scan_to_pay/#scan-to-pay-hoat-ong-nhu-the-nao","title":"Scan to Pay ho\u1ea1t \u0111\u1ed9ng nh\u01b0 th\u1ebf n\u00e0o?","text":"<p>Scan to Pay l\u00e0 m\u1ed9t ph\u01b0\u01a1ng th\u1ee9c thanh to\u00e1n ph\u1ed5 bi\u1ebfn trong nh\u1eefng \u1ee9ng d\u1ee5ng v\u00ed \u0111i\u1ec7n t\u1eed nh\u01b0 Paytm, PayPal v\u00e0 Venmo. C\u00e1c \u1ee9ng d\u1ee5ng n\u00e0y thanh to\u00e1n b\u1eb1ng c\u00e1ch qu\u00e9t m\u00e3 QR t\u1ea1i \u0111i\u1ec3m b\u00e1n h\u00e0ng.</p> <p>\u0110\u1ec3 hi\u1ec3u \u0111\u01b0\u1ee3c c\u00e1ch th\u1ee9c Scan to Pay ho\u1ea1t \u0111\u1ed9ng, ta s\u1ebd chia n\u00f3 th\u00e0nh hai ph\u1ea7n:</p> <ol> <li>Sinh ra m\u00e3 QR cho c\u00e1c \u0111i\u1ec3m b\u00e1n h\u00e0ng v\u00e0 hi\u1ec3n th\u1ecb tr\u00ean m\u00e0n h\u00ecnh.</li> <li>Qu\u00e9t m\u00e3 QR \u0111\u00f3 v\u00e0 thanh to\u00e1n v\u1edbi \u1ee9ng d\u1ee5ng v\u00ed \u0111i\u1ec7n t\u1eed.</li> </ol>"},{"location":"ByteByteGo/scan_to_pay/scan_to_pay/#sinh-ma-qr","title":"Sinh m\u00e3 QR","text":"<p>Khi kh\u00e1ch h\u00e0ng mu\u1ed1n thanh to\u00e1n, thu ng\u00e2n nh\u1ea5n n\u00fat Checkout (1). M\u00e1y c\u1ee7a thu ng\u00e2n s\u1ebd g\u1eedi t\u1ed5ng ti\u1ec1n v\u00e0 m\u00e3 ho\u00e1 \u0111\u01a1n \u0111\u1ebfn nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 thanh to\u00e1n (Payment Service Provider - PSP) (2). PSP l\u01b0u th\u00f4ng tin n\u00e0y v\u00e0o database v\u00e0 sinh ra m\u1ed9t URL tr\u1ecf \u0111\u1ebfn m\u1ed9t m\u00e3 QR (3). PSP tr\u1ea3 URL ch\u1ee9a m\u00e3 QR \u0111\u1ebfn m\u00e1y t\u00ednh c\u1ee7a thu ng\u00e2n (4) (5). M\u00e1y c\u1ee7a thu ng\u00e2n g\u1eedi m\u00e3 QR d\u1ebfn thi\u1ebft b\u1ecb thanh to\u00e1n \u0111\u1ea7u cu\u1ed1i (6). Thi\u1ebft b\u1ecb n\u00e0y s\u1ebd hi\u1ec3n th\u1ecb m\u00e3 QR (7). T\u1ea5t c\u1ea3 c\u00e1c b\u01b0\u1edbc n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c ho\u00e0n t\u1ea5t trong kho\u1ea3ng m\u1ed9t gi\u00e2y. </p>"},{"location":"ByteByteGo/scan_to_pay/scan_to_pay/#thanh-toan-bang-ung-dung","title":"Thanh to\u00e1n b\u1eb1ng \u1ee9ng d\u1ee5ng","text":"<p>Gi\u1edd kh\u00e1ch h\u00e0ng s\u1ebd tr\u1ea3 b\u1eb1ng \u1ee9ng d\u1ee5ng v\u00ed \u0111i\u1ec7n t\u1eed b\u1eb1ng c\u00e1ch qu\u00e9t m\u00e3 QR n\u00e0y (8). T\u1ed5ng ti\u1ec1n c\u1ea7n tr\u1ea3 s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb tr\u00ean \u1ee9ng d\u1ee5ng. Sau khi x\u00e1c nh\u1eadn t\u1ed5ng ti\u1ec1n c\u1ea7n thanh to\u00e1n, kh\u00e1ch b\u1ea5m n\u00fat Thanh to\u00e1n (9). \u1ee8ng d\u1ee5ng v\u00ed \u0111i\u1ec7n t\u1eed b\u00e1o cho PSP r\u1eb1ng QR code \u0111\u00e3 \u0111\u01b0\u1ee3c thanh to\u00e1n (10). PSP \u0111\u00e1nh d\u1ea5u r\u1eb1ng QR code \u0111\u00e3 \u0111\u01b0\u1ee3c thanh to\u00e1n v\u00e0 tr\u1ea3 v\u1ec1 th\u00e0nh c\u00f4ng cho \u1ee9ng d\u1ee5ng v\u00ed \u0111i\u1ec7n t\u1eed (11). PSP sau \u0111\u00f3 b\u00e1o cho ng\u01b0\u1eddi b\u00e1n r\u1eb1ng kh\u00e1ch \u0111\u00e3 tr\u1ea3 v\u1edbi m\u00e3 QR kia (12).</p> <p></p> <p>\u0110\u00e2y l\u00e0 c\u00e1ch thanh to\u00e1n d\u00f9ng m\u00e3 QR \u0111\u1ed9ng. N\u00f3 \"\u0111\u1ed9ng\" v\u00ec QR \u0111\u01b0\u1ee3c sinh ra ch\u1ec9 cho m\u1ed9t l\u1ea7n s\u1eed d\u1ee5ng. Ta c\u0169ng c\u00f3 th\u1ec3 thanh to\u00e1n b\u1eb1ng c\u00e1ch qu\u00e9t m\u00e3 QR \u0111\u01b0\u1ee3c in \u1edf \u0111i\u1ec3m b\u00e1n h\u00e0ng. \u0110\u00e2y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 m\u00e3 QR t\u0129nh. N\u00f3 ho\u1ea1t \u0111\u1ed9ng h\u01a1i kh\u00e1c m\u1ed9t ch\u00fat v\u00e0 s\u1ebd \u0111\u01b0\u1ee3c \u0111\u1ec1 c\u1eadp trong m\u1ed9t b\u00e0i vi\u1ebft kh\u00e1c.</p>"},{"location":"ByteByteGo/ssl_tls_https/ssl_tls_https/","title":"SSL, TLS v\u00e0 HTTPS","text":""},{"location":"ByteByteGo/ssl_tls_https/ssl_tls_https/#nguon","title":"Ngu\u1ed3n","text":"<p> SSL, TLS, HTTPS Explained</p>"},{"location":"ByteByteGo/ssl_tls_https/ssl_tls_https/#https","title":"HTTPS","text":"<p>V\u1edbi giao th\u1ee9c HTTP th\u00f4ng th\u01b0\u1eddng, giao ti\u1ebfp gi\u1eefa tr\u00ecnh duy\u1ec7t v\u00e0 m\u00e1y ch\u1ee7 s\u1ebd \u1edf d\u01b0\u1edbi d\u1ea1ng plain text (ngh\u0129a l\u00e0 v\u0103n b\u1ea3n m\u00e0 con ng\u01b0\u1eddi c\u00f3 th\u1ec3 \u0111\u1ecdc \u0111\u01b0\u1ee3c). \u0110i\u1ec1u n\u00e0y \u0111\u1ed3ng ngh\u0129a v\u1edbi vi\u1ec7c m\u1eadt kh\u1ea9u hay s\u1ed1 th\u1ebb ng\u00e2n h\u00e0ng c\u1ee7a ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c \u0111\u1ecdc b\u1edfi b\u1ea5t c\u1ee9 ai c\u00f3 th\u1ec3 chen v\u00e0o giao ti\u1ebfp n\u00e0y.</p> <p>HTTPS \u0111\u01b0\u1ee3c t\u1ea1o ra \u0111\u1ec3 gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 n\u00e0y. N\u00f3 gi\u00fap th\u00f4ng tin truy\u1ec1n \u0111i tr\u00ean internet s\u1ebd kh\u00f4ng b\u1ecb hi\u1ec3u \u0111\u01b0\u1ee3c tr\u1eeb ng\u01b0\u1eddi g\u1eedi v\u00e0 ng\u01b0\u1eddi nh\u1eadn.</p> <p>HTTPS l\u00e0 b\u1ea3n m\u1edf r\u1ed9ng c\u1ee7a giao th\u1ee9c HTTP. V\u1edbi HTTPS, th\u00f4ng tin \u0111\u01b0\u1ee3c truy\u1ec1n \u0111i d\u01b0\u1edbi d\u1ea1ng m\u00e3 ho\u00e1 v\u1edbi m\u1ed9t th\u1ee9 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 TLS (Transport Layer Security). N\u1ebfu th\u00f4ng tin m\u00e3 ho\u00e1 n\u00e0y l\u1ecdt v\u00e0o tay hacker, h\u1eafn c\u0169ng kh\u00f4ng th\u1ec3 \u0111\u1ecdc \u0111\u01b0\u1ee3c n\u1ed9i dung th\u1ef1c s\u1ef1 trong \u0111\u00f3.</p> <p></p>"},{"location":"ByteByteGo/ssl_tls_https/ssl_tls_https/#ssltls","title":"SSL/TLS","text":"<p>B\u1eaft tay TLS bao g\u1ed3m m\u1ed9t s\u1ed1 b\u01b0\u1edbc nh\u01b0 sau:</p> <p>\u0110\u1ea7u ti\u00ean, gi\u1ed1ng nh\u01b0 HTTP, tr\u00ecnh duy\u1ec7t s\u1ebd ti\u1ebfn h\u00e0nh thi\u1ebft l\u1eadp m\u1ed9t k\u1ebft n\u1ed1i TCP v\u1edbi server th\u00f4ng qua b\u1eaft tay 3 b\u01b0\u1edbc TCP.</p> <p>B\u1eaft tay TLS b\u1eaft \u0111\u1ea7u \u1edf b\u01b0\u1edbc 2, n\u00f3 s\u1ebd b\u1eaft \u0111\u1ea7u v\u1edbi vi\u1ec7c client g\u1eedi m\u1ed9t tin nh\u1eafn hello l\u00ean server. Trong tin nh\u1eafn hello n\u00e0y, tr\u00ecnh duy\u1ec7t s\u1ebd cho server bi\u1ebft m\u1ed9t s\u1ed1 th\u1ee9 nh\u01b0 sau:</p> <ol> <li>Tr\u00ecnh duy\u1ec7t h\u1ed7 tr\u1ee3 phi\u00ean b\u1ea3n TLS n\u00e0o, c\u00f3 th\u1ec3 l\u00e0 TLS 1.2 hay 1.3 g\u00ec \u0111\u00f3.</li> <li>Tr\u00ecnh duy\u1ec7t h\u1ed7 tr\u1ee3 cyber suite n\u00e0o. Cyber suite l\u00e0 m\u1ed9t t\u1eadp c\u00e1c thu\u1eadt to\u00e1n m\u00e3 ho\u00e1 m\u00e0 tr\u00ecnh duy\u1ec7t c\u00f3 th\u1ec3 d\u00f9ng \u0111\u1ec3 m\u00e3 ho\u00e1 th\u00f4ng tin.</li> </ol> <p>Sau khi nh\u1eadn tin hello, server c\u00f3 th\u1ec3 ch\u1ecdn cyber suite v\u00e0 phi\u00ean b\u1ea3n TLS \u0111\u1ec3 d\u00f9ng d\u1ef1a v\u00e0o th\u00f4ng tin trong tin nh\u1eafn hello, sau \u0111\u00f3 n\u00f3 s\u1ebd g\u1eedi l\u1ea1i m\u1ed9t tin hello tr\u1ea3 v\u1ec1 cho client \u0111\u1ec3 n\u00f3i cho client bi\u1ebft l\u00e0 server s\u1ebd d\u00f9ng c\u00e1c c\u00f4ng c\u1ee5 g\u00ec trong vi\u1ec7c giao ti\u1ebfp v\u1edbi client. Ti\u1ebfp \u0111\u00f3 server g\u1eedi m\u1ed9t certificate cho client. Certificate ch\u1ee9a kh\u00e1 nhi\u1ec1u th\u1ee9 nh\u01b0ng trong \u0111\u00f3 public key r\u1ea5t quan tr\u1ecdng. Client d\u00f9ng public key n\u00e0y \u0111\u1ec3 m\u00e3 ho\u00e1 th\u00f4ng tin c\u1ea7n g\u1eedi l\u00ean server, server s\u1ebd gi\u1ea3i m\u00e3 b\u1eb1ng private key \u1edf s\u1eb5n tr\u00ean server, v\u00e0 ch\u1ec9 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c gi\u1ea3i m\u00e3 b\u1edfi private key m\u00e0 th\u00f4i. \u0110\u00e2y l\u00e0 m\u00e3 ho\u00e1 b\u1ea5t \u0111\u1ed1i x\u1ee9ng, public key v\u00e0 private key l\u00e0 m\u1ed9t c\u1eb7p \u0111i \u0111\u00f4i v\u1edbi nhau. B\u01b0\u1edbc cu\u1ed1i c\u1ee7a b\u01b0\u1edbc 2 l\u00e0 khi server g\u1eedi m\u1ed9t request hello done v\u1ec1 ph\u00eda client. \u0110\u1ebfn \u0111\u00e2y th\u00ec client \u0111\u00e3 nh\u1eadn \u0111\u01b0\u1ee3c server certificate v\u00e0 c\u1ea3 hai \u0111\u1ed3ng \u00fd v\u1ec1 phi\u00ean b\u1ea3n TLS, c\u0169ng nh\u01b0 cyber suite s\u1ebd d\u00f9ng \u0111\u1ec3 giao ti\u1ebfp v\u1edbi nhau.</p> <p>\u1ede b\u01b0\u1edbc 3, client v\u00e0 server s\u1ebd t\u1ea1o ra m\u1ed9t key m\u00e3 ho\u00e1 d\u00f9ng chung v\u1edbi nhau \u0111\u1ec3 m\u00e3 ho\u00e1 th\u00f4ng tin. To\u00e0n b\u1ed9 request trong b\u01b0\u1edbc n\u00e0y g\u1eedi t\u1eeb client l\u00ean server s\u1ebd \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1 b\u1edfi public key m\u00e0 client \u0111\u00e3 nh\u1eadn trong b\u01b0\u1edbc tr\u01b0\u1edbc \u0111\u00f3. Client s\u1ebd t\u1ea1o ra m\u1ed9t key m\u00e3 ho\u00e1 kh\u00e1c \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 session key, sau \u0111\u00f3 d\u00f9ng public key \u0111\u1ec3 m\u00e3 ho\u00e1 key n\u00e0y, r\u1ed3i g\u1eedi key \u0111\u00e3 m\u00e3 ho\u00e1 n\u00e0y l\u00ean cho server, server gi\u1ea3i m\u00e3 c\u00e1i key \u0111\u00e3 \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1 n\u00e0y (b\u1eb1ng private key) \u0111\u1ec3 l\u1ea5y session key g\u1ed1c.</p> <p>Gi\u1edd c\u1ea3 hai \u0111\u1ec1u \u0111\u00e3 c\u00f3 session key, client v\u00e0 server \u0111\u00e3 c\u00f3 th\u1ec3 trao \u0111\u1ed5i th\u00f4ng tin (c\u00f3 m\u00e3 ho\u00e1) trong b\u01b0\u1edbc 4. \u1ede \u0111\u00e2y ta d\u00f9ng m\u00e3 ho\u00e1 \u0111\u1ed1i x\u1ee9ng, d\u00f9ng session key. L\u00fd do v\u00ec sao hai b\u00ean c\u00f3 th\u1ec3 m\u00e3 ho\u00e1 v\u00e0 gi\u1ea3i m\u00e3 th\u00ec d\u1ef1a v\u00e0o cyber suite m\u00e0 ch\u00fang \u0111\u00e3 trao \u0111\u1ed5i tr\u01b0\u1edbc \u0111\u00f3.</p> <p></p> <p>\u0110\u1ebfn \u0111\u00e2y b\u1ea1n c\u00f3 th\u1ec3 c\u00f3 m\u1ed9t c\u00e2u h\u1ecfi, r\u1eb1ng sao kh\u00f4ng d\u00f9ng m\u00e3 ho\u00e1 b\u1ea5t \u0111\u1ed1i x\u1ee9ng lu\u00f4n \u0111i, l\u1ea1i c\u00f2n \u0111\u1ed5i qua \u0111\u1ed1i x\u1ee9ng l\u00e0m g\u00ec? L\u00fd do l\u00e0 b\u1edfi m\u00e3 ho\u00e1 b\u1ea5t \u0111\u1ed1i x\u1ee9ng t\u1ed1n nhi\u1ec1u t\u00e0i nguy\u00ean (th\u1eddi gian, b\u1ed9 nh\u1edb,...). N\u00f3 kh\u00f4ng th\u1ef1c s\u1ef1 ph\u00f9 h\u1ee3p v\u1edbi vi\u1ec7c truy\u1ec1n t\u1ea3i th\u00f4ng tin l\u1edbn.</p>"},{"location":"ByteByteGo/ssl_tls_https/ssl_tls_https/#mo-rong","title":"M\u1edf r\u1ed9ng","text":"<p>C\u00f3 hai v\u1ea5n \u0111\u1ec1 c\u1ea7n b\u00e0n \u1edf \u0111\u00e2y.</p> <p>Th\u1ee9 nh\u1ea5t, TLS b\u1ea3n m\u1edbi nh\u1ea5t l\u00e0 1.3 v\u00e0 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi t\u1ea5t c\u1ea3 c\u00e1c tr\u00ecnh duy\u1ec7t t\u00ean tu\u1ed5i, sao l\u1ea1i n\u00f3i v\u1ec1 TLS 1.2? (\u1ede tr\u00ean l\u00e0 ti\u1ebfn tr\u00ecnh c\u1ee7a TLS 1.2). Ta c\u00f3 th\u1ec3 th\u1ea5y r\u1eb1ng TLS 1.2 c\u1ea7n 2 network round-trip trong khi TLS 1.3 ch\u1ec9 c\u1ea7n 1 round-trip. N\u00f3i v\u1ec1 TLS 1.2 s\u1ebd d\u1ec5 hi\u1ec3u h\u01a1n l\u00e0 n\u00f3i v\u1ec1 TLS 1.3 v\u00ec 1.3 l\u00e0 phi\u00ean b\u1ea3n 1.2 \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u. Concept c\u1ee7a TLS 1.2 v\u1eabn l\u00e0 concept ch\u00ednh c\u1ee7a TLS 1.3.</p> <p>Th\u1ee9 hai, \u1edf v\u00ed d\u1ee5 tr\u00ean, ta d\u00f9ng RSA \u0111\u1ec3 m\u00f4 ph\u1ecfng m\u00e3 ho\u00e1 b\u1ea5t \u0111\u1ed1i x\u1ee9ng \u0111\u1ec3 truy\u1ec1n session key l\u00ean server. RSA \u0111\u01b0\u1ee3c ch\u1ecdn v\u00ec n\u00f3 d\u1ec5 hi\u1ec3u h\u01a1n \u0111a s\u1ed1 c\u00e1c thu\u1eadt to\u00e1n m\u00e3 ho\u00e1 b\u1ea5t \u0111\u1ed1i x\u1ee9ng kh\u00e1c. Tuy v\u1eady m\u00e3 ho\u00e1 b\u1ea5t \u0111\u1ed1i x\u1ee9ng kh\u00f4ng ph\u1ea3i c\u00e1ch duy nh\u1ea5t \u0111\u1ec3 truy\u1ec1n session key gi\u1eefa client v\u00e0 server. Trong TLS 1.3, RSA kh\u00f4ng c\u00f2n \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Diffie-Hellman l\u00e0 l\u1ef1a ch\u1ecdn th\u00f4ng d\u1ee5ng h\u01a1n. Diffie\u2013Hellman ph\u1ee9c t\u1ea1p h\u01a1n nh\u01b0ng \u0111\u1ea1i kh\u00e1i th\u00ec n\u00f3 \u00e1p d\u1ee5ng to\u00e1n h\u1ecdc n\u00e2ng cao v\u1edbi c\u00e1c s\u1ed1 nguy\u00ean t\u1ed1 l\u1edbn \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c session key m\u00e0 kh\u00f4ng c\u1ea7n g\u1eedi public key qua internet.</p>"},{"location":"ByteByteGo/sso/sso/","title":"Single Sign-on (SSO) l\u00e0 g\u00ec?","text":""},{"location":"ByteByteGo/sso/sso/#nguon","title":"Ngu\u1ed3n","text":"<p> What Is Single Sign-on (SSO)? How It Works</p>"},{"location":"ByteByteGo/sso/sso/#ang-nhap-mot-lan-single-sign-on-sso-la-gi","title":"\u0110\u0103ng nh\u1eadp m\u1ed9t l\u1ea7n (Single Sign-on - SSO) l\u00e0 g\u00ec?","text":"<p>SSO (hay Single Sign-on, \u0110\u0103ng nh\u1eadp m\u1ed9t l\u1ea7n) l\u00e0 m\u1ed9t s\u01a1 \u0111\u1ed3 x\u00e1c th\u1ef1c. N\u00f3 cho ph\u00e9p ng\u01b0\u1eddi d\u00f9ng truy c\u1eadp an to\u00e0n v\u00e0o nhi\u1ec1u \u1ee9ng d\u1ee5ng v\u00e0 d\u1ecbch v\u1ee5 v\u1edbi m\u1ed9t ID duy nh\u1ea5t. </p> <p></p> <p>Khi SSO \u0111\u01b0\u1ee3c t\u00edch h\u1ee3p v\u00e0o c\u00e1c \u1ee9ng d\u1ee5ng nh\u01b0 Gmail, Workday hay Slack, n\u00f3 cung c\u1ea5p m\u1ed9t c\u1eeda s\u1ed5 hay trang \u0111\u0103ng nh\u1eadp cho c\u00f9ng m\u1ed9t b\u1ed9 th\u00f4ng tin x\u00e1c th\u1ef1c. V\u1edbi SSO, ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 truy c\u1eadp nhi\u1ec1u \u1ee9ng d\u1ee5ng m\u00e0 kh\u00f4ng ph\u1ea3i \u0111\u0103ng nh\u1eadp m\u1ed7i l\u1ea7n.</p> <p></p> <p>SSO \u0111\u01b0\u1ee3c x\u00e2y d\u1ef1ng tr\u00ean m\u1ed9t kh\u00e1i ni\u1ec7m g\u1ecdi l\u00e0 danh t\u00ednh li\u00ean k\u1ebft (federated identity). N\u00f3 cho ph\u00e9p chia s\u1ebb th\u00f4ng tin nh\u1eadn d\u1ea1ng tr\u00ean c\u00e1c h\u1ec7 th\u1ed1ng \u0111\u00e1ng tin c\u1eady nh\u01b0ng \u0111\u1ed9c l\u1eadp. </p> <p></p> <p>C\u00f3 hai giao th\u1ee9c ph\u1ed5 bi\u1ebfn cho qu\u00e1 tr\u00ecnh x\u00e1c th\u1ef1c n\u00e0y.</p> <p>SAML, hay ng\u00f4n ng\u1eef \u0111\u00e1nh d\u1ea5u x\u00e1c nh\u1eadn b\u1ea3o m\u1eadt (Security assertion markup language), l\u00e0 m\u1ed9t ti\u00eau chu\u1ea9n m\u1edf d\u1ef1a tr\u00ean XML \u0111\u1ec3 trao \u0111\u1ed5i th\u00f4ng tin nh\u00e2n d\u1ea1ng gi\u1eefa c\u00e1c d\u1ecbch v\u1ee5. Ta th\u01b0\u1eddng th\u1ea5y n\u00f3 trong m\u00f4i tr\u01b0\u1eddng l\u00e0m vi\u1ec7c, c\u00f4ng s\u1edf. </p> <p>M\u1ed9t giao th\u1ee9c kh\u00e1c l\u00e0 OpenID Connect. C\u00f3 l\u1ebd ai c\u0169ng bi\u1ebft c\u00e1i n\u00e0y r\u1ed3i. Khi ta d\u00f9ng t\u00e0i kho\u1ea3n Google c\u00e1 nh\u00e2n \u0111\u1ec3 \u0111\u0103ng nh\u1eadp v\u00e0o c\u00e1c \u1ee9ng d\u1ee5ng nh\u01b0 YouTuble, ta \u0111ang d\u00f9ng OpenID Connect. N\u00f3 d\u00f9ng JWT (JSON Web Token) \u0111\u1ec3 chia s\u1ebb th\u00f4ng tin nh\u00e2n d\u1ea1ng gi\u1eefa c\u00e1c d\u1ecbch v\u1ee5.</p>"},{"location":"ByteByteGo/sso/sso/#quy-trinh-sso","title":"Quy tr\u00ecnh SSO","text":"<p>Ta s\u1ebd t\u1eadp trung v\u00e0o SAML.</p> <p>(1) M\u1ed9t nh\u00e2n vi\u00ean v\u0103n ph\u00f2ng truy c\u1eadp m\u1ed9t \u1ee9ng d\u1ee5ng nh\u01b0 Gmail. Theo SAML, Gmail trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y l\u00e0 m\u1ed9t nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 (Service Provider). </p> <p>(2) M\u00e1y ch\u1ee7 Gmail ph\u00e1t hi\u1ec7n ra ng\u01b0\u1eddi d\u00f9ng n\u00e0y \u0111\u1ebfn t\u1eeb m\u1ed9t work domain (ngh\u0129a l\u00e0 kh\u00f4ng ph\u1ea3i t\u1eeb <code>@gmail.com</code>, c\u00f3 th\u1ec3 \u0111\u1ebfn t\u1eeb <code>@sea.com</code> ch\u1eb3ng h\u1ea1n), v\u00e0 tr\u1ea3 v\u1ec1 m\u1ed9t y\u00eau c\u1ea7u x\u00e1c th\u1ef1c SAML (SAML Authentication Request - SAR) v\u1ec1 cho tr\u00ecnh duy\u1ec7t. </p> <p>(3) Tr\u00ecnh duy\u1ec7t chuy\u1ec3n h\u01b0\u1edbng ng\u01b0\u1eddi d\u00f9ng \u0111\u1ebfn nh\u00e0 cung c\u1ea5p danh t\u00ednh (Identity Provider) cho c\u00f4ng ty \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh trong y\u00eau c\u1ea7u x\u00e1c th\u1ef1c SAML. Okta, Auth0 v\u00e0 OneLogin l\u00e0 m\u1ed9t s\u1ed1 v\u00ed d\u1ee5 v\u1ec1 nh\u00e0 cung c\u1ea5p danh t\u00ednh th\u01b0\u01a1ng m\u1ea1i. </p> <p>(4) + (5) Nh\u00e0 cung c\u1ea5p danh t\u00ednh hi\u1ec3n th\u1ecb trang \u0111\u0103ng nh\u1eadp \u0111\u1ec3 ng\u01b0\u1eddi d\u00f9ng \u0111\u0103ng nh\u1eadp v\u00e0o. </p> <p>(6) Sau khi \u0111\u01b0\u1ee3c x\u00e1c th\u1ef1c, nh\u00e0 cung c\u1ea5p danh t\u00ednh t\u1ea1o SAML response v\u00e0 tr\u1ea3 v\u1ec1 cho tr\u00ecnh duy\u1ec7t. \u0110\u00e2y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 x\u00e1c nh\u1eadn SAML (SAML Assertion). X\u00e1c nh\u1eadn SAML l\u00e0 m\u1ed9t t\u00e0i li\u1ec7u XML \u0111\u01b0\u1ee3c k\u00fd b\u1eb1ng kho\u00e1 c\u00f3 ch\u1ee9a th\u00f4ng tin v\u1ec1 ng\u01b0\u1eddi d\u00f9ng v\u00e0 nh\u1eefng g\u00ec ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 truy c\u1eadp v\u1edbi nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5.</p> <p>(7) Tr\u00ecnh duy\u1ec7t chuy\u1ec3n ti\u1ebfp x\u00e1c nh\u1eadn SAML \u0111\u00e3 k\u00fd t\u1edbi nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5.</p> <p>(8) Nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 x\u00e1c th\u1ef1c r\u1eb1ng x\u00e1c nh\u1eadn SAML \u0111\u00e3 \u0111\u01b0\u1ee3c k\u00fd b\u1edfi b\u00ean cung c\u1ea5p danh t\u00ednh. Qu\u00e1 tr\u00ecnh x\u00e1c th\u1ef1c n\u00e0y th\u01b0\u1eddng \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi m\u00e3 ho\u00e1 kho\u00e1 c\u00f4ng khai. </p> <p>(9) Nh\u00e0 cung c\u1ea5p d\u1ecbch v\u1ee5 tr\u1ea3 l\u1ea1i t\u00e0i nguy\u00ean \u0111\u01b0\u1ee3c b\u1ea3o v\u1ec7 cho tr\u00ecnh duy\u1ec7t d\u1ef1a tr\u00ean nh\u1eefng g\u00ec ng\u01b0\u1eddi d\u00f9ng \u0111\u01b0\u1ee3c ph\u00e9p truy c\u1eadp nh\u01b0 \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh trong x\u00e1c nh\u1eadn SAML. </p> <p>V\u1eady l\u00e0 xong quy tr\u00ecnh \u0111\u0103ng nh\u1eadp SSO c\u01a1 b\u1ea3n.</p> <p></p> <p>Gi\u1edd ta c\u00f9ng xem \u0111i\u1ec1u g\u00ec s\u1ebd x\u1ea3y ra khi ng\u01b0\u1eddi d\u00f9ng \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u1ebfn m\u1ed9t \u1ee9ng d\u1ee5ng t\u00edch h\u1ee3p SSO kh\u00e1c, nh\u01b0 Workday. </p> <p>(1) Ng\u01b0\u1eddi d\u00f9ng truy c\u1eadp Workday.</p> <p>(2) M\u00e1y ch\u1ee7 Workday, nh\u01b0 trong v\u00ed d\u1ee5 v\u1edbi Gmail, ph\u00e1t hi\u1ec7n work domain v\u00e0 g\u1eedi y\u00eau c\u1ea7u x\u00e1c th\u1ef1c SAML v\u1ec1 tr\u00ecnh duy\u1ec7t. </p> <p>(3) Tr\u00ecnh duy\u1ec7t l\u1ea1i chuy\u1ec3n h\u01b0\u1edbng ng\u01b0\u1eddi d\u00f9ng \u0111\u1ebfn Nh\u00e0 cung c\u1ea5p danh t\u00ednh. </p> <p>(4) V\u00ec ng\u01b0\u1eddi d\u00f9ng \u0111\u00e3 \u0111\u0103ng nh\u1eadp b\u1eb1ng\u00a0Nh\u00e0 cung c\u1ea5p danh t\u00ednh n\u00ean ng\u01b0\u1eddi d\u00f9ng s\u1ebd b\u1ecf qua quy tr\u00ecnh \u0111\u0103ng nh\u1eadp v\u00e0 thay v\u00e0o \u0111\u00f3, n\u00f3 s\u1ebd t\u1ea1o m\u1ed9t x\u00e1c nh\u1eadn SAML cho Workday, n\u00eau chi ti\u1ebft nh\u1eefng g\u00ec ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 truy c\u1eadp \u1edf \u0111\u00f3. </p> <p>(5) + (6) X\u00e1c nh\u1eadn SAML \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1\u00a0tr\u00ecnh duy\u1ec7t v\u00e0 chuy\u1ec3n ti\u1ebfp \u0111\u1ebfn Workday. </p> <p>(7) + (8) Workday x\u00e1c th\u1ef1c x\u00e1c nh\u1eadn \u0111\u00e3 k\u00fd\u00a0v\u00e0 c\u1ea5p cho ng\u01b0\u1eddi d\u00f9ng quy\u1ec1n truy c\u1eadp t\u01b0\u01a1ng \u1ee9ng.</p> <p></p> <p>Tr\u01b0\u1edbc \u0111\u00f3 ta c\u0169ng \u0111\u00e3 \u0111\u1ec1 c\u1eadp \u0111\u1ebfn OpenID Connect. Quy tr\u00ecnh c\u1ee7a OpenID Connect t\u01b0\u01a1ng t\u1ef1 nh\u01b0 SAML, nh\u01b0ng thay v\u00ec chuy\u1ec3n t\u00e0i li\u1ec7u XML \u0111\u00e3 k\u00fd, OpenID Connect chuy\u1ec3n v\u1edbi JWT. JWT l\u00e0 m\u1ed9t t\u00e0i li\u1ec7u JSON \u0111\u00e3 k\u00fd.</p> <p></p> <p>Chi ti\u1ebft tri\u1ec3n khai h\u01a1i kh\u00e1c m\u1ed9t ch\u00fat, nh\u01b0ng kh\u00e1i ni\u1ec7m t\u1ed5ng th\u1ec3 th\u00ec t\u01b0\u01a1ng t\u1ef1 nhau. </p>"},{"location":"ByteByteGo/sso/sso/#vay-chung-ta-nen-su-dung-phuong-phap-sso-nao","title":"V\u1eady ch\u00fang ta n\u00ean s\u1eed d\u1ee5ng ph\u01b0\u01a1ng ph\u00e1p SSO n\u00e0o?","text":"<p>C\u1ea3 hai c\u00e1ch tri\u1ec3n khai \u0111\u1ec1u an to\u00e0n. \u0110\u1ed1i v\u1edbi m\u00f4i tr\u01b0\u1eddng doanh nghi\u1ec7p, n\u01a1i th\u01b0\u1eddng chuy\u1ec3n vi\u1ec7c qu\u1ea3n l\u00fd danh t\u00ednh cho m\u1ed9t n\u1ec1n t\u1ea3ng danh t\u00ednh th\u01b0\u01a1ng m\u1ea1i (nh\u01b0 Microsoft, Okta, Thales, JumpCloud, Duo, PingIdentity, RSA, OneLogin, SecureAuth), th\u00ec c\u00e1c n\u1ec1n t\u1ea3ng n\u00e0y h\u1ed7 tr\u1ee3 m\u1ea1nh m\u1ebd cho c\u1ea3 hai. </p> <p>Quy\u1ebft \u0111\u1ecbnh sau \u0111\u00f3 s\u1ebd ph\u1ee5 thu\u1ed9c v\u00e0o \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c\u00a0t\u00edch h\u1ee3p v\u00e0 giao th\u1ee9c n\u00e0o\u00a0d\u1ec5 t\u00edch h\u1ee3p h\u01a1n. N\u1ebfu vi\u1ebft m\u1ed9t \u1ee9ng d\u1ee5ng web m\u1edbi, vi\u1ec7c t\u00edch h\u1ee3p v\u1edbi m\u1ed9t s\u1ed1 n\u1ec1n t\u1ea3ng\u00a0OpenID Connect ph\u1ed5 bi\u1ebfn h\u01a1n nh\u01b0 Google,\u00a0Facebook v\u00e0 Github c\u00f3 l\u1ebd l\u00e0 m\u1ed9t l\u1ef1a ch\u1ecdn an to\u00e0n.</p>"},{"location":"ByteByteGo/stackoverflow_architecture/stackoverflow_architecture/","title":"H\u1ec7 th\u1ed1ng c\u1ee7a Stack Overflow c\u00f3 g\u00ec hay?","text":""},{"location":"ByteByteGo/stackoverflow_architecture/stackoverflow_architecture/#nguon","title":"Ngu\u1ed3n","text":"<p> Uncovering Stack Overflow's Shocking Architecture</p>"},{"location":"ByteByteGo/stackoverflow_architecture/stackoverflow_architecture/#trong-phim","title":"Trong phim","text":"<p>H\u00e3y t\u01b0\u1edfng t\u01b0\u1ee3ng r\u1eb1ng b\u1ea1n \u0111\u01b0\u1ee3c giao cho vi\u1ec7c thi\u1ebft k\u1ebf l\u1ea1i trang Stack Overflow (n\u1ebfu b\u1ea1n ch\u01b0a bi\u1ebft n\u00f3 l\u00e0 g\u00ec th\u00ec h\u00e3y gh\u00e9 th\u0103m t\u1ea1i \u0111\u00e2y). B\u1ea1n tr\u1ea3 l\u1eddi r\u1eb1ng b\u1ea1n s\u1ebd thi\u1ebft k\u1ebf m\u1ed9t s\u1ed1 server t\u1ea1i ch\u1ed7 trong m\u1ed9t \u1ee9ng d\u1ee5ng nguy\u00ean kh\u1ed1i (monolith), ch\u1ec9 \u0111\u1ec3 nh\u1eadn v\u1ec1 s\u1ef1 ng\u1ea1c nhi\u00ean c\u1ee7a \u0111\u1ed3ng nghi\u1ec7p. Th\u1ef1c ra th\u00ec, \u0111\u00f3 l\u1ea1i ch\u00ednh x\u00e1c l\u00e0 \u0111i\u1ec1u m\u00e0 Stack Overflow \u0111\u00e3 l\u00e0m.</p> <p>C\u00f3 l\u1ebd b\u1ea1n \u0111\u00e3 mong r\u1eb1ng m\u1ed9t n\u1ec1n t\u1ea3ng kh\u1ed5ng l\u1ed3 nh\u01b0 Stack Overflow s\u1ebd \u0111i theo nh\u1eefng xu h\u01b0\u1edbng thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng th\u1ecbnh h\u00e0nh v\u00e0o th\u1eddi \u0111i\u1ec3m n\u00e0y. M\u1ed9t c\u00f4ng ty c\u00f4ng ngh\u1ec7 l\u1edbn s\u1ebd ph\u00e1c th\u1ea3o h\u1ec7 th\u1ed1ng v\u1edbi c\u00e1c microservice \u0111\u1ec3 chia h\u1ec7 th\u1ed1ng ra th\u00e0nh t\u1eebng ph\u1ea7n nh\u1ecf, m\u1ed7i c\u00e1i \u0111\u1ec1u c\u00f3 database ri\u00eang. N\u00f3 s\u1ebd d\u00f9ng cache r\u1ea5t nhi\u1ec1u v\u00e0 giao ti\u1ebfp b\u1ea5t \u0111\u1ed3ng b\u1ed9 qua message queue g\u00ec \u0111\u00f3. M\u1ed9t s\u1ed1 c\u00f3 th\u1ec3 theo CQRS c\u00f9ng event sourcing. Th\u00eam n\u1eefa th\u00ec ai l\u1ea1i ch\u1eb3ng mu\u1ed1n n\u1eafm b\u1eaft c\u01a1 h\u1ed9i \u0111\u1ec3 th\u00eam th\u1eaft t\u00ed concept v\u1ec1 h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n nh\u01b0 eventual consistency hay \u0111\u1ecbnh l\u00fd CAP. Kh\u00e1 l\u00e0 \u1ea5n t\u01b0\u1ee3ng ph\u1ea3i kh\u00f4ng. </p>"},{"location":"ByteByteGo/stackoverflow_architecture/stackoverflow_architecture/#ngoai-oi","title":"Ngo\u00e0i \u0111\u1eddi","text":"<p>Nh\u01b0ng nh\u1eefng th\u1ee9 tr\u00ean kh\u00f4ng h\u1ec1 t\u1ed3n t\u1ea1i trong thi\u1ebft k\u1ebf hi\u1ec7n t\u1ea1i c\u1ee7a Stack Overflow \u0111\u00e2u nh\u00e9. Trong m\u1ed9t th\u1ebf gi\u1edbi ph\u1ee7 \u0111\u1ea7y microservice, Kubernetes v\u00e0 c\u00e1c gi\u1ea3i ph\u00e1p \u0111\u00e1m m\u00e2y, Stack Overflow l\u1ea1i \u0111i m\u1ed9t m\u00ecnh m\u1ed9t ng\u1ef1a. Thay v\u00ec ch\u1ea1y theo xu h\u01b0\u1edbng, Stack Overflow ki\u00ean \u0111\u1ecbnh v\u1edbi ki\u1ebfn tr\u00fac m\u00e0 h\u1ecd cho l\u00e0 t\u1ed1t nh\u1ea5t cho ho\u00e0n c\u1ea3nh c\u1ee7a h\u1ecd.</p> <p></p> <p>\u0110\u00f3 l\u00e0 m\u1ed9t \u1ee9ng d\u1ee5ng nguy\u00ean kh\u1ed1i \u0111\u1ec3 x\u1eed l\u00fd trang h\u1ecfi \u0111\u00e1p ch\u00ednh v\u1edbi ch\u1ec9 9 web server t\u1ea1i ch\u1ed7 (h\u00ecnh tr\u00ean ghi 6 nh\u01b0ng \u0111\u00fang l\u00e0 9 nh\u00e9). H\u1ecd kh\u00f4ng d\u00f9ng gi\u1ea3i ph\u00e1p \u0111\u00e1m m\u00e2y hay microservice g\u00ec c\u1ea3 nh\u01b0ng v\u1eabn c\u00f3 th\u1ec3 x\u1eed l\u00fd l\u01b0\u1ee3ng truy c\u1eadp c\u1ef1c l\u1edbn v\u1edbi c\u00e1ch ti\u1ebfp c\u1eadn \u0111\u1ed9c \u0111\u00e1o. Thay v\u00ec chu\u1ea9n b\u1ecb cho vi\u1ec7c thay \u0111\u1ed5i li\u00ean t\u1ee5c, h\u1ecd \u0111\u00e3 thi\u1ebft k\u1ebf m\u1ed9t h\u1ec7 th\u1ed1ng t\u1ed1i \u01b0u cho \u0111\u1ed9 tr\u1ec5 t\u1ea3i v\u00e0 ph\u00e2n ph\u1ed1i b\u1ed9 nh\u1edb. C\u00e1c server n\u00e0y ch\u1ea1y ch\u1ec9 t\u1ed1n t\u1ea7m 5-10% s\u1ee9c ch\u1ee9a, n\u00ean c\u00f3 r\u1ea5t nhi\u1ec1u ch\u1ed7 \u0111\u1ec3 ph\u00e1t tri\u1ec3n. D\u00f9 80% l\u01b0\u1ee3ng truy c\u1eadp l\u00e0 kh\u00f4ng \u0111\u0103ng nh\u1eadp (\u1ea9n danh), trang web n\u00e0y v\u1eabn cho th\u1ea5y hi\u1ec7u su\u1ea5t \u0111\u00e1ng kinh ng\u1ea1c. Ngay c\u1ea3 trang \u0111\u01b0\u1ee3c truy c\u1eadp nhi\u1ec1u nh\u1ea5t l\u00e0 trang danh s\u00e1ch c\u00e2u h\u1ecfi c\u0169ng kh\u00f4ng \u0111\u01b0\u1ee3c cache m\u00e0 v\u1eabn c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c render trong 20 ms.</p> <p>Hi\u1ec7u su\u1ea5t kinh d\u1ecb n\u00e0y \u0111\u01b0\u1ee3c ti\u1ebfp s\u1ee9c b\u1edfi 1.5 Terabyte RAM trong SQL Server c\u1ee7a h\u1ecd, \u0111\u1ec3 truy c\u1eadp nhanh 33% c\u1ea3 database l\u1edbn trong b\u1ed9 nh\u1edb. \u0110i\u1ec1u n\u00e0y ch\u1ee9ng t\u1ecf nh\u1eefng concept m\u1edbi nh\u1ea5t, th\u1ecbnh h\u00e0nh nh\u1ea5t kh\u00f4ng ph\u1ea3i l\u00fac n\u00e0o c\u0169ng l\u00e0 t\u1ed1t nh\u1ea5t. Hi\u1ec3u bi\u1ebft s\u00e2u v\u1ec1 m\u1ed9t h\u01b0\u1edbng kh\u00f3 n\u00e0o \u0111\u00f3 c\u00f3 th\u1ec3 c\u00f3 l\u1ee3i h\u01a1n nhi\u1ec1u vi\u1ec7c ch\u1ea1y theo xu h\u01b0\u1edbng.</p>"},{"location":"ByteByteGo/stackoverflow_architecture/stackoverflow_architecture/#ket","title":"K\u1ebft","text":"<p>C\u00e2u chuy\u1ec7n c\u1ee7a Stack Overflow l\u00e0 m\u1ed9t case study \u0111i\u1ec3n h\u00ecnh \u0111\u1ec3 nh\u1eafc ta nh\u1edb r\u1eb1ng c\u00f4ng ngh\u1ec7 kh\u00f4ng ph\u1ea3i m\u1ea3ng m\u00e0 c\u00f3 m\u1ed9t gi\u1ea3i ph\u00e1p cho t\u1ea5t c\u1ea3 c\u00e1c v\u1ea5n \u0111\u1ec1. Th\u1ee9 ho\u1ea1t \u0111\u1ed9ng \u0111\u01b0\u1ee3c trong m\u1ed9t tr\u01b0\u1eddng h\u1ee3p l\u1ea1i c\u00f3 th\u1ec3 kh\u00f4ng ho\u1ea1t \u0111\u1ed9ng trong m\u1ed9t tr\u01b0\u1eddng h\u1ee3p kh\u00e1c. Vi\u1ec7c nh\u1ea5n m\u1ea1nh s\u1ef1 c\u1ea7n thi\u1ebft ph\u1ea3i li\u00ean k\u1ebft ki\u1ebfn tr\u00fac h\u1ec7 th\u1ed1ng v\u1edbi business v\u00e0 y\u00eau c\u1ea7u k\u1ef9 thu\u1eadt c\u1ee5 th\u1ec3 thay v\u00ec theo xu h\u01b0\u1edbng m\u1ed9t c\u00e1ch m\u00f9 qu\u00e1ng trong ng\u00e0nh th\u1ef1c s\u1ef1 r\u1ea5t quan tr\u1ecdng.</p>"},{"location":"ByteByteGo/storing_passwords/storing_passwords/","title":"L\u01b0u m\u1eadt kh\u1ea9u v\u00e0o database nh\u01b0 th\u1ebf n\u00e0o cho \u0111\u00fang?","text":""},{"location":"ByteByteGo/storing_passwords/storing_passwords/#nguon","title":"Ngu\u1ed3n","text":"<p> System Design: How to store passwords in the database?</p>"},{"location":"ByteByteGo/storing_passwords/storing_passwords/#luu-mat-khau-trong-database","title":"L\u01b0u m\u1eadt kh\u1ea9u trong database","text":"<p>Khi thi\u1ebft k\u1ebf \u1ee9ng d\u1ee5ng c\u00f3 ng\u01b0\u1eddi d\u00f9ng, m\u1ed9t trong nh\u1eefng \u0111i\u1ec1u t\u1ed1i quan tr\u1ecdng ch\u00ednh l\u00e0 l\u01b0u m\u1eadt kh\u1ea9u ng\u01b0\u1eddi d\u00f9ng theo c\u00e1ch n\u00e0o \u0111\u00f3 m\u00e0 c\u00e1c hacker kh\u00f4ng th\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c m\u1eadt kh\u1ea9u g\u1ed1c khi database g\u1eb7p v\u1ea5n \u0111\u1ec1 b\u1ea3o m\u1eadt. \u0110\u1ea7u ti\u00ean l\u00e0 \u0111i\u1ec1u c\u1ea7n tr\u00e1nh: Kh\u00f4ng l\u01b0u m\u1eadt kh\u1ea9u d\u01b0\u1edbi d\u1ea1ng t\u01b0\u1eddng minh</p> <p>B\u1ea5t c\u1ee9 ai c\u00f3 quy\u1ec1n truy c\u1eadp n\u1ed9i b\u1ed9 v\u00e0o database \u0111\u1ec1u c\u00f3 th\u1ec3 th\u1ea5y c\u00e1c m\u1eadt kh\u1ea9u. N\u1ebfu database b\u1ecb hack, k\u1ebb t\u1ea5n c\u00f4ng s\u1ebd d\u1ec5 d\u00e0ng l\u1ea5y \u0111\u01b0\u1ee3c t\u1ea5t c\u1ea3 c\u00e1c m\u1eadt kh\u1ea9u.</p> <p>V\u1eady ta c\u1ea7n l\u00e0m g\u00ec \u0111\u1ec3 l\u01b0u m\u1eadt kh\u1ea9u m\u1ed9t c\u00e1ch an to\u00e0n trong database? Open Web Application Security Project (OWASP) cung c\u1ea5p cho ch\u00fang ta m\u1ed9t s\u1ed1 h\u01b0\u1edbng d\u1eabn l\u00e0m sao \u0111\u1ec3 l\u01b0u m\u1eadt kh\u1ea9u. M\u1ed9t s\u1ed1 c\u00e1ch nh\u01b0 sau:</p>"},{"location":"ByteByteGo/storing_passwords/storing_passwords/#dung-mot-thuat-toan-hash-hien-ai","title":"D\u00f9ng m\u1ed9t thu\u1eadt to\u00e1n hash hi\u1ec7n \u0111\u1ea1i","text":"<p>Hash l\u00e0 h\u00e0m m\u1ed9t chi\u1ec1u. Ngh\u0129a l\u00e0 b\u1ea1n s\u1ebd kh\u00f4ng th\u1ec3 gi\u1ea3i m\u00e3 m\u1ed9t hash \u0111\u1ec3 ra gi\u00e1 tr\u1ecb g\u1ed1c. N\u1ebfu k\u1ebb t\u1ea5n c\u00f4ng l\u1ea5y \u0111\u01b0\u1ee3c m\u1eadt kh\u1ea9u \u0111\u00e3 hash, h\u1eafn kh\u00f4ng th\u1ec3 d\u00f9ng c\u00e1i hash \u0111\u00f3 \u0111\u1ec3 l\u1ea5y quy\u1ec1n truy c\u1eadp v\u00e0o \u1ee9ng d\u1ee5ng. </p> <p></p> <p>Quan tr\u1ecdng l\u00e0 ph\u1ea3i d\u00f9ng m\u1ed9t h\u00e0m hash hi\u1ec7n \u0111\u1ea1i \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf cho vi\u1ec7c l\u01b0u m\u1eadt kh\u1ea9u. C\u00e1c h\u00e0m n\u00e0y th\u01b0\u1eddng \"ch\u1eadm\" (v\u00ed d\u1ee5 nh\u01b0 <code>bcrypt</code>) v\u00ec c\u1ea7n nhi\u1ec1u t\u00e0i nguy\u00ean h\u01a1n \u0111\u1ec3 t\u00ednh gi\u00e1 tr\u1ecb hash. \u0110i\u1ec1u \u0111\u00f3 l\u00e0m cho vi\u1ec7c t\u1ea5n c\u00f4ng kh\u00f3 kh\u0103n h\u01a1n. </p> <p>L\u01b0u \u00fd r\u1eb1ng m\u1ed9t s\u1ed1 h\u00e0m hash c\u0169 nh\u01b0 <code>MD5</code> hay <code>SHA-1</code> l\u00e0 c\u00e1c h\u00e0m \"nhanh\". Ch\u00fang \u00edt an to\u00e0n h\u01a1n v\u00e0 kh\u00f4ng n\u00ean \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.</p>"},{"location":"ByteByteGo/storing_passwords/storing_passwords/#salt-mat-khau","title":"Salt m\u1eadt kh\u1ea9u","text":"<p>Theo h\u01b0\u1edbng d\u1eabn c\u1ee7a OWASP, salt l\u00e0 m\u1ed9t x\u00e2u duy nh\u1ea5t \u0111\u01b0\u1ee3c t\u1ea1o ng\u1eabu nhi\u00ean v\u00e0 n\u00f3 s\u1ebd \u0111\u01b0\u1ee3c th\u00eam v\u00e0o m\u1ed7i m\u1eadt kh\u1ea9u trong qu\u00e1 tr\u00ecnh hash.</p> <p></p> <p>T\u1ea1i sao c\u1ea7n ph\u1ea3i salt m\u1eadt kh\u1ea9u? L\u01b0u m\u1eadt kh\u1ea9u theo d\u1ea1ng hash l\u00e0 \u0111i\u1ec1u ki\u1ec7n c\u1ea7n, nh\u01b0ng ch\u01b0a ph\u1ea3i \u0111i\u1ec1u ki\u1ec7n \u0111\u1ee7. K\u1ebb t\u1ea5n c\u00f4ng c\u00f3 th\u1ec3 b\u1ebb \u0111\u01b0\u1ee3c hash m\u1ed9t chi\u1ec1u v\u1edbi c\u00e1c gi\u00e1 tr\u1ecb t\u00ednh tr\u01b0\u1edbc (v\u00ed d\u1ee5 hash c\u1ee7a <code>abc</code> l\u00e0 <code>xyz</code>, v\u00e0 s\u1ebd c\u00f3 r\u00e2t nhi\u1ec1u mapping nh\u01b0 th\u1ebf, khi k\u1ebb t\u1ea5n c\u00f4ng th\u1ea5y m\u1ed9t hash <code>xyz</code> ch\u1eb3ng h\u1ea1n, h\u1eafn s\u1ebd so s\u00e1nh v\u1edbi mapping v\u00e0 th\u1ea5y x\u00e2u g\u1ed1c l\u00e0 <code>abc</code>, v\u1eady l\u00e0 h\u1eafn bi\u1ebft m\u1eadt kh\u1ea9u l\u00e0 <code>abc</code>). M\u1ed9t s\u1ed1 ki\u1ec3u t\u1ea5n c\u00f4ng ph\u1ed5 bi\u1ebfn l\u00e0 rainbow table v\u00e0 lookup d\u1ef1a tr\u00ean database. K\u1ebb t\u1ea5n c\u00f4ng c\u00f3 th\u1ec3 d\u00f9ng c\u00e1c k\u1ef9 thu\u1eadt n\u00e0y \u0111\u1ec3 t\u00ecm ra m\u1eadt kh\u1ea9u trong v\u00e0i gi\u00e2y.</p> <p></p> <p>Th\u00eam salt v\u00e0o s\u1ebd gi\u00fap hash c\u00f3 gi\u00e1 tr\u1ecb duy nh\u1ea5t cho m\u1ed7i m\u1eadt kh\u1ea9u. K\u0129 thu\u1eadt \u0111\u01a1n gi\u1ea3n n\u00e0y l\u00e0m cho vi\u1ec7c t\u00ednh tr\u01b0\u1edbc gi\u00e1 tr\u1ecb hash k\u00e9m hi\u1ec7u qu\u1ea3 h\u01a1n.</p> <p>L\u01b0u m\u1eadt kh\u1ea9u v\u1edbi salt v\u00e0o database ki\u1ec3u g\u00ec? \u0110\u1ea7u ti\u00ean th\u00eam salt v\u00e0o sau m\u1eadt kh\u1ea9u \u0111\u00e3 nh\u1eadp. Sau \u0111\u00f3 t\u00ednh hash c\u1ee7a x\u00e2u k\u1ebft qu\u1ea3 v\u1edbi m\u1ed9t h\u00e0m hash n\u00e0o \u0111\u00f3. C\u00e1i hash n\u00e0y s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u v\u00e0o database c\u00f9ng v\u1edbi salt. L\u01b0u \u00fd r\u1eb1ng salt \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 t\u1ea1o hash duy nh\u1ea5t. N\u00f3 kh\u00f4ng ph\u1ea3i l\u00e0 x\u00e2u b\u00ed m\u1eadt g\u00ec c\u1ea3 v\u00e0 c\u00f3 th\u1ec3 l\u01b0u d\u01b0\u1edbi d\u1ea1ng t\u01b0\u1eddng minh trong database.</p> <p></p>"},{"location":"ByteByteGo/storing_passwords/storing_passwords/#xac-nhan-mot-mat-khau-trong-database","title":"X\u00e1c nh\u1eadn m\u1ed9t m\u1eadt kh\u1ea9u trong database","text":"<p>Gi\u1edd khi user b\u1ea5m n\u00fat \u0110\u0103ng nh\u1eadp, l\u00e0m sao ta c\u00f3 th\u1ec3 x\u00e1c nh\u1eadn m\u1eadt kh\u1ea9u \u0111\u00f3 \u0111\u00fang l\u00e0 m\u1eadt kh\u1ea9u c\u1ee7a user?</p> <p>\u0110\u1ea7u ti\u00ean, ta l\u1ea5y salt c\u1ee7a user t\u1eeb database. Sau \u0111\u00f3 ta th\u00eam salt v\u00e0o sau m\u1eadt kh\u1ea9u m\u00e0 user nh\u1eadp v\u00e0o, sau \u0111\u00f3 hash x\u00e2u k\u1ebft qu\u1ea3. So s\u00e1nh k\u1ebft qu\u1ea3 n\u00e0y v\u1edbi hash l\u01b0u trong database. N\u1ebfu gi\u1ed1ng nhau th\u00ec m\u1eadt kh\u1ea9u nh\u1eadp v\u00e0o l\u00e0 ch\u00ednh x\u00e1c.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/","title":"7 ki\u1ec3u h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n th\u00f4ng d\u1ee5ng","text":""},{"location":"ByteByteGo/system_patterns/system_patterns/#nguon","title":"Ngu\u1ed3n","text":"<p> Top 7 Most-Used Distributed System Patterns</p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#ambassador","title":"Ambassador","text":"<p>\u0110\u1ea7u ti\u00ean l\u00e0 h\u1ec7 th\u1ed1ng ki\u1ec3u Ambassador (\u0111\u1ea1i s\u1ee9).</p> <p>T\u01b0\u1edfng t\u01b0\u1ee3ng r\u1eb1ng b\u1ea1n l\u00e0 m\u1ed9t CEO b\u1eadn r\u1ed9n v\u1edbi m\u1ed9t tr\u1ee3 l\u00fd ri\u00eang x\u1eed l\u00fd t\u1ea5t c\u1ea3 c\u00e1c cu\u1ed9c h\u1eb9n v\u00e0 giao ti\u1ebfp v\u1edbi c\u1ea5p d\u01b0\u1edbi cho b\u1ea1n. \u0110\u00f3 ch\u00ednh x\u00e1c l\u00e0 nh\u1eefng g\u00ec h\u1ec7 th\u1ed1ng ki\u1ec3u Ambassador s\u1ebd l\u00e0m cho \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n.</p> <p>N\u00f3 ho\u1ea1t \u0111\u1ed9ng nh\u01b0 m\u1ed9t \u0111i\u1ec3m trung chuy\u1ec3n cho \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n v\u00e0 c\u00e1c service m\u00e0 \u1ee9ng d\u1ee5ng \u0111\u00f3 giao ti\u1ebfp, gi\u1ea3m t\u1ea3i c\u00e1c t\u00e1c v\u1ee5 nh\u01b0 logging, monitoring hay x\u1eed l\u00fd c\u00e1c l\u1ea7n th\u1eed l\u1ea1i.</p> <p>V\u00ed d\u1ee5, Kubenetes s\u1eed d\u1ee5ng Envoy l\u00e0m Ambassador \u0111\u1ec3 \u0111\u01a1n gi\u1ea3n ho\u00e1 vi\u1ec7c giao ti\u1ebfp gi\u1eefa c\u00e1c service.</p> <p>H\u1ec7 th\u1ed1ng ki\u1ec3u Ambassador s\u1ebd gi\u00fap gi\u1ea3m \u0111\u1ed9 tr\u1ec5, t\u0103ng c\u01b0\u1eddng b\u1ea3o m\u1eadt v\u00e0 c\u1ea3i thi\u1ec7n ki\u1ebfn tr\u00fac t\u1ed5ng th\u1ec3 c\u1ee7a c\u00e1c h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#circuit-breaker","title":"Circuit Breaker","text":"<p>Ti\u1ebfp theo l\u00e0 Circuit Breaker (b\u1ed9 ng\u1eaft m\u1ea1ch)</p> <p>T\u01b0\u1edfng t\u01b0\u1ee3ng m\u1ed9t \u0111\u01b0\u1eddng \u1ed1ng n\u01b0\u1edbc trong nh\u00e0 b\u1ea1n b\u1ecb v\u1ee1. \u0110i\u1ec1u \u0111\u1ea7u ti\u00ean b\u1ea1n c\u1ea7n l\u00e0m l\u00e0 kho\u00e1 van ch\u00ednh \u0111\u1ec3 tr\u00e1nh h\u1ecfng th\u00eam. H\u1ec7 th\u1ed1ng ki\u1ec3u Circuit Breaker ho\u1ea1t \u0111\u1ed9ng t\u01b0\u01a1ng t\u1ef1, ng\u0103n l\u1ed7i ph\u00e2n t\u1ea7ng trong c\u00e1c h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n. </p> <p>Khi m\u1ed9t service b\u1ecb h\u1ecfng, Circuit Breaker s\u1ebd d\u1eebng c\u00e1c request, cho ph\u00e9p service \u0111\u00f3 kh\u00f4i ph\u1ee5c l\u1ea1i. Th\u01b0 vi\u1ec7n Hystrix c\u1ee7a Netflix s\u1eed d\u1ee5ng thi\u1ebft k\u1ebf n\u00e0y. </p> <p></p> <p>N\u00f3 \u0111\u1ea3m b\u1ea3o m\u1ed9t h\u1ec7 th\u1ed1ng linh ho\u1ea1t h\u01a1n. Thi\u1ebft k\u1ebf n\u00e0y c\u00f3 th\u1ec3 \u0111\u1eb7c bi\u1ec7t\u00a0h\u1eefu \u00edch khi x\u1eed l\u00fd c\u00e1c microservice\u00a0ho\u1eb7c \u1ee9ng d\u1ee5ng \u0111\u00e1m m\u00e2y, n\u01a1i\u00a0c\u00f3 nhi\u1ec1u kh\u1ea3 n\u0103ng x\u1ea3y ra l\u1ed7i h\u01a1n.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#cqrs","title":"CQRS","text":"<p>Thi\u1ebft k\u1ebf ti\u1ebfp theo l\u00e0 CQRS (Command\u00a0Query Responsibility Segregation - Ph\u00e2n t\u00e1ch tr\u00e1ch nhi\u1ec7m truy v\u1ea5n l\u1ec7nh). CQRS gi\u1ed1ng nh\u01b0 vi\u1ec7c c\u00f3 m\u1ed9t nh\u00e0 h\u00e0ng v\u1edbi\u00a0c\u00e1c h\u00e0ng \u0111\u1ee3i ri\u00eang bi\u1ec7t \u0111\u1ec3 g\u1ecdi m\u00f3n v\u00e0 nh\u1eadn m\u00f3n.</p> <p>B\u1eb1ng vi\u1ec7c t\u00e1ch ri\u00eang c\u00e1c thao t\u00e1c ghi\u00a0v\u00e0 \u0111\u1ecdc, ta c\u00f3 th\u1ec3 m\u1edf r\u1ed9ng quy m\u00f4 v\u00e0 t\u1ed1i \u01b0u h\u00f3a t\u1eebng thao t\u00e1c m\u1ed9t c\u00e1ch \u0111\u1ed9c l\u1eadp.</p> <p>V\u00ed d\u1ee5, m\u1ed9t trang th\u01b0\u01a1ng m\u1ea1i \u0111i\u1ec7n t\u1eed c\u00f3 th\u1ec3 c\u00f3 nhi\u1ec1u\u00a0request \u0111\u1ecdc s\u1ea3n ph\u1ea9m nh\u01b0ng\u00a0\u00edt request ghi \u0111\u1ec3 \u0111\u1eb7t h\u00e0ng h\u01a1n.</p> <p>CQRS cho ph\u00e9p x\u1eed l\u00fd t\u1eebng thao t\u00e1c m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3. Thi\u1ebft k\u1ebf ki\u1ec3u n\u00e0y tr\u1edf n\u00ean hi\u1ec7u qu\u1ea3 trong\u00a0c\u00e1c h\u1ec7 th\u1ed1ng m\u00e0 ho\u1ea1t \u0111\u1ed9ng \u0111\u1ecdc v\u00e0 ghi c\u00f3\u00a0c\u00e1c \u0111\u1eb7c \u0111i\u1ec3m hi\u1ec7u su\u1ea5t kh\u00e1c nhau, v\u1edbi\u00a0c\u00e1c y\u00eau c\u1ea7u v\u1ec1 \u0111\u1ed9 tr\u1ec5 ho\u1eb7c t\u00e0i nguy\u00ean kh\u00e1c nhau.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#event-sourcing","title":"Event Sourcing","text":"<p>Ti\u1ebfp theo l\u00e0 Event Sourcing. Ta c\u00f3 th\u1ec3 xem Event Sourcing nh\u01b0 vi\u1ec7c ghi nh\u1eadt k\u00fd v\u1ec1 c\u00e1c s\u1ef1 ki\u1ec7n x\u1ea3y ra trong cu\u1ed9c s\u1ed1ng. Thay v\u00ec c\u1eadp nh\u1eadt tr\u1ef1c ti\u1ebfp c\u00e1c b\u1ea3n ghi, ta l\u01b0u c\u00e1c s\u1ef1 ki\u1ec7n \u0111\u1ea1i di\u1ec7n cho c\u00e1c thay \u0111\u1ed5i \u0111\u00e3 x\u1ea3y ra.</p> <p></p> <p>Ph\u01b0\u01a1ng ph\u00e1p n\u00e0y cung c\u1ea5p to\u00e0n b\u1ed9 l\u1ecbch s\u1eed c\u1ee7a\u00a0h\u1ec7 th\u1ed1ng, \u0111\u1ed3ng th\u1eddi cho ph\u00e9p ki\u1ec3m tra v\u00e0 g\u1ee1 l\u1ed7i t\u1ed1t h\u01a1n.</p> <p>Git version control l\u00e0 m\u1ed9t v\u00ed d\u1ee5 hay v\u1ec1 Event Sourcing, trong \u0111\u00f3 m\u1ed7i commit t\u01b0\u1ee3ng tr\u01b0ng cho m\u1ed9t thay \u0111\u1ed5i g\u00ec \u0111\u00f3.</p> <p>V\u1edbi Event Sourcing, ta c\u00f3 th\u1ec3 tri\u1ec3n khai c\u00e1c t\u00ednh n\u0103ng n\u00e2ng cao nh\u01b0 time-travel debugging ho\u1eb7c ph\u00e1t l\u1ea1i c\u00e1c s\u1ef1 ki\u1ec7n v\u1edbi m\u1ee5c \u0111\u00edch ph\u00e2n t\u00edch.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#leader-election","title":"Leader Election","text":"<p>T\u01b0\u1edfng t\u01b0\u1ee3ng r\u1eb1ng ta c\u00f3 m\u1ed9t l\u1edbp h\u1ecdc g\u1ed3m c\u00e1c h\u1ecdc sinh b\u1ea7u ra m\u1ed9t l\u1edbp tr\u01b0\u1edfng.</p> <p>Trong m\u1ed9t h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n, thi\u1ebft k\u1ebf ki\u1ec3u Leader Election \u0111\u1ea3m b\u1ea3o ch\u1ec9 m\u1ed9t node ch\u1ecbu tr\u00e1ch nhi\u1ec7m v\u1ec1 m\u1ed9t nhi\u1ec7m v\u1ee5 ho\u1eb7c t\u00e0i nguy\u00ean c\u1ee5 th\u1ec3. Khi m\u1ed9t node leader b\u1ecb l\u1ed7i, c\u00e1c node c\u00f2n l\u1ea1i s\u1ebd b\u1ea7u ra m\u1ed9t node leader m\u1edbi.</p> <p>ZooKeeper v\u00e0 etcd s\u1eed d\u1ee5ng thi\u1ebft k\u1ebf n\u00e0y\u00a0\u0111\u1ec3 qu\u1ea3n l\u00fd c\u1ea5u h\u00ecnh ph\u00e2n t\u00e1n.</p> <p>B\u1eb1ng c\u00e1ch c\u00f3 m\u1ed9t leader \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh, ta c\u00f3 th\u1ec3\u00a0tr\u00e1nh xung \u0111\u1ed9t v\u00e0 \u0111\u1ea3m b\u1ea3o\u00a0vi\u1ec7c ra quy\u1ebft \u0111\u1ecbnh nh\u1ea5t qu\u00e1n tr\u00ean to\u00e0n h\u1ec7 th\u1ed1ng ph\u00e2n t\u00e1n.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#pub-sub","title":"Pub / Sub","text":"<p>Thi\u1ebft k\u1ebf Publisher / Subscriber (xu\u1ea5t b\u1ea3n / \u0111\u0103ng k\u00fd, vi\u1ebft t\u1eaft l\u00e0 pub/sub) gi\u1ed1ng nh\u01b0 m\u1ed9t d\u1ecbch v\u1ee5 chuy\u1ec3n ph\u00e1t b\u00e1o. Pub/Sub\u00a0gi\u1ed1ng nh\u01b0 m\u1ed9t d\u1ecbch v\u1ee5 chuy\u1ec3n ph\u00e1t b\u00e1o.</p> <p>C\u00e1c publisher ph\u00e1t ra c\u00e1c event m\u00e0\u00a0kh\u00f4ng bi\u1ebft ai s\u1ebd nh\u1eadn c\u00e1c event \u0111\u00f3,\u00a0v\u00e0 c\u00e1c subscriber l\u1eafng nghe\u00a0c\u00e1c event m\u00e0 ch\u00fang quan t\u00e2m.</p> <p></p> <p>Thi\u1ebft n\u00e0y cho ph\u00e9p kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng v\u00e0 t\u00ednh m\u00f4-\u0111un ho\u00e1 t\u1ed1t h\u01a1n.</p> <p>V\u00ed d\u1ee5, Google Cloud Pub/Sub cho ph\u00e9p nh\u1eafn tin kh\u00f4ng \u0111\u1ed3ng b\u1ed9 gi\u1eefa c\u00e1c service, gi\u00fap vi\u1ec7c b\u1ea3o tr\u00ec v\u00e0 m\u1edf r\u1ed9ng c\u00e1c \u1ee9ng d\u1ee5ng ph\u1ee9c t\u1ea1p tr\u1edf n\u00ean d\u1ec5 d\u00e0ng h\u01a1n.</p> <p>C\u00e1c h\u1ec7 th\u1ed1ng Pub/Sub r\u1ea5t ph\u00f9 h\u1ee3p v\u1edbi c\u00e1c tr\u01b0\u1eddng h\u1ee3p\u00a0khi ta c\u1ea7n ph\u1ed5 bi\u1ebfn c\u00e1c thay \u0111\u1ed5i ho\u1eb7c c\u1eadp nh\u1eadt\u00a0tr\u00ean nhi\u1ec1u th\u00e0nh ph\u1ea7n, ch\u1eb3ng h\u1ea1n nh\u01b0 c\u1eadp nh\u1eadt\u00a0h\u1ed3 s\u01a1 c\u1ee7a ng\u01b0\u1eddi d\u00f9ng tr\u00ean c\u00e1c service kh\u00e1c nhau.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#sharding","title":"Sharding","text":"<p>Sharding gi\u1ed1ng nh\u01b0 vi\u1ec7c chia m\u1ed9t chi\u1ebfc b\u00e1nh pizza l\u1edbn th\u00e0nh\u00a0nh\u1eefng l\u00e1t nh\u1ecf h\u01a1n \u0111\u1ec3 d\u1ec5 x\u1eed l\u00fd h\u01a1n.</p> <p>\u0110\u00e2y l\u00e0 m\u1ed9t k\u1ef9 thu\u1eadt ph\u00e2n ph\u1ed1i d\u1eef li\u1ec7u tr\u00ean nhi\u1ec1u node trong m\u1ed9t h\u1ec7 th\u1ed1ng.</p> <p>N\u00f3 c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t v\u00e0 kh\u1ea3 n\u0103ng m\u1edf r\u1ed9ng.</p> <p>M\u1ed7i shard ch\u1ee9a m\u1ed9t t\u1eadp h\u1ee3p con d\u1eef li\u1ec7u, gi\u00fap gi\u1ea3m t\u1ea3i cho b\u1ea5t k\u1ef3 node n\u00e0o.</p> <p></p> <p>C\u00e1c c\u01a1 s\u1edf d\u1eef li\u1ec7u nh\u01b0 MongoDB v\u00e0 Cassandra s\u1eed d\u1ee5ng sharding\u00a0\u0111\u1ec3 x\u1eed l\u00fd l\u01b0\u1ee3ng l\u1edbn d\u1eef li\u1ec7u m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3.</p> <p>Sharding c\u0169ng c\u00f3 th\u1ec3 gi\u00fap ta\u00a0\u0111\u1ea1t \u0111\u01b0\u1ee3c data locality t\u1ed1t h\u01a1n,\u00a0gi\u1ea3m \u0111\u1ed9 tr\u1ec5 c\u1ee7a m\u1ea1ng v\u00e0\u00a0t\u0103ng t\u1ed1c th\u1ef1c thi truy v\u1ea5n.</p> <p></p>"},{"location":"ByteByteGo/system_patterns/system_patterns/#bonus","title":"Bonus","text":"<p>Trong ph\u1ea7n n\u00e0y ta s\u1ebd n\u00f3i v\u1ec1 thi\u1ebft k\u1ebf ki\u1ec3u Strangler Fig.</p> <p>Thi\u1ebft k\u1ebf n\u00e0y \u0111\u01b0\u1ee3c l\u1ea5y c\u1ea3m h\u1ee9ng\u00a0t\u1eeb c\u00e2y sung b\u00f3p c\u1ed5,\u00a0l\u00e0 c\u00e2y m\u1ecdc xung quanh c\u00e1c c\u00e2y kh\u00e1c\u00a0v\u00e0 cu\u1ed1i c\u00f9ng thay th\u1ebf ch\u00fang.</p> <p></p> <p>Trong ph\u1ea7n m\u1ec1m, thi\u1ebft k\u1ebf Strangler Fig l\u00e0 m\u1ed9t ph\u01b0\u01a1ng ph\u00e1p\u00a0\u0111\u1ec3 d\u1ea7n d\u1ea7n thay th\u1ebf c\u00e1c h\u1ec7 th\u1ed1ng c\u0169 b\u1eb1ng c\u00e1c h\u1ec7 th\u1ed1ng m\u1edbi.</p> <p>Thay v\u00ec th\u1ef1c hi\u1ec7n migrate th\u1eb3ng sang h\u1ec7 th\u1ed1ng m\u1edbi m\u1ed9t c\u00e1ch \u0111\u1ea7y r\u1ee7i ro, ta c\u00f3 th\u1ec3 thay th\u1ebf t\u1eebng ph\u1ea7n c\u1ee7a\u00a0h\u1ec7 th\u1ed1ng c\u0169 b\u1eb1ng c\u00e1c th\u00e0nh ph\u1ea7n m\u1edbi.</p> <p>Thi\u1ebft n\u00e0y c\u00f3 th\u1ec3 gi\u00fap ta qu\u1ea3n l\u00fd r\u1ee7i ro v\u00e0\u00a0s\u1ef1 ph\u1ee9c t\u1ea1p li\u00ean quan \u0111\u1ebfn vi\u1ec7c migrate h\u1ec7 th\u1ed1ng.</p> <p></p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/","title":"Top 5 \u1ee9ng d\u1ee5ng c\u1ee7a Redis","text":""},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#nguon","title":"Ngu\u1ed3n","text":"<p> Top 5 Redis Use Cases</p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#redis-la-gi","title":"Redis l\u00e0 g\u00ec?","text":"<p>Redis l\u00e0 m\u1ed9t d\u1ea1ng c\u01a1 s\u1edf d\u1eef li\u1ec7u l\u01b0u tr\u1eef data trong b\u1ed9 nh\u1edb. N\u00f3 th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u01b0 l\u00e0 cache. N\u00f3 h\u1ed7 tr\u1ee3 nhi\u1ec1u d\u1ea1ng c\u1ea5u tr\u00fac d\u1eef li\u1ec7u kh\u00e1c nhau, nh\u01b0 string, hash, list, set v\u00e0 sorted set.</p> <p>Redis n\u1ed5i ti\u1ebfng v\u00ec t\u1ed1c \u0111\u1ed9 c\u1ef1c cao. V\u00e0 v\u00ec sao l\u1ea1i nh\u01b0 v\u1eady th\u00ec \u0111\u00e3 c\u00f3 m\u1ed9t b\u00e0i vi\u1ebft n\u00f3i v\u1ec1 \u0111i\u1ec1u n\u00e0y r\u1ed3i.</p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#cache","title":"Cache","text":"<p>\u1ee8ng d\u1ee5ng \u0111\u1ea7u ti\u00ean c\u1ee7a Redis d\u0129 nhi\u00ean l\u00e0 l\u01b0u t\u1ea1m data \u0111\u1ec3 l\u00e0m cho \u1ee9ng d\u1ee5ng web nhanh h\u01a1n. V\u1edbi \u1ee9ng d\u1ee5ng n\u00e0y, Redis l\u01b0u tr\u1eef c\u00e1c data \u0111\u01b0\u1ee3c request th\u01b0\u1eddng xuy\u00ean trong b\u1ed9 nh\u1edb. N\u00f3 cho ph\u00e9p web server tr\u1ea3 v\u1ec1 c\u00e1c data n\u00e0y m\u1ed9t c\u00e1ch nhanh ch\u00f3ng. \u0110i\u1ec1u n\u00e0y l\u00e0m gi\u1ea3m t\u1ea3i l\u00ean database v\u00e0 c\u1ea3i thi\u1ec7n th\u1eddi gian tr\u1ea3 v\u1ec1 c\u1ee7a \u1ee9ng d\u1ee5ng.</p> <p></p> <p>V\u1edbi quy m\u00f4 l\u1edbn h\u01a1n, cache \u0111\u01b0\u1ee3c ph\u00e2n ph\u1ed1i trong m\u1ed9t c\u1ee5m c\u00e1c Redis server. Sharding l\u00e0 m\u1ed9t k\u0129 thu\u1eadt ph\u1ed5 bi\u1ebfn \u0111\u1ec3 ph\u00e2n ph\u1ed1i t\u1ea3i \u0111\u1ec1u cho c\u00e1c server trong c\u1ee5m.</p> <p></p> <p>M\u1ed9t s\u1ed1 \u1ee9ng d\u1ee5ng nh\u1ecf kh\u00e1c khi d\u00f9ng distributed Redis cache c\u00f3 vi\u1ec7c set TTL (Time-To-Live - th\u1eddi gian s\u1ed1ng) v\u00e0 x\u1eed l\u00fd thundering herd (Thundering herd x\u1ea3y ra khi c\u00f3 m\u1ed9t l\u01b0\u1ee3ng l\u1edbn process hay thread \u0111\u1ee3i m\u1ed9t event n\u00e0o \u0111\u00f3 nh\u01b0ng ch\u1ec9 c\u00f3 m\u1ed9t process \u0111\u01b0\u1ee3c x\u1eed l\u00fd event \u0111\u00f3 th\u00f4i. Khi c\u00e1c process \u0111\u01b0\u1ee3c b\u1eadt, ch\u00fang s\u1ebd gi\u00e0nh nhau \u0111\u1ec3 x\u1eed l\u00fd event. C\u00e1c process n\u00e0y s\u1ebd tranh nhau t\u00e0i nguy\u00ean, c\u00f3 th\u1ec3 l\u00e0m treo m\u00e1y).</p> <p></p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#session-data","title":"Session Data","text":"<p>\u1ee8ng d\u1ee5ng ti\u1ebfp theo l\u00e0 khi d\u00f9ng Redis nh\u01b0 m\u1ed9t n\u01a1i ch\u1ee9a session. N\u00f3 cho ph\u00e9p chia s\u1ebb session data gi\u1eefa c\u00e1c stateless server. Khi m\u1ed9t user \u0111\u0103ng nh\u1eadp v\u00e0o m\u1ed9t \u1ee9ng d\u1ee5ng web, session data s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u v\u00e0o Redis, c\u00f9ng v\u1edbi session ID duy nh\u1ea5t \u0111\u01b0\u1ee3c tr\u1ea3 v\u1ec1 cho client d\u01b0\u1edbi d\u1ea1ng cookie. Khi user g\u1eedi request l\u00ean cho \u1ee9ng d\u1ee5ng, session ID s\u1ebd \u0111\u01b0\u1ee3c l\u1ed3ng v\u00e0o request, v\u00e0 server s\u1ebd l\u1ea5y session data t\u1eeb Redis v\u1edbi ID n\u00e0y. L\u01b0u \u00fd r\u1eb1ng Redis l\u00e0 in-memory database, n\u00ean session data l\u01b0u trong Redis s\u1ebd b\u1ecb m\u1ea5t n\u1ebfu Redis server kh\u1edfi \u0111\u1ed9ng l\u1ea1i.</p> <p></p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#replication","title":"Replication","text":"<p>M\u1eb7c d\u00f9 Redis cung c\u1ea5p t\u00ednh l\u00e2u d\u00e0i cho d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c l\u01b0u v\u1edbi c\u00e1c l\u1ef1a ch\u1ecdn nh\u01b0 snapshot v\u00e0 AOF (Append-Only File), th\u1ee9 c\u00f3 th\u1ec3 gi\u00fap ta l\u01b0u session data v\u00e0o \u1ed5 c\u1ee9ng v\u00e0 reload l\u1ea1i n\u00f3 v\u00e0o memory n\u1ebfu kh\u1edfi \u0111\u1ed9ng l\u1ea1i server, c\u00e1c l\u1ef1a ch\u1ecdn n\u00e0y th\u01b0\u1eddng m\u1ea5t r\u1ea5t nhi\u1ec1u th\u1eddi gian \u0111\u1ec3 \u0111\u01b0a d\u1eef li\u1ec7u t\u1eeb \u1ed5 c\u1ee9ng v\u00e0o memory \u0111\u1ec3 c\u00f3 th\u1ec3 s\u1eed d\u1ee5ng trong th\u1ef1c t\u1ebf. Trong nhi\u1ec1u tr\u01b0\u1eddng h\u1ee3p, replication th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng h\u01a1n. Data s\u1ebd \u0111\u01b0\u1ee3c sao ch\u00e9p v\u00e0o m\u1ed9t b\u1ea3n sao Redis. Trong tr\u01b0\u1eddng h\u1ee3p Redis ch\u00ednh b\u1ecb crash, b\u1ea3n sao s\u1ebd \u0111\u01b0\u1ee3c \u0111\u01b0a v\u00e0o thay th\u1ebf b\u1ea3n g\u1ed1c \u0111\u1ec3 ti\u1ebfp t\u1ee5c c\u00f4ng vi\u1ec7c.</p> <p></p> <p></p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#distributed-lock","title":"Distributed Lock","text":"<p>Distributed Lock (kho\u00e1) \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng khi nhi\u1ec1u node trong \u1ee9ng d\u1ee5ng c\u1ea7n truy c\u1eadp v\u00e0o m\u1ed9t s\u1ed1 t\u00e0i nguy\u00ean \u0111\u01b0\u1ee3c chia s\u1ebb. </p> <p></p> <p>Redis \u0111\u01b0\u1ee3c d\u00f9ng l\u00e0m distributed lock v\u1edbi c\u00e1c l\u1ec7nh c\u00f3 t\u00ednh atomic nh\u01b0 <code>SETNX</code> (<code>SET if Not eXists</code>). N\u00f3 cho ph\u00e9p ng\u01b0\u1eddi g\u1ecdi set m\u1ed9t key ch\u1ec9 khi key \u0111\u00f3 ch\u01b0a t\u1ed3n t\u1ea1i trong Redis.</p> <p>N\u00f3 ho\u1ea1t \u0111\u1ed9ng nh\u01b0 sau: </p> <ul> <li>Client 1 th\u1eed l\u1ea5y lock b\u1eb1ng c\u00e1ch set key v\u1edbi m\u1ed9t gi\u00e1 tr\u1ecb duy nh\u1ea5t n\u00e0o \u0111\u00f3 v\u00e0 th\u1eddi gian s\u1ed1ng v\u1edbi l\u1ec7nh <code>SETNX</code> (<code>SETNX lock 1234abcd EX 3</code>). </li> <li>N\u1ebfu key kh\u00f4ng t\u1ed3n t\u1ea1i trong Redis, <code>SETNX</code> s\u1ebd tr\u1ea3 v\u1ec1 1, cho bi\u1ebft r\u1eb1ng lock \u0111\u00e3 \u0111\u01b0\u1ee3c l\u1ea5y b\u1edfi client 1. Client 1 xong vi\u1ec7c v\u00e0 th\u1ea3 lock ra b\u1eb1ng c\u00e1ch xo\u00e1 c\u00e1i key \u0111\u00f3. </li> <li>N\u1ebfu key v\u1eabn c\u00f2n \u0111ang t\u1ed3n t\u1ea1i trong Redis, <code>SETNX</code> tr\u1ea3 v\u1ec1 0, cho bi\u1ebft l\u00e0 lock \u0111\u00e3 \u0111\u01b0\u1ee3c l\u1ea5y b\u1edfi m\u1ed9t client kh\u00e1c. Trong tr\u01b0\u1eddng h\u1ee3p n\u00e0y, client 1 \u0111\u1ee3i v\u00e0 th\u1eed <code>SETNX</code> l\u1ea1i cho \u0111\u1ebfn khi lock \u0111\u01b0\u1ee3c th\u1ea3 b\u1edfi client kia \u0111\u00f3.</li> </ul> <p></p> <p>L\u01b0u \u00fd r\u1eb1ng ph\u1ea7n c\u00e0i \u0111\u1eb7t n\u00e0y c\u00f3 th\u1ec3 \u0111\u1ee7 t\u1ed1t v\u1edbi nhi\u1ec1u use case, nh\u01b0ng v\u1eabn sinh ra l\u1ed7i. Trong th\u1ef1c t\u1ebf, c\u00f3 r\u1ea5t nhi\u1ec1u th\u01b0 vi\u1ec7n Redis cung c\u1ea5p cho ch\u00fang ta nhi\u1ec1u ki\u1ec3u c\u00e0i \u0111\u1eb7t distributed lock ch\u1ea5t l\u01b0\u1ee3ng cao nh\u01b0 sau:</p> <p></p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#rate-limiter","title":"Rate Limiter","text":"<p>Rate Limiter l\u00e0 m\u1ed9t c\u00f4ng c\u1ee5 \u0111\u1ec3 ki\u1ec3m so\u00e1t s\u1ed1 l\u01b0\u1ee3ng request \u0111\u1ebfn v\u1edbi server trong m\u1ed9t kho\u1ea3ng th\u1eddi gian. Redis c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c d\u00f9ng nh\u01b0 m\u1ed9t rate limiter b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng c\u00e1c l\u1ec7nh t\u0103ng b\u1ed9 \u0111\u1ebfm v\u00e0 thi\u1ebft l\u1eadp th\u1eddi gian s\u1ed1ng cho c\u00e1c b\u1ed9 \u0111\u1ebfm \u0111\u00f3.</p> <p></p> <p>M\u1ed9t thu\u1eadt to\u00e1n rate limiter \u0111\u01a1n gi\u1ea3n ho\u1ea1t \u0111\u1ed9ng nh\u01b0 sau: V\u1edbi m\u1ed9t request \u0111\u1ebfn server, IP c\u1ee7a request hay user ID \u0111\u01b0\u1ee3c d\u00f9ng l\u00e0m key. S\u1ed1 request c\u1ee7a c\u00e1i key \u0111\u00f3 \u0111\u01b0\u1ee3c t\u0103ng l\u00ean nh\u1edd l\u1ec7nh <code>INCR</code> trong Redis. Bi\u1ebfn \u0111\u1ebfm hi\u1ec7n t\u1ea1i \u0111\u01b0\u1ee3c so v\u1edbi gi\u1edbi h\u1ea1n (rate limit). N\u1ebfu v\u1eabn trong gi\u1edbi h\u1ea1n, request \u0111\u01b0\u1ee3c cho ti\u1ebfp t\u1ee5c x\u1eed l\u00fd, c\u00f2n n\u1ebfu kh\u00f4ng th\u00ec request b\u1ecb t\u1eeb ch\u1ed1i.</p> <p></p> <p></p> <p>C\u00e1c key \u0111\u01b0\u1ee3c set \u0111\u1ec3 h\u1ebft h\u1ea1n sau m\u1ed9t kho\u1ea3ng th\u1eddi gian, v\u00ed d\u1ee5 nh\u01b0 m\u1ed9t ph\u00fat, \u0111\u1ec3 reset bi\u1ebfn \u0111\u1ebfm cho kho\u1ea3ng th\u1eddi gian ti\u1ebfp theo. </p> <p></p> <p>M\u1ed9t s\u1ed1 thu\u1eadt to\u00e1n rate limiter ph\u1ee9c t\u1ea1p h\u01a1n nh\u01b0 Leaky Bucket c\u0169ng c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c c\u00e0i \u0111\u1eb7t b\u1eb1ng Redis.</p> <p></p>"},{"location":"ByteByteGo/top_redis_use_cases/top_redis_use_cases/#gaming-leaderboard","title":"Gaming Leaderboard","text":"<p>V\u1edbi m\u1ed9t s\u1ed1 game v\u1eeba v\u00e0 nh\u1ecf, Redis cung c\u1ea5p kh\u1ea3 n\u0103ng \u0111\u1ec3 c\u00e1c l\u1eadp tr\u00ecnh vi\u00ean t\u1ea1o ra nhi\u1ec1u lo\u1ea1i b\u1ea3ng x\u1ebfp h\u1ea1ng kh\u00e1c nhau. Sorted Set l\u00e0 m\u1ed9t d\u1ea1ng c\u1ea5u tr\u00fac d\u1eef li\u1ec7u c\u00f3 th\u1ec3 l\u00e0m \u0111\u01b0\u1ee3c \u0111i\u1ec1u n\u00e0y. Sorted Set l\u00e0 m\u1ed9t t\u1eadp c\u00e1c ph\u1ea7n t\u1eed kh\u00e1c nhau \u0111\u00f4i m\u1ed9t, v\u1edbi m\u1ed9t tr\u1ecdng s\u1ed1 \u0111\u01b0\u1ee3c g\u00e1n cho m\u1ed7i ph\u1ea7n t\u1eed. C\u00e1c ph\u1ea7n t\u1eed \u0111\u01b0\u1ee3c s\u1eafp x\u1ebfp theo tr\u1ecdng s\u1ed1 n\u00e0y. \u0110i\u1ec1u n\u00e0y cho ph\u00e9p vi\u1ec7c l\u1ea5y nhanh c\u00e1c ph\u1ea7n t\u1eed b\u1eb1ng tr\u1ecdng s\u1ed1 trong th\u1eddi gian \\(log\\).</p> <p></p> <p></p>"},{"location":"ByteByteGo/what_happen_when_access_url/what_happen_when_access_url/","title":"Chuy\u1ec7n g\u00ec s\u1ebd x\u1ea3y ra khi ta truy c\u1eadp v\u00e0o m\u1ed9t \u0111\u01b0\u1eddng d\u1eabn (URL) tr\u00ean tr\u00ecnh duy\u1ec7t?","text":""},{"location":"ByteByteGo/what_happen_when_access_url/what_happen_when_access_url/#nguon","title":"Ngu\u1ed3n","text":"<p> What happens when you type a URL into your browser?</p>"},{"location":"ByteByteGo/what_happen_when_access_url/what_happen_when_access_url/#url-la-gi","title":"URL l\u00e0 g\u00ec?","text":"<p>URL, hay t\u00ean \u0111\u1ea7y \u0111\u1ee7 l\u00e0 Universal Resources Locator, bao g\u1ed3m 4 ph\u1ea7n. V\u00ed d\u1ee5 v\u1edbi URL sau:</p> <p></p> <p>Trong \u0111\u00f3:</p> <ul> <li>Scheme cho tr\u00ecnh duy\u1ec7t bi\u1ebft r\u1eb1ng ta s\u1ebd k\u1ebft n\u1ed1i \u0111\u1ebfn m\u1ed9t server b\u1eb1ng giao th\u1ee9c trong scheme (\u1edf \u0111\u00e2y l\u00e0 giao th\u1ee9c HTTP). M\u1ed9t scheme ph\u1ed5 bi\u1ebfn kh\u00e1c l\u00e0 HTTPS, v\u1edbi s\u1ef1 kh\u00e1c bi\u1ec7t l\u00e0 k\u1ebft n\u1ed1i \u0111\u1ebfn server s\u1ebd \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1.</li> <li>Domain l\u00e0 t\u00ean mi\u1ec1n c\u1ee7a website.</li> <li>Path v\u00e0 Resource th\u01b0\u1eddng kh\u00f4ng c\u00f3 s\u1ef1 kh\u00e1c bi\u1ec7t r\u00f5 r\u00e0ng. C\u00f3 th\u1ec3 xem ch\u00fang l\u1ea7n l\u01b0\u1ee3t l\u00e0 th\u01b0 m\u1ee5c v\u00e0 t\u1eadp tin trong m\u1ed9t \u1ed5 c\u1ee9ng b\u00ecnh th\u01b0\u1eddng. Ch\u00fang k\u1ebft h\u1ee3p v\u1edbi nhau t\u1ea1o th\u00e0nh t\u00e0i nguy\u00ean v\u00e0 ta mu\u1ed1n t\u1ea3i v\u1ec1 tr\u00ecnh duy\u1ec7t.</li> </ul>"},{"location":"ByteByteGo/what_happen_when_access_url/what_happen_when_access_url/#dns-la-gi","title":"DNS l\u00e0 g\u00ec?","text":"<p>DNS, hay t\u00ean \u0111\u1ea7y \u0111\u1ee7 l\u00e0 Domain Name System, \u0111\u01b0\u1ee3c xem nh\u01b0 cu\u1ed1n danh b\u1ea1 tr\u00ean internet. DNS c\u00f3 t\u00e1c d\u1ee5ng chuy\u1ec3n \u0111\u1ed5i t\u00ean mi\u1ec1n th\u00e0nh \u0111\u1ecba ch\u1ec9 IP gi\u00fap tr\u00ecnh duy\u1ec7t c\u00f3 th\u1ec3 x\u00e1c \u0111\u1ecbnh \u0111\u01b0\u1ee3c t\u00e0i nguy\u00ean c\u1ea7n t\u00ecm n\u1eb1m \u1edf \u0111\u00e2u tr\u00ean m\u1ea1ng internet.</p> <p>Th\u00f4ng th\u01b0\u1eddng, \u0111\u1ecba ch\u1ec9 IP \u1ee9ng v\u1edbi t\u00ean mi\u1ec1n \u0111\u01b0\u1ee3c cached l\u1ea1i ngay t\u1ea1i tr\u00ecnh duy\u1ec7t trong m\u1ed9t kho\u1ea3ng th\u1eddi gian ng\u1eafn sau khi tr\u00ecnh duy\u1ec7t truy c\u1eadp v\u00e0o m\u1ed9t URL. Cache n\u00e0y c\u0169ng hi\u1ec7n di\u1ec7n trong h\u1ec7 \u0111i\u1ec1u h\u00e0nh \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c IP nhanh h\u01a1n l\u00e0 khi ph\u1ea3i tra trong DNS.</p>"},{"location":"ByteByteGo/what_happen_when_access_url/what_happen_when_access_url/#vay-chuyen-gi-se-xay-ra-khi-truy-cap-vao-mot-uong-dan-url-tren-trinh-duyet","title":"V\u1eady chuy\u1ec7n g\u00ec s\u1ebd x\u1ea3y ra khi truy c\u1eadp v\u00e0o m\u1ed9t \u0111\u01b0\u1eddng d\u1eabn (URL) tr\u00ean tr\u00ecnh duy\u1ec7t?","text":"<p>\u0110\u1ea7u ti\u00ean, ng\u01b0\u1eddi d\u00f9ng s\u1ebd g\u00f5 URL v\u00e0o thanh \u0111\u1ecba ch\u1ec9 (Address) tr\u00ean tr\u00ecnh duy\u1ec7t.</p> <p>Sau \u0111\u00f3, tr\u00ecnh duy\u1ec7t s\u1ebd th\u1eed t\u00ecm IP \u1ee9ng v\u1edbi t\u00ean mi\u1ec1n c\u1ee7a URL trong cache c\u1ee7a n\u00f3. N\u1ebfu kh\u00f4ng t\u00ecm ra, tr\u00ecnh duy\u1ec7t s\u1ebd h\u1ecfi cache c\u1ee7a h\u1ec7 \u0111i\u1ec1u h\u00e0nh \u0111\u1ec3 l\u1ea5y \u0111\u01b0\u1ee3c \u0111\u1ecba ch\u1ec9 IP. N\u1ebfu v\u1eabn kh\u00f4ng t\u00ecm ra, ta \u0111\u1ebfn b\u01b0\u1edbc ti\u1ebfp theo.</p> <p>Tr\u00ecnh duy\u1ec7t s\u1ebd g\u1eedi truy v\u1ea5n l\u00ean DNS Resolver \u0111\u1ec3 t\u00ecm ra \u0111\u1ecba ch\u1ec9 IP. Vi\u1ec7c n\u00e0y bao g\u1ed3m m\u1ed9t chu\u1ed7i c\u00e1c y\u00eau c\u1ea7u cho \u0111\u1ebfn khi c\u00f3 \u0111\u01b0\u1ee3c \u0111\u1ecba ch\u1ec9 IP. DNS Resolver s\u1ebd t\u00ecm trong c\u00e1c DNS Server tr\u00ean internet \u0111\u1ec3 gi\u00fap tr\u00ecnh duy\u1ec7t t\u00ecm IP. L\u01b0u \u00fd l\u00e0 m\u1ed7i y\u00eau c\u1ea7u trong chu\u1ed7i c\u00e1c y\u00eau c\u1ea7u \u0111\u1ec1u \u0111\u01b0\u1ee3c cached l\u1ea1i nh\u1eb1m gi\u00fap cho DNS Resolver c\u0169ng nh\u01b0 c\u00e1c DNS Server thu\u1eadn ti\u1ec7n h\u01a1n cho nh\u1eefng l\u1ea7n t\u00ecm ki\u1ebfm ti\u1ebfp theo.</p> <p>Sau b\u01b0\u1edbc 2, gi\u1edd ta \u0111\u00e3 c\u00f3 \u0111\u1ecba ch\u1ec9 IP c\u1ee7a URL. Tr\u00ecnh duy\u1ec7t l\u00fac n\u00e0y s\u1ebd t\u1ea1o ra m\u1ed9t k\u1ebft n\u1ed1i TCP \u0111\u1ebfn server \u1ee9ng v\u1edbi \u0111\u1ecba ch\u1ec9 IP n\u00e0y. Qu\u00e1 tr\u00ecnh b\u1eaft tay gi\u1eefa tr\u00ecnh duy\u1ec7t v\u00e0 server c\u0169ng s\u1ebd x\u1ea3y ra \u1edf \u0111\u00e2y (th\u01b0\u1eddng l\u00e0 b\u1eaft tay 3 b\u01b0\u1edbc). \u0110\u1ec3 gi\u00fap cho vi\u1ec7c k\u1ebft n\u1ed1i di\u1ec5n ra nhanh h\u01a1n, c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay d\u00f9ng m\u1ed9t th\u1ee9 g\u1ecdi l\u00e0 k\u1ebft n\u1ed1i keep-alive \u0111\u1ec3 s\u1eed d\u1ee5ng l\u1ea1i k\u1ebft n\u1ed1i TCP \u0111\u00e3 \u0111\u01b0\u1ee3c t\u1ea1o nhi\u1ec1u nh\u1ea5t c\u00f3 th\u1ec3.</p> <p>N\u1ebfu giao th\u1ee9c l\u00e0 HTTPS, qu\u00e1 tr\u00ecnh k\u1ebft n\u1ed1i s\u1ebd c\u00f3 nhi\u1ec1u b\u01b0\u1edbc h\u01a1n. N\u00f3 y\u00eau c\u1ea7u m\u1ed9t qu\u00e1 tr\u00ecnh b\u1eaft tay ph\u1ee9c t\u1ea1p h\u01a1n g\u1ecdi l\u00e0 b\u1eaft tay SSL/TLS \u0111\u1ec3 t\u1ea1o ra k\u1ebft n\u1ed1i an to\u00e0n (\u0111\u00e3 \u0111\u01b0\u1ee3c m\u00e3 ho\u00e1) gi\u1eefa tr\u00ecnh duy\u1ec7t v\u00e0 server. Qu\u00e1 tr\u00ecnh b\u1eaft tay n\u00e0y t\u1ed1n kha kh\u00e1 t\u00e0i nguy\u00ean v\u00e0 tr\u00ecnh duy\u1ec7t th\u01b0\u1eddng s\u1eed d\u1ee5ng m\u1ed9t trick g\u1ecdi l\u00e0 SSL session resumption \u0111\u1ec3 ti\u1ebft ki\u1ec7m t\u00e0i nguy\u00ean.</p> <p>\u1ede b\u01b0\u1edbc 4, tr\u00ecnh duy\u1ec7t g\u1eedi HTTP request l\u00ean server v\u1edbi k\u1ebft n\u1ed1i TCP tr\u01b0\u1edbc \u0111\u00f3. HTTP l\u00e0 m\u1ed9t giao th\u1ee9c kh\u00e1 \u0111\u01a1n gi\u1ea3n. Server x\u1eed l\u00fd request v\u00e0 tr\u1ea3 v\u1ec1 response \u1edf b\u01b0\u1edbc 5. Tr\u00ecnh duy\u1ec7t nh\u1eadn response v\u00e0 render HTML content cho ch\u00fang ta.</p> <p>Ngo\u00e0i ra ta c\u00f2n c\u00f3 th\u00eam nh\u1eefng t\u00e0i nguy\u00ean kh\u00e1c \u0111\u1ec3 t\u1ea3i v\u1ec1 nh\u01b0 JS bundles hay h\u00ecnh \u1ea3nh. Tr\u00ecnh duy\u1ec7t s\u1ebd th\u1ef1c hi\u1ec7n l\u1ea1i c\u00e1c b\u01b0\u1edbc tr\u00ean \u0111\u1ec3 l\u1ea5y t\u1ea5t c\u1ea3 c\u00e1c t\u00e0i nguy\u00ean \u0111\u00f3 v\u1ec1.</p>"},{"location":"ByteByteGo/why_kafka_fast/why_kafka_fast/","title":"T\u1ea1i sao Kafka l\u1ea1i nhanh nh\u01b0 v\u1eady?","text":""},{"location":"ByteByteGo/why_kafka_fast/why_kafka_fast/#nguon","title":"Ngu\u1ed3n","text":"<p> System Design: Why is Kafka fast?</p>"},{"location":"ByteByteGo/why_kafka_fast/why_kafka_fast/#nhanh-la-nhanh-nhu-the-nao","title":"Nhanh l\u00e0 nhanh nh\u01b0 th\u1ebf n\u00e0o?","text":"<p>Kafka \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u ho\u00e1 cho th\u00f4ng l\u01b0\u1ee3ng l\u1edbn. N\u00f3 \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 di chuy\u1ec3n m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng b\u1ea3n ghi l\u1edbn trong m\u1ed9t kho\u1ea3ng th\u1eddi gian ng\u1eafn. C\u00f3 th\u1ec3 t\u01b0\u1edfng t\u01b0\u1ee3ng m\u1ed9t \u0111\u01b0\u1eddng \u1ed1ng c\u1ef1c l\u1edbn c\u00f3 n\u01b0\u1edbc ch\u1ea3y qua. \u0110\u01b0\u1eddng k\u00ednh \u1ed1ng c\u00e0ng l\u1edbn th\u00ec th\u1ec3 t\u00edch n\u01b0\u1edbc c\u00f3 th\u1ec3 \u0111i qua c\u0169ng l\u1edbn theo.</p> <p>V\u00ec v\u1eady, n\u00f3i Kafka nhanh l\u00e0 \u0111\u1ec1 c\u1eadp \u0111\u1ebfn kh\u1ea3 n\u0103ng v\u1eadn chuy\u1ec3n nhi\u1ec1u d\u1eef li\u1ec7u m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3 c\u1ee7a Kafka.</p>"},{"location":"ByteByteGo/why_kafka_fast/why_kafka_fast/#thiet-ke-cua-kafka","title":"Thi\u1ebft k\u1ebf c\u1ee7a Kafka","text":"<p>Hi\u1ec7u su\u1ea5t c\u1ee7a Kafka \u0111\u01b0\u1ee3c \u0111\u00f3ng g\u00f3p l\u1edbn b\u1edfi thi\u1ebft k\u1ebf \u0111\u1eb7c bi\u1ec7t c\u1ee7a n\u00f3. Ta s\u1ebd t\u1eadp trung v\u00e0o hai t\u00ednh ch\u1ea5t c\u1ee7a thi\u1ebft k\u1ebf n\u00e0y.</p> <p>T\u00ednh ch\u1ea5t \u0111\u1ea7u ti\u00ean l\u00e0 s\u1ef1 ph\u1ee5 thu\u1ed9c c\u1ee7a Kafka v\u00e0o I/O tu\u1ea7n t\u1ef1. M\u00e0 I/O tu\u1ea7n t\u1ef1 (sequential I/O) l\u00e0 c\u00e1i g\u00ec? Ta s\u1ebd c\u00f9ng nhau t\u00ecm hi\u1ec3u.</p> <p>C\u00f3 m\u1ed9t quan ni\u1ec7n sai l\u1ea7m ph\u1ed5 bi\u1ebfn l\u00e0 truy c\u1eadp v\u00e0o \u1ed5 \u0111\u0129a th\u00ec ch\u1eadm h\u01a1n truy c\u1eadp v\u00e0o b\u1ed9 nh\u1edb, nh\u01b0ng th\u1ef1c ra th\u00ec \u0111i\u1ec1u n\u00e0y ph\u1ea7n nhi\u1ec1u ph\u1ee5 thu\u1ed9c v\u00e0o c\u00e1c ki\u1ec3u truy c\u1eadp d\u1eef li\u1ec7u. C\u00f3 hai ki\u1ec3u nh\u01b0 v\u1eady: ng\u1eabu nhi\u00ean (random) v\u00e0 tu\u1ea7n t\u1ef1 (sequential).</p> <p>\u0110\u1ed1i v\u1edbi \u1ed5 c\u1ee9ng, n\u00f3 c\u1ea7n th\u1eddi gian \u0111\u1ec3 \u0111i\u1ec1u ch\u1ec9nh con ch\u1ea1y (arm), theo ngh\u0129a \u0111en, \u0111\u1ebfn c\u00e1c v\u1ecb tr\u00ed kh\u00e1c nhau tr\u00ean \u0111\u0129a t\u1eeb. \u0110\u00e2y l\u00e0 nguy\u00ean nh\u00e2n khi\u1ebfn truy c\u1eadp ng\u1eabu nhi\u00ean b\u1ecb ch\u1eadm. Tuy nhi\u00ean, \u0111\u1ed1i v\u1edbi truy c\u1eadp tu\u1ea7n t\u1ef1, con ch\u1ea1y kh\u00f4ng c\u1ea7n ch\u1ea1y nhi\u1ec1u nh\u01b0 th\u1ebf, n\u00ean vi\u1ec7c \u0111\u1ecdc v\u00e0 ghi t\u1eebng kh\u1ed1i d\u1eef li\u1ec7u m\u1ed9t s\u1ebd nhanh h\u01a1n nhi\u1ec1u.</p> <p></p> <p>Kafka t\u1eadn d\u1ee5ng l\u1ee3i th\u1ebf n\u00e0y b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng log ch\u1ec9 th\u00eam v\u00e0o sau (append-only log) l\u00e0 c\u1ea5u tr\u00fac d\u1eef li\u1ec7u ch\u00ednh c\u1ee7a n\u00f3. Append-only log ch\u1ec9 th\u00eam d\u1eef li\u1ec7u m\u1edbi v\u00e0o cu\u1ed1i file. Ki\u1ec3u truy c\u1eadp n\u00e0y l\u00e0 tu\u1ea7n t\u1ef1.</p> <p></p> <p>Gi\u1edd th\u00eam m\u1ed9t ch\u00fat th\u1ed1ng k\u00ea nh\u00e9. V\u1edbi ph\u1ea7n c\u1ee9ng hi\u1ec7n \u0111\u1ea1i, gi\u1ea3 s\u1eed ta c\u00f3 m\u1ed9t lo\u1ea1t c\u00e1c \u1ed5 c\u1ee9ng nh\u01b0 th\u1ebf, t\u1ed1c \u0111\u1ed9 ghi tu\u1ea7n t\u1ef1 \u0111\u1ea1t h\u00e0ng tr\u0103m MB m\u1ed7i gi\u00e2y, trong khi t\u1ed1c \u0111\u1ed9 ghi ng\u1eabu nhi\u00ean ch\u1ec9 \u0111\u01b0\u1ee3c v\u00e0i tr\u0103m KB tr\u00ean gi\u00e2y. Truy c\u1eadp tu\u1ea7n t\u1ef1 r\u00f5 r\u00e0ng l\u00e0 nhanh h\u01a1n. S\u1eed d\u1ee5ng \u1ed5 c\u1ee9ng c\u0169ng c\u00f3 l\u1ee3i th\u1ebf v\u1ec1 chi ph\u00ed. So v\u1edbi SSD, HDD c\u00f3 gi\u00e1 ch\u1ec9 b\u1eb1ng m\u1ed9t ph\u1ea7n ba nh\u01b0ng dung l\u01b0\u1ee3ng th\u00ec g\u1ea5p kho\u1ea3ng ba l\u1ea7n. </p> <p></p> <p></p> <p>Cung c\u1ea5p cho Kafka m\u1ed9t l\u01b0\u1ee3ng l\u1edbn dung l\u01b0\u1ee3ng gi\u00e1 r\u1ebb m\u00e0 kh\u00f4ng ph\u1ea3i \u0111\u00e1nh \u0111\u1ed5i v\u1ec1 m\u1eb7t hi\u1ec7u n\u0103ng ngh\u0129a l\u00e0 Kafka c\u00f3 th\u1ec3 l\u01b0u gi\u1eef th\u00f4ng tin m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3 v\u1ec1 m\u1eb7t chi ph\u00ed trong th\u1eddi gian d\u00e0i. Tr\u01b0\u1edbc Kafka th\u00ec h\u1ea7u nh\u01b0 \u00edt ng\u01b0\u1eddi d\u00e1m ngh\u0129 t\u1edbi \u0111i\u1ec1u n\u00e0y.</p> <p>T\u00ednh ch\u1ea5t th\u1ee9 hai c\u1ee7a thi\u1ebft k\u1ebf Kafka \u0111\u00f3 l\u00e0 vi\u1ec7c t\u1eadp trung v\u00e0o hi\u1ec7u qu\u1ea3. Kafka di chuy\u1ec3n r\u1ea5t nhi\u1ec1u d\u1eef li\u1ec7u t\u1eeb m\u1ea1ng sang \u1ed5 \u0111\u0129a, v\u00e0 t\u1eeb \u1ed5 \u0111\u0129a l\u00ean m\u1ea1ng. \u0110i\u1ec1u quan tr\u1ecdng \u1edf \u0111\u00e2y l\u00e0 ph\u1ea3i b\u1ecf \u0111i nh\u1eefng b\u1ea3n copy th\u1eeba khi di chuy\u1ec3n gi\u1eefa c\u00e1c trang (trong \u1ed5 \u0111\u0129a) v\u00e0 c\u00e1c trang d\u1eef li\u1ec7u gi\u1eefa \u1ed5 \u0111\u0129a v\u00e0 m\u1ea1ng.</p> <p>\u0110\u00e2y l\u00e0 l\u00fac nguy\u00ean t\u1eafc kh\u00f4ng sao ch\u00e9p (zero-copy principle) \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng. C\u00e1c h\u1ec7 \u0111i\u1ec1u h\u00e0nh unix hi\u1ec7n \u0111\u1ea1i \u0111\u01b0\u1ee3c t\u1ed1i \u01b0u ho\u00e1 cao \u0111\u1ec3 truy\u1ec1n d\u1eef li\u1ec7u t\u1eeb \u0111\u0129a l\u00ean m\u1ea1ng m\u00e0 kh\u00f4ng ph\u1ea3i sao ch\u00e9p d\u1eef li\u1ec7u qu\u00e1 nhi\u1ec1u. Tr\u01b0\u1edbc ti\u00ean ta h\u00e3y xem c\u00e1ch Kafka g\u1eedi m\u1ed9t trang d\u1eef li\u1ec7u t\u1eeb \u0111\u0129a \u0111\u1ebfn consumer khi zero-copy kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng. D\u1eef li\u1ec7u s\u1ebd \u0111\u01b0\u1ee3c load t\u1eeb \u0111\u0129a l\u00ean cache c\u1ee7a h\u1ec7 \u0111i\u1ec1u h\u00e0nh.</p> <p>Ti\u1ebfp theo, d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c sao ch\u00e9p t\u1eeb cache h\u1ec7 \u0111i\u1ec1u h\u00e0nh \u0111\u1ebfn \u1ee9ng d\u1ee5ng Kafka. Sau \u0111\u00f3 d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c sao ch\u00e9p t\u1eeb Kafka v\u00e0o b\u1ed9 \u0111\u1ec7m socket. R\u1ed3i d\u1eef li\u1ec7u l\u1ea1i \u0111\u01b0\u1ee3c sao ch\u00e9p t\u1eeb b\u1ed9 \u0111\u1ec7m socket \u0111\u1ebfn b\u1ed9 \u0111\u1ec7m NIC (network interface card). Cu\u1ed1i c\u00f9ng th\u00ec d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c g\u1eedi l\u00ean m\u1ea1ng \u0111\u1ebfn consumer.</p> <p>R\u00f5 r\u00e0ng l\u00e0 nh\u01b0 v\u1eady kh\u00f4ng \u1ed5n. C\u00f3 4 b\u1ea3n sao d\u1eef li\u1ec7u v\u00e0 2 system call. Gi\u1edd so v\u1edbi zero-copy xem. B\u01b0\u1edbc 1 gi\u1eef nghuy\u00ean, d\u1eef li\u1ec7u s\u1ebd \u0111\u01b0\u1ee3c load t\u1eeb \u0111\u0129a l\u00ean cache c\u1ee7a h\u1ec7 \u0111i\u1ec1u h\u00e0nh.</p> <p>V\u1edbi zero-copy, \u1ee9ng d\u1ee5ng Kafka d\u00f9ng m\u1ed9t system call g\u1ecdi l\u00e0 <code>sendfile()</code> \u0111\u1ec3 n\u00f3i cho h\u1ec7 \u0111i\u1ec1u h\u00e0nh sao ch\u00e9p th\u1eb3ng d\u1eef li\u1ec7u t\u1eeb cache h\u1ec7 \u0111i\u1ec1u h\u00e0nh sang b\u1ed9 \u0111\u1ec7m NIC. V\u1edbi c\u00e1ch n\u00e0y, b\u1ea3n sao duy nh\u1ea5t l\u00e0 t\u1eeb cache h\u1ec7 \u0111i\u1ec1u h\u00e0nh sang b\u1ed9 \u0111\u1ec7m NIC. V\u1edbi m\u1ed9t network card hi\u1ec7n \u0111\u1ea1i, sao ch\u00e9p \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi DMA (direct memory access - truy c\u1eadp b\u1ed9 nh\u1edb tr\u1ef1c ti\u1ebfp). Khi d\u00f9ng DMA, CPU kh\u00f4ng tham gia v\u00e0o nhi\u1ec7m v\u1ee5 n\u00e0y, khi\u1ebfn cho n\u00f3 c\u00f2n hi\u1ec7u qu\u1ea3 h\u01a1n.</p> <p></p> <p>T\u00f3m l\u1ea1i, I/O tu\u1ea7n t\u1ef1 v\u00e0 nguy\u00ean t\u1eafc kh\u00f4ng sao ch\u00e9p l\u00e0 n\u1ec1n t\u1ea3ng cho hi\u1ec7u su\u1ea5t cao c\u1ee7a Kafka. Kafka s\u1eed d\u1ee5ng c\u00e1c k\u0129 thu\u1eadt kh\u00e1c \u0111\u1ec3 t\u1ed1i \u0111a ho\u00e1 hi\u1ec7u qu\u1ea3 t\u1eeb ph\u1ea7n c\u1ee9ng, nh\u01b0ng hai t\u00ednh ch\u1ea5t n\u00e0y v\u1eabn l\u00e0 quan tr\u1ecdng nh\u1ea5t.</p>"},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/","title":"V\u00ec sao Redis l\u1ea1i nhanh?","text":""},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/#nguon","title":"Ngu\u1ed3n","text":"<p> System Design: Why is single-threaded Redis so fast?</p>"},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/#redis-la-gi","title":"Redis l\u00e0 g\u00ec?","text":"<p>Redis l\u00e0 m\u1ed9t d\u1ea1ng c\u01a1 s\u1edf d\u1eef li\u1ec7u l\u01b0u tr\u1eef data trong b\u1ed9 nh\u1edb. N\u00f3 th\u01b0\u1eddng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng nh\u01b0 l\u00e0 cache. N\u00f3 h\u1ed7 tr\u1ee3 nhi\u1ec1u d\u1ea1ng c\u1ea5u tr\u00fac d\u1eef li\u1ec7u kh\u00e1c nhau, nh\u01b0 string, hash, list, set v\u00e0 sorted set. Redis r\u1ea5t ch\u1eafc ch\u1eafn, d\u1ec5 s\u1eed d\u1ee5ng v\u00e0 c\u00f3 t\u1ed1c \u0111\u1ed9 r\u1ea5t t\u1ed1t. C\u00e1c y\u1ebfu t\u1ed1 n\u00e0y l\u00fd gi\u1ea3i v\u00ec sao n\u00f3 l\u00e0 m\u1ed9t trong nh\u1eefng lo\u1ea1i c\u01a1 s\u1edf d\u1eef li\u1ec7u \u0111\u01b0\u1ee3c y\u00eau th\u00edch nh\u1ea5t, theo kh\u1ea3o s\u00e1t th\u01b0\u1eddng ni\u00ean tr\u00ean Stack Overflow.</p>"},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/#co-so-du-lieu-in-memory","title":"C\u01a1 s\u1edf d\u1eef li\u1ec7u in-memory","text":"<p>L\u00fd do \u0111\u1ea7u ti\u00ean m\u00e0 Redis nhanh l\u00e0 v\u00ec n\u00f3 l\u00e0 m\u1ed9t c\u01a1 s\u1edf d\u1eef li\u1ec7u in-memory, t\u1ee9c l\u00e0 d\u00f9ng RAM, ch\u1ee9 kh\u00f4ng ph\u1ea3i \u1ed5 c\u1ee9ng. </p> <p></p> <p>Truy c\u1eadp v\u00e0o b\u1ed9 nh\u1edb nhanh h\u01a1n r\u1ea5t r\u1ea5t nhi\u1ec1u l\u1ea7n so v\u1edbi truy c\u1eadp ng\u1eabu nhi\u00ean tr\u00ean \u0111\u0129a. Vi\u1ec7c truy c\u1eadp v\u00e0o b\u1ed9 nh\u1edb mang l\u1ea1i th\u00f4ng l\u01b0\u1ee3ng \u0111\u1ecdc v\u00e0 ghi cao c\u00f9ng v\u1edbi \u0111\u1ed9 tr\u1ec5 th\u1ea5p. \u0110\u1ed5i l\u1ea1i th\u00ec d\u1eef li\u1ec7u kh\u00f4ng th\u1ec3 l\u1edbn h\u01a1n b\u1ed9 nh\u1edb.</p> <p></p> <p>V\u1ec1 m\u1eb7t c\u00e0i \u0111\u1eb7t, c\u00e1c c\u1ea5u tr\u00fac d\u1eef li\u1ec7u trong b\u1ed9 nh\u1edb d\u1ec5 c\u00e0i \u0111\u1eb7t h\u01a1n nhi\u1ec1u so v\u1edbi c\u00e0i tr\u00ean \u0111\u0129a. \u0110i\u1ec1u n\u00e0y gi\u00fap code \u0111\u01a1n gi\u1ea3n v\u00e0 g\u00f3p ph\u1ea7n v\u00e0o s\u1ef1 \u1ed5n \u0111\u1ecbnh v\u1eefng ch\u1eafc c\u1ee7a Redis.</p> <p></p>"},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/#on-luong","title":"\u0110\u01a1n lu\u1ed3ng","text":"<p>Redis ch\u1ee7 y\u1ebfu l\u00e0 \u0111\u01a1n lu\u1ed3ng. V\u00ec sao m\u1ed9t thi\u1ebft k\u1ebf \u0111\u01a1n lu\u1ed3ng l\u1ea1i cho ta hi\u1ec7u su\u1ea5t cao nh\u01b0 v\u1eady? T\u1eadn d\u1ee5ng h\u1ebft c\u00e1c core trong CPU v\u1edbi \u0111a lu\u1ed3ng kh\u00f4ng ph\u1ea3i nhanh h\u01a1n sao?</p> <p>C\u00e1c \u1ee9ng d\u1ee5ng \u0111a lu\u1ed3ng y\u00eau c\u1ea7u lock ho\u1eb7c c\u00e1c c\u01a1 ch\u1ebf \u0111\u1ed3ng b\u1ed9 ho\u00e1 kh\u00e1c. Ch\u00fang n\u1ed5i ti\u1ebfng l\u00e0 kh\u00f3 gi\u1ea3i th\u00edch. Trong nhi\u1ec1u \u1ee9ng d\u1ee5ng, th\u00eam ph\u1ee9c t\u1ea1p ch\u1ec9 t\u1ed5 g\u00e2y th\u00eam l\u1ed7i v\u00e0 m\u1ea5t \u0111i s\u1ef1 \u1ed5n \u0111\u1ecbnh, g\u00e2y kh\u00f3 kh\u0103n cho vi\u1ec7c duy tr\u00ec hi\u1ec7u su\u1ea5t cao.</p> <p></p> <p>Trong tr\u01b0\u1eddng h\u1ee3p c\u1ee7a Redis, code \u0111\u01a1n lu\u1ed3ng r\u1ea5t d\u1ec5 hi\u1ec3u. Nh\u01b0ng m\u00e0 l\u00e0m th\u1ebf n\u00e0o \u0111\u1ec3 code \u0111\u01a1n lu\u1ed3ng n\u00e0y c\u00f3 th\u1ec3 x\u1eed l\u00fd h\u00e0ng ng\u00e0n request v\u00e0 response c\u00f9ng l\u00fac? Lu\u1ed3ng kh\u00f4ng b\u1ecb block \u0111\u1ec3 x\u1eed l\u00fd t\u1eebng request m\u1ed9t \u00e0? \u0110\u00e2y l\u00e0 l\u00fac I/O multiplexing ph\u00e1t huy t\u00e1c d\u1ee5ng. V\u1edbi I/O multiplexing, h\u1ec7 \u0111i\u1ec1u h\u00e0nh cho ph\u00e9p m\u1ed9t lu\u1ed3ng c\u00f3 th\u1ec3 \u0111\u1ee3i c\u00f9ng l\u00fac tr\u00ean nhi\u1ec1u k\u1ebft n\u1ed1i socket. Th\u00f4ng th\u01b0\u1eddng th\u00ec \u0111i\u1ec1u n\u00e0y \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n b\u1edfi c\u00e1c system call nh\u01b0 <code>select</code> hay <code>poll</code>. C\u00e1c system call n\u00e0y kh\u00f4ng hi\u1ec7u qu\u1ea3 l\u1eafm khi c\u00f3 h\u00e0ng ng\u00e0n k\u1ebft n\u1ed1i.</p> <p></p> <p>Tr\u00ean linux, <code>epoll</code> l\u00e0 m\u1ed9t bi\u1ebfn th\u1ec3 hi\u1ec7u qu\u1ea3 c\u1ee7a I/O multiplexing gi\u00fap h\u1ed7 tr\u1ee3 h\u00e0ng ng\u00e0n k\u1ebft n\u1ed1i c\u00f9ng l\u00fac. M\u1ed9t nh\u01b0\u1ee3c \u0111i\u1ec3m c\u1ee7a thi\u1ebft k\u1ebf \u0111\u01a1n lu\u1ed3ng l\u00e0 n\u00f3 kh\u00f4ng t\u1eadn d\u1ee5ng \u0111\u01b0\u1ee3c t\u1ea5t c\u1ea3 c\u00e1c core c\u1ee7a CPU trong ph\u1ea7n c\u1ee9ng ng\u00e0y nay. Kh\u00f4ng hi\u1ebfm c\u00e1c tr\u01b0\u1eddng h\u1ee3p c\u00f3 nhi\u1ec1u instance Redis ch\u1ea1y tr\u00ean c\u00f9ng m\u1ed9t m\u00e1y ch\u1ee7 \u0111\u1ec3 t\u1eadn d\u1ee5ng nhi\u1ec1u core CPU h\u01a1n.</p>"},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/#cac-cau-truc-du-lieu-hieu-qua","title":"C\u00e1c c\u1ea5u tr\u00fac d\u1eef li\u1ec7u hi\u1ec7u qu\u1ea3","text":"<p>V\u00ec Redis l\u00e0 c\u01a1 s\u1edf d\u1eef li\u1ec7u in-memory, n\u00f3 c\u00f3 th\u1ec3 t\u1eadn d\u1ee5ng m\u1ed9t s\u1ed1 c\u1ea5u tr\u00fac d\u1eef li\u1ec7u b\u1eadc th\u1ea5p hi\u1ec7u qu\u1ea3 m\u00e0 kh\u00f4ng ph\u1ea3i lo l\u1eafng l\u00e0m sao \u0111\u1ec3 l\u01b0u ch\u00fang v\u00e0o \u0111\u0129a m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3. Danh s\u00e1ch li\u00ean k\u1ebft, skip list, hash table l\u00e0 m\u1ed9t s\u1ed1 v\u00ed d\u1ee5.</p> <p></p>"},{"location":"ByteByteGo/why_redis_fast/why_redis_fast/#ket","title":"K\u1ebft","text":"<p>Ng\u00e0y nay th\u00ec ta c\u00f3 th\u1ec3 th\u1ea5y m\u1ed9t s\u1ed1 \u1ee9ng d\u1ee5ng c\u00e0i \u0111\u1eb7t t\u01b0\u01a1ng th\u00edch v\u1edbi Redis \u0111\u1ec3 \u0111\u1ea1t \u0111\u01b0\u1ee3c hi\u1ec7u su\u1ea5t c\u00f2n cao h\u01a1n n\u1eefa t\u1eeb m\u1ed9t m\u00e1y ch\u1ee7. V\u1edbi t\u00ednh d\u1ec5 s\u1eed d\u1ee5ng, t\u00ednh \u1ed5n \u0111\u1ecbnh v\u1eefng ch\u1eafc v\u00e0 hi\u1ec7u su\u1ea5t cao c\u1ee7a Redis, n\u00f3 v\u1eabn cung c\u1ea5p m\u1ed9t gi\u1ea3i ph\u00e1p m\u1ea1nh m\u1ebd v\u1ec1 m\u1eb7t hi\u1ec7u su\u1ea5t v\u00e0 \u0111\u1ed9 \u1ed5n \u0111\u1ecbnh cho th\u1ecb tr\u01b0\u1eddng.</p>"},{"location":"ByteByteGo/why_system_design_interview_important/why_system_design_interview_important/","title":"V\u00ec sao ph\u1ecfng v\u1ea5n System Design l\u1ea1i quan tr\u1ecdng?","text":""},{"location":"ByteByteGo/why_system_design_interview_important/why_system_design_interview_important/#nguon","title":"Ngu\u1ed3n","text":"<p> Why Is System Design Interview Important?</p>"},{"location":"ByteByteGo/why_system_design_interview_important/why_system_design_interview_important/#phong-van-system-design-la-gi","title":"Ph\u1ecfng v\u1ea5n System Design l\u00e0 g\u00ec?","text":"<p>Ph\u1ecfng v\u1ea5n v\u1ec1 System Design (thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng) l\u00e0 m\u1ed9t ph\u1ea7n quan tr\u1ecdng trong qu\u00e1 tr\u00ecnh tuy\u1ec3n d\u1ee5ng k\u1ef9 s\u01b0 ph\u1ea7n m\u1ec1m, \u0111\u1eb7c bi\u1ec7t l\u00e0 t\u1ea1i c\u00e1c c\u00f4ng ty c\u00f4ng ngh\u1ec7 l\u1edbn.</p> <p>X\u00e2y d\u1ef1ng ph\u1ea7n m\u1ec1m l\u00e0 m\u1ed9t qu\u00e1 tr\u00ecnh t\u1ed1n k\u00e9m. C\u00e1c c\u00f4ng ty n\u00e0y c\u1ea7n k\u1ef9 s\u01b0 c\u00f3 kinh nghi\u1ec7m c\u00f9ng v\u1edbi k\u1ef9 n\u0103ng m\u1ea1nh v\u1ec1 thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng. \u0110i\u1ec1u n\u00e0y l\u00e0m t\u0103ng kh\u1ea3 n\u0103ng h\u1ecd c\u00f3 th\u1ec3 b\u1eaft tay v\u00e0o thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng ngay khi b\u1eaft \u0111\u1ea7u l\u00e0m vi\u1ec7c, v\u00e0 c\u00e1c cu\u1ed9c ph\u1ecfng v\u1ea5n System Design l\u00e0 ph\u01b0\u01a1ng ph\u00e1p ch\u1ee7 y\u1ebfu \u0111\u1ec3 \u0111\u00e1nh gi\u00e1 nh\u1eefng k\u1ef9 n\u0103ng \u0111\u00f3.</p> <p>C\u00e1c cu\u1ed9c ph\u1ecfng v\u1ea5n System Design \u0111\u01b0\u1ee3c coi tr\u1ecdng h\u01a1n nhi\u1ec1u \u0111\u1ed1i v\u1edbi c\u00e1c k\u1ef9 s\u01b0 c\u1ea5p cao. V\u1edbi h\u1ea7u h\u1ebft c\u00e1c c\u00f4ng ty l\u1edbn, c\u00e1c v\u1ecb tr\u00ed staff (c\u1ea5p cao) y\u00eau c\u1ea7u nhi\u1ec1u v\u00f2ng System Design. C\u0169ng h\u1ee3p l\u00fd th\u00f4i, c\u00e0ng nhi\u1ec1u kinh nghi\u1ec7m ph\u00e1t tri\u1ec3n ph\u1ea7n m\u1ec1m, ta c\u00e0ng c\u1ea7n k\u1ef9 n\u0103ng thi\u1ebft k\u1ebf \u0111\u1ec3 l\u00e0m vi\u1ec7c. N\u00f3i c\u00e1ch kh\u00e1c, c\u00e1ch ta th\u1ec3 hi\u1ec7n trong c\u00e1c v\u00f2ng System Design s\u1ebd \u1ea3nh h\u01b0\u1edfng l\u1edbn \u0111\u1ebfn level v\u00e0 l\u01b0\u01a1ng c\u1ee7a b\u1ea1n khi \u0111\u01b0\u1ee3c tuy\u1ec3n d\u1ee5ng.</p>"},{"location":"ByteByteGo/why_system_design_interview_important/why_system_design_interview_important/#cac-cong-ty-coi-trong-ieu-gi-trong-cac-vong-system-design","title":"C\u00e1c c\u00f4ng ty coi tr\u1ecdng \u0111i\u1ec1u g\u00ec trong c\u00e1c v\u00f2ng System Design?","text":"<p>\u0110\u00f3 l\u00e0 c\u00e1ch ta gi\u1ea3i quy\u1ebft v\u1ea5n \u0111\u1ec1 v\u00e0 c\u00e1ch ta ngh\u0129 v\u1ec1 vi\u1ec7c thi\u1ebft k\u1ebf c\u00e1c h\u1ec7 th\u1ed1ng quy m\u00f4 l\u1edbn. </p> <ul> <li>Ng\u01b0\u1eddi ph\u1ecfng v\u1ea5n mu\u1ed1n xem ta c\u00f3 th\u1ec3 \u0111\u01b0a ra c\u00e1c quy\u1ebft \u0111\u1ecbnh v\u00e0 \u0111\u01b0a ra l\u00fd do cho c\u00e1c s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i gi\u1eefa c\u00e1c tu\u1ef3 ch\u1ecdn thi\u1ebft k\u1ebf kh\u00e1c nhau trong khi c\u00e2n b\u1eb1ng c\u00e1c r\u00e0ng bu\u1ed9c kh\u00e1c nhau c\u1ee7a h\u1ec7 th\u1ed1ng hay kh\u00f4ng. </li> <li>Ng\u01b0\u1eddi ta s\u1ebd mu\u1ed1n xem l\u00e0 ta c\u00f3 th\u1ec3 truy\u1ec1n \u0111\u1ea1t \u00fd t\u01b0\u1edfng c\u1ee7a b\u1ea3n th\u00e2n m\u1ed9t c\u00e1ch r\u00f5 r\u00e0ng hay kh\u00f4ng. </li> <li>Ng\u01b0\u1eddi ta mu\u1ed1n xem l\u00e0 ta c\u00f3 th\u1ec3 l\u00e0m vi\u1ec7c t\u1ed1t trong team hay kh\u00f4ng. </li> </ul>"},{"location":"ByteByteGo/why_system_design_interview_important/why_system_design_interview_important/#nen-va-khong-nen-lam-khi-phong-van","title":"N\u00ean v\u00e0 kh\u00f4ng n\u00ean l\u00e0m khi ph\u1ecfng v\u1ea5n","text":"<p>V\u1edbi nh\u1eefng y\u1ebfu t\u1ed1 \u0111\u00f3, sau \u0111\u00e2y l\u00e0 nh\u1eefng \u0111i\u1ec1u n\u00ean v\u00e0 kh\u00f4ng n\u00ean l\u00e0m trong v\u00f2ng System Design. </p> <ul> <li>N\u00ean hi\u1ec3u b\u00e0i to\u00e1n v\u00e0 c\u00e1c y\u00eau c\u1ea7u tr\u01b0\u1edbc khi thi\u1ebft k\u1ebf: Th\u00f4ng th\u01b0\u1eddng, c\u00e1c c\u00e2u h\u1ecfi s\u1ebd r\u1ea5t m\u01a1 h\u1ed3, h\u00e3y l\u00e0m r\u00f5 nh\u1eefng y\u00eau c\u1ea7u c\u1ee7a b\u00e0i to\u00e1n b\u1eb1ng c\u00e1ch h\u1ecfi ng\u01b0\u1eddi ph\u1ecfng v\u1ea5n. </li> <li>Kh\u00f4ng n\u00ean \u0111\u01b0a ra gi\u1ea3i ph\u00e1p ngay m\u00e0 ch\u01b0a hi\u1ec3u h\u1ebft b\u00e0i to\u00e1n. </li> <li>N\u00ean c\u00e2n nh\u1eafc nhi\u1ec1u c\u00e1ch thi\u1ebft k\u1ebf v\u00e0 n\u00f3i ra r\u00f5 r\u00e0ng s\u1ef1 \u0111\u00e1nh \u0111\u1ed5i gi\u1eefa ch\u00fang. </li> <li>N\u00ean c\u00e2n nh\u1eafc t\u00ednh m\u1edf r\u1ed9ng, \u0111\u1ed9 tr\u1ec5 v\u00e0 c\u00e1c y\u00eau c\u1ea7u phi ch\u1ee9c n\u0103ng kh\u00e1c. C\u00e0ng l\u00ean level cao, b\u1ea1n c\u00e0ng c\u1ea7n ph\u1ea3i quan t\u00e2m \u0111\u1ebfn c\u00e1c kh\u00eda c\u1ea1nh phi ch\u1ee9c n\u0103ng khi thi\u1ebft k\u1ebf h\u1ec7 th\u1ed1ng. </li> <li>Kh\u00f4ng n\u00ean th\u00eam nh\u1eefng s\u1ef1 ph\u1ee9c t\u1ea1p kh\u00f4ng c\u1ea7n thi\u1ebft v\u00e0o thi\u1ebft k\u1ebf. H\u00e3y giao ti\u1ebfp r\u00f5 r\u00e0ng v\u00e0 gi\u1ea3i th\u00edch nh\u1eefng l\u00fd do cho c\u00e1c quy\u1ebft \u0111\u1ecbnh thi\u1ebft k\u1ebf c\u1ee7a b\u1ea1n.</li> </ul> <p>Ch\u00fac may m\u1eafn!</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/","title":"B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 1)","text":""},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#nguon","title":"Ngu\u1ed3n","text":"<p>Inside look at modern web browser (part 1) - Chrome Developers Blog</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#cpu-gpu-bo-nho-va-kien-truc-a-tien-trinh","title":"CPU, GPU, b\u1ed9 nh\u1edb, v\u00e0 ki\u1ebfn tr\u00fac \u0111a ti\u1ebfn tr\u00ecnh","text":"<p>Trong series 4 ph\u1ea7n n\u00e0y, ta s\u1ebd \u0111i s\u00e2u v\u00e0o tr\u00ecnh duy\u1ec7t Chrome t\u1eeb ki\u1ebfn tr\u00fac b\u1eadc cao \u0111\u1ebfn c\u00e1c chi ti\u1ebft c\u1ee7a qu\u00e1 tr\u00ecnh render (k\u1ebft xu\u1ea5t). N\u1ebfu b\u1ea1n t\u1eebng th\u1eafc m\u1eafc l\u00e0m sao tr\u00ecnh duy\u1ec7t bi\u1ebfn code c\u1ee7a b\u1ea1n th\u00e0nh m\u1ed9t trang web, ho\u1eb7c t\u1ea1i sao m\u1ed9t k\u1ef9 thu\u1eadt c\u1ee5 th\u1ec3 n\u00e0o \u0111\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c d\u00f9ng \u0111\u1ec3 c\u1ea3i thi\u1ec7n hi\u1ec7u su\u1ea5t, th\u00ec series n\u00e0y l\u00e0 d\u00e0nh cho b\u1ea1n.</p> <p>Trong ph\u1ea7n 1 c\u1ee7a series n\u00e0y, ta s\u1ebd xem x\u00e9t \u0111\u1ebfn thu\u1eadt ng\u1eef core computing (\u0111i\u1ec7n to\u00e1n l\u00f5i) v\u00e0 ki\u1ebfn tr\u00fac \u0111a ti\u1ebfn tr\u00ecnh c\u1ee7a Chrome.</p> <p>L\u01b0u \u00fd: Vui l\u00f2ng b\u1ea5m v\u00e0o h\u00ecnh \u1ea3nh \u0111\u1ec3 xem ch\u00fa th\u00edch c\u1ee7a h\u00ecnh \u1ea3nh \u0111\u00f3.</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#nhan-may-tinh-chua-cpu-va-gpu","title":"Nh\u00e2n m\u00e1y t\u00ednh ch\u1ee9a CPU v\u00e0 GPU","text":"<p>\u0110\u1ec3 hi\u1ec3u m\u00f4i tr\u01b0\u1eddng m\u00e0 tr\u00ecnh duy\u1ec7t s\u1ebd ch\u1ea1y, ta c\u1ea7n hi\u1ec3u m\u1ed9t s\u1ed1 th\u00e0nh ph\u1ea7n trong m\u00e1y t\u00ednh tr\u01b0\u1edbc \u0111\u00e3.</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#cpu","title":"CPU","text":"<p>\u0110\u1ea7u ti\u00ean l\u00e0 CPU (Central Processing Unit - \u0111\u01a1n v\u1ecb x\u1eed l\u00fd trung t\u00e2m). CPU c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c xem nh\u01b0 n\u00e3o b\u1ed9 c\u1ee7a m\u00e1y t\u00ednh. M\u1ed9t nh\u00e2n CPU, nh\u01b0 trong h\u00ecnh l\u00e0 m\u1ed9t ki\u1ec3u nh\u00e2n vi\u00ean v\u0103n ph\u00f2ng, c\u00f3 th\u1ec3 x\u1eed l\u00fd nhi\u1ec1u t\u00e1c v\u1ee5 l\u1ea7n l\u01b0\u1ee3t. N\u00f3 c\u00f3 th\u1ec3 x\u1eed l\u00fd m\u1ecdi th\u1ee9 t\u1eeb to\u00e1n cho \u0111\u1ebfn m\u1ef9 thu\u1eadt. Trong qu\u00e1 kh\u1ee9, h\u1ea7u h\u1ebft c\u00e1c CPU l\u00e0 m\u1ed9t chip \u0111\u01a1n. M\u1ed9t core gi\u1ed1ng nh\u01b0 m\u1ed9t CPU kh\u00e1c \u1edf trong c\u00f9ng m\u1ed9t con ch\u1ecbp. Trong ph\u1ea7n c\u1ee9ng hi\u1ec7n \u0111\u1ea1i, ta th\u01b0\u1eddng c\u00f3 nhi\u1ec1u h\u01a1n m\u1ed9t core, mang l\u1ea1i nhi\u1ec1u s\u1ee9c m\u1ea1nh t\u00ednh to\u00e1n h\u01a1n cho \u0111i\u1ec7n tho\u1ea1i v\u00e0 laptop c\u1ee7a b\u1ea1n.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#gpu","title":"GPU","text":"<p>GPU (Graphics Processing Unit - \u0111\u01a1n v\u1ecb x\u1eed l\u00fd \u0111\u1ed3 ho\u1ea1) l\u00e0 m\u1ed9t ph\u1ea7n kh\u00e1c c\u1ee7a m\u00e1y t\u00ednh. Kh\u00e1c v\u1edbi CPU, GPU x\u1eed l\u00fd c\u00e1c t\u00e1c v\u1ee5 \u0111\u01a1n gi\u1ea3n nh\u01b0ng tr\u00ean nhi\u1ec1u core m\u1ed9t l\u1ea7n. Gi\u1ed1ng nh\u01b0 t\u00ean g\u1ecdi th\u00ec ban \u0111\u1ea7u n\u00f3 \u0111\u01b0\u1ee3c ph\u00e1t tri\u1ec3n \u0111\u1ec3 x\u1eed l\u00fd \u0111\u1ed3 ho\u1ea1. \u0110\u00e2y l\u00e0 l\u00fd do v\u00ec sao m\u00e0 trong c\u00e1c tr\u01b0\u1eddng h\u1ee3p \"d\u00f9ng GPU\" hay \"\u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 b\u1edfi GPU\" th\u01b0\u1eddng \u0111i li\u1ec1n v\u1edbi render nhanh v\u00e0 t\u01b0\u01a1ng t\u00e1c m\u01b0\u1ee3t m\u00e0. Trong nh\u1eefng n\u0103m g\u1ea7n \u0111\u00e2y, v\u1edbi \u0111i\u1ec7n to\u00e1n \u0111\u01b0\u1ee3c GPU t\u0103ng t\u1ed1c, ng\u00e0y c\u00e0ng c\u00f3 th\u1ec3 th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c nhi\u1ec1u t\u00ednh to\u00e1n h\u01a1n ch\u1ec9 tr\u00ean GPU.</p> <p></p> <p>Khi b\u1ea1n kh\u1edfi \u0111\u1ed9ng m\u1ed9t \u1ee9ng d\u1ee5ng tr\u00ean m\u00e1y t\u00ednh ho\u1eb7c \u0111i\u1ec7n tho\u1ea1i, CPU v\u00e0 GPU l\u00e0 nh\u1eefng th\u1ee9 ch\u00ednh y\u1ebfu c\u1ee7a \u1ee9ng d\u1ee5ng. Th\u00f4ng th\u01b0\u1eddng, c\u00e1c \u1ee9ng d\u1ee5ng ch\u1ea1y tr\u00ean CPU v\u00e0 GPU s\u1eed d\u1ee5ng c\u00e1c c\u01a1 ch\u1ebf do h\u1ec7 \u0111i\u1ec1u h\u00e0nh cung c\u1ea5p.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#khoi-chay-chuong-trinh-tren-process-va-thread","title":"Kh\u1edfi ch\u1ea1y ch\u01b0\u01a1ng tr\u00ecnh tr\u00ean Process v\u00e0 Thread","text":"<p>M\u1ed9t kh\u00e1i ni\u1ec7m n\u1eefa c\u1ea7n n\u1eafm tr\u01b0\u1edbc khi \u0111i s\u00e2u v\u00e0o ki\u1ebfn tr\u00fac tr\u00ecnh duy\u1ec7t l\u00e0 Process v\u00e0 Thread. M\u1ed9t process c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c xem nh\u01b0 m\u1ed9t ch\u01b0\u01a1ng tr\u00ecnh th\u1ef1c thi c\u1ee7a \u1ee9ng d\u1ee5ng. M\u1ed9t thread l\u00e0 th\u1ee9 n\u1eb1m b\u00ean trong process v\u00e0 th\u1ef1c thi b\u1ea5t k\u1ef3 ph\u1ea7n n\u00e0o trong ch\u01b0\u01a1ng tr\u00ecnh c\u1ee7a process c\u1ee7a n\u00f3.</p> <p></p> <p>Khi b\u1ea1n kh\u1edfi \u0111\u1ed9ng m\u1ed9t \u1ee9ng d\u1ee5ng, m\u1ed9t process s\u1ebd \u0111\u01b0\u1ee3c t\u1ea1o ra. Ch\u01b0\u01a1ng tr\u00ecnh c\u00f3 th\u1ec3 t\u1ea1o c\u00e1c thread \u0111\u1ec3 gi\u00fap ch\u01b0\u01a1ng tr\u00ecnh ho\u1ea1t \u0111\u1ed9ng, nh\u01b0ng kh\u00f4ng b\u1eaft bu\u1ed9c. H\u1ec7 \u0111i\u1ec1u h\u00e0nh cung c\u1ea5p cho process m\u1ed9t kh\u1ed1i b\u1ed9 nh\u1edb \u0111\u1ec3 ho\u1ea1t \u0111\u1ed9ng v\u00e0 t\u1ea5t c\u1ea3 c\u00e1c tr\u1ea1ng th\u00e1i c\u1ee7a \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c gi\u1eef trong kh\u00f4ng gian b\u1ed9 nh\u1edb ri\u00eang \u0111\u00f3. Khi \u0111\u00f3ng \u1ee9ng d\u1ee5ng, process n\u00e0y c\u0169ng bi\u1ebfn m\u1ea5t v\u00e0 h\u1ec7 \u0111i\u1ec1u h\u00e0nh s\u1ebd gi\u1ea3i ph\u00f3ng b\u1ed9 nh\u1edb.</p> <p></p> <p>M\u1ed9t process c\u00f3 th\u1ec3 y\u00eau c\u1ea7u h\u1ec7 \u0111i\u1ec1u h\u00e0nh kh\u1edfi \u0111\u1ed9ng m\u1ed9t process kh\u00e1c \u0111\u1ec3 ch\u1ea1y c\u00e1c t\u00e1c v\u1ee5 kh\u00e1c nhau. Khi \u0111i\u1ec1u n\u00e0y x\u1ea3y ra, c\u00e1c ph\u1ea7n kh\u00e1c nhau c\u1ee7a b\u1ed9 nh\u1edb \u0111\u01b0\u1ee3c ph\u00e2n b\u1ed1 cho process m\u1edbi. N\u1ebfu hai process c\u1ea7n giao ti\u1ebfp v\u1edbi nhau, ch\u00fang s\u1ebd d\u00f9ng IPC (Inter Process Communication - Giao ti\u1ebfp gi\u1eefa c\u00e1c process). Nhi\u1ec1u \u1ee9ng d\u1ee5ng \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 ho\u1ea1t \u0111\u1ed9ng theo c\u00e1ch n\u00e0y sao cho n\u1ebfu m\u1ed9t worker process b\u1ecb treo, n\u00f3 c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c kh\u1edfi \u0111\u1ed9ng l\u1ea1i m\u00e0 kh\u00f4ng ph\u1ea3i d\u1eebng c\u00e1c process kh\u00e1c \u0111ang ch\u1ea1y c\u00e1c ph\u1ea7n kh\u00e1c nhau c\u1ee7a \u1ee9ng d\u1ee5ng.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#kien-truc-trinh-duyet","title":"Ki\u1ebfn tr\u00fac tr\u00ecnh duy\u1ec7t","text":"<p>Gi\u1edd th\u00ec tr\u00ecnh duy\u1ec7t \u0111\u01b0\u1ee3c x\u00e2y d\u1ef1ng d\u1ef1a tr\u00ean process v\u00e0 thread nh\u01b0 th\u1ebf n\u00e0o? C\u00f3 th\u1ec3 l\u00e0 m\u1ed9t process v\u1edbi nhi\u1ec1u thread kh\u00e1c nhau ho\u1eb7c nhi\u1ec1u process kh\u00e1c nhau v\u1edbi m\u1ed9t \u00edt thread giao ti\u1ebfp v\u1edbi nhau qua IPC.</p> <p></p> <p>M\u1ed9t l\u01b0u \u00fd quan tr\u1ecdng l\u00e0 c\u00e1c ki\u1ebfn tr\u00fac kh\u00e1c nhau n\u00e0y l\u00e0 c\u00e1c chi ti\u1ebft c\u00e0i \u0111\u1eb7t. Kh\u00f4ng c\u00f3 m\u1ed9t chu\u1ea9n n\u00e0o cho vi\u1ec7c t\u1ea1o ra m\u1ed9t tr\u00ecnh duy\u1ec7t. C\u00e1ch ti\u1ebfp c\u1eadn \u0111\u1ec3 x\u00e2y d\u1ef1ng tr\u00ecnh duy\u1ec7t n\u00e0y c\u00f3 th\u1ec3 kh\u00e1c ho\u00e0n to\u00e0n v\u1edbi c\u00e1ch ti\u1ebfp c\u1eadn \u0111\u1ec3 x\u00e2y d\u1ef1ng m\u1ed9t tr\u00ecnh duy\u1ec7t kh\u00e1c.</p> <p>Ta s\u1ebd ch\u1ec9 t\u1eadp trung v\u00e0o ki\u1ebfn tr\u00fac b\u00e2y gi\u1edd c\u1ee7a Chrome \u0111\u01b0\u1ee3c mi\u00eau t\u1ea3 trong s\u01a1 \u0111\u1ed3 b\u00ean d\u01b0\u1edbi.</p> <p>\u1ede tr\u00ean c\u00f9ng l\u00e0 process tr\u00ecnh duy\u1ec7t ph\u1ed1i h\u1ee3p v\u1edbi c\u00e1c process kh\u00e1c \u0111\u1ec3 \u0111\u1ea3m nhi\u1ec7m c\u00e1c ph\u1ea7n kh\u00e1c nhau c\u1ee7a \u1ee9ng d\u1ee5ng. V\u1edbi renderer process, nhi\u1ec1u process \u0111\u01b0\u1ee3c t\u1ea1o ra v\u00e0 g\u00e1n cho m\u1ed7i tab. Cho \u0111\u1ebfn g\u1ea7n \u0111\u00e2y, Chrome cho m\u1ed7i tab m\u1ed9t process khi c\u00f3 th\u1ec3; gi\u1edd n\u00f3 c\u1ed1 g\u1eafng cho m\u1ed7i trang m\u1ed9t process ri\u00eang, k\u1ec3 c\u1ea3 iframe (\u1ede ph\u1ea7n Site Isolation).</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#cac-process-ieu-khien-cai-gi","title":"C\u00e1c Process \u0111i\u1ec1u khi\u1ec3n c\u00e1i g\u00ec?","text":"<p>B\u1ea3ng sau cho th\u1ea5y c\u00e1c process c\u1ee7a Chrome v\u00e0 nh\u1eefng th\u1ee9 ch\u00fang \u0111i\u1ec1u khi\u1ec3n:</p> Process \u0110i\u1ec1u khi\u1ec3n Tr\u00ecnh duy\u1ec7t \u0110i\u1ec1u khi\u1ec3n ph\u1ea7n \"chrome\" c\u1ee7a \u1ee9ng d\u1ee5ng bao g\u1ed3m thanh \u0111\u1ecba ch\u1ec9, bookmark, n\u00fat quay l\u1ea1i trang tr\u01b0\u1edbc v\u00e0 \u0111i ti\u1ebfp trang sau.  X\u1eed l\u00fd c\u00e1c ph\u1ea7n \u1ea9n, \u0111\u1eb7c quy\u1ec1n c\u1ee7a tr\u00ecnh duy\u1ec7t nh\u01b0 network request hay truy c\u1eadp file. Renderer \u0110i\u1ec1u khi\u1ec3n b\u1ea5t c\u1ee9 c\u00e1i g\u00ec trong tab, n\u01a1i m\u00e0 website \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb. Plugin \u0110i\u1ec1u khi\u1ec3n b\u1ea5t k\u1ef3 plugin n\u00e0o d\u00f9ng b\u1edfi website, v\u00ed d\u1ee5 nh\u01b0 flash. GPU X\u1eed l\u00fd c\u00e1c t\u00e1c v\u1ee5 GPU ri\u00eang bi\u1ec7t, t\u00e1ch ra kh\u1ecfi c\u00e1c process kh\u00e1c. N\u00f3 \u0111\u01b0\u1ee3c ph\u00e2n ra ri\u00eang v\u00ec c\u00e1c GPU x\u1eed l\u00fd c\u00e1c y\u00eau c\u1ea7u t\u1eeb nhi\u1ec1u \u1ee9ng d\u1ee5ng v\u00e0 v\u1ebd ch\u00fang tr\u00ean c\u00f9ng m\u1ed9t ch\u1ed7 <p></p> <p>C\u00f2n c\u00f3 nhi\u1ec1u process h\u01a1n n\u1eefa nh\u01b0 l\u00e0 process cho c\u00e1c ti\u1ec7n \u00edch m\u1edf r\u1ed9ng hay process cho c\u00e1c ti\u1ec7n \u00edch kh\u00e1c. N\u1ebfu b\u1ea1n mu\u1ed1n xem c\u00f3 bao nhi\u00eau process \u0111ang ch\u1ea1y trong Chrome, b\u1ea5m v\u00e0o d\u1ea5u ba ch\u1ea5m \u1edf g\u00f3c ph\u1ea3i tr\u00ean c\u1ee7a Chrome, ch\u1ecdn More Tools, r\u1ed3i ch\u1ecdn Task Manager. M\u1ed9t c\u1eeda s\u1ed5 s\u1ebd hi\u1ec7n l\u00ean v\u1edbi danh s\u00e1ch c\u00e1c process \u0111ang ch\u1ea1y v\u00e0 ch\u00fang \u0111ang d\u00f9ng bao nhi\u00eau CPU / B\u1ed9 nh\u1edb.</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#loi-ich-cua-kien-truc-a-tien-trinh-trong-chrome","title":"L\u1ee3i \u00edch c\u1ee7a ki\u1ebfn tr\u00fac \u0111a ti\u1ebfn tr\u00ecnh trong Chrome","text":"<p>Tr\u01b0\u1edbc \u0111\u00f3, ta \u0111\u00e3 \u0111\u1ec1 c\u1eadp \u0111\u1ebfn vi\u1ec7c Chrome s\u1eed d\u1ee5ng nhi\u1ec1u renderer process. Trong tr\u01b0\u1eddng h\u1ee3p \u0111\u01a1n gi\u1ea3n nh\u1ea5t, ta c\u00f3 th\u1ec3 t\u01b0\u1edfng t\u01b0\u1ee3ng m\u1ed7i tab c\u00f3 m\u1ed9t renderer process ri\u00eang. Gi\u1ea3 s\u1eed b\u1ea1n c\u00f3 3 tab \u0111ang m\u1edf v\u00e0 m\u1ed7i tab \u0111\u01b0\u1ee3c ch\u1ea1y b\u1edfi m\u1ed9t renderer process \u0111\u1ed9c l\u1eadp. N\u1ebfu m\u1ed9t tab b\u1ecb treo, th\u00ec b\u1ea1n c\u00f3 th\u1ec3 \u0111\u00f3ng tab \u0111\u00f3 trong khi v\u1eabn gi\u1eef cho c\u00e1c tab kh\u00e1c ho\u1ea1t \u0111\u1ed9ng. N\u1ebfu t\u1ea5t c\u1ea3 c\u00e1c tab \u0111ang ch\u1ea1y tr\u00ean m\u1ed9t process, khi m\u1ed9t tab treo, c\u00e1c tab kh\u00e1c c\u0169ng treo lu\u00f4n. Kh\u00e1 bu\u1ed3n.</p> <p></p> <p>M\u1ed9t l\u1ee3i \u00edch kh\u00e1c c\u1ee7a vi\u1ec7c t\u00e1ch c\u00f4ng vi\u1ec7c c\u1ee7a tr\u00ecnh duy\u1ec7t th\u00e0nh nhi\u1ec1u process l\u00e0 do t\u00ednh b\u1ea3o m\u1eadt v\u00e0 \u0111\u1ed9c l\u1eadp. V\u00ec c\u00e1c h\u1ec7 \u0111i\u1ec1u h\u00e0nh cung c\u1ea5p m\u1ed9t c\u00e1ch \u0111\u1ec3 h\u1ea1n ch\u1ebf c\u00e1c quy\u1ec1n c\u1ee7a c\u00e1c process, tr\u00ecnh duy\u1ec7t c\u00f3 th\u1ec3 sandbox m\u1ed9t s\u1ed1 process nh\u1ea5t \u0111\u1ecbnh t\u1eeb c\u00e1c t\u00ednh n\u0103ng nh\u1ea5t \u0111\u1ecbnh. V\u00ed d\u1ee5, tr\u00ecnh duy\u1ec7t Chrome h\u1ea1n ch\u1ebf quy\u1ec1n truy c\u1eadp file tu\u1ef3 \u00fd \u0111\u1ed1i v\u1edbi c\u00e1c process x\u1eed l\u00fd \u0111\u1ea7u v\u00e0o tu\u1ef3 \u00fd c\u1ee7a ng\u01b0\u1eddi d\u00f9ng nh\u01b0 renderer process.</p> <p>V\u00ec c\u00e1c process c\u00f3 kh\u00f4ng gian b\u1ed9 nh\u1edb ri\u00eang n\u00ean ch\u00fang th\u01b0\u1eddng ch\u1ee9a b\u1ea3n sao c\u1ee7a c\u01a1 s\u1edf h\u1ea1 t\u1ea7ng chung (nh\u01b0 V8 l\u00e0 c\u00f4ng c\u1ee5 JavaScript c\u1ee7a Chrome). \u0110i\u1ec1u n\u00e0y ngh\u0129a l\u00e0 s\u1eed d\u1ee5ng nhi\u1ec1u b\u1ed9 nh\u1edb h\u01a1n v\u00ec ch\u00fang kh\u00f4ng th\u1ec3 \u0111\u01b0\u1ee3c chia s\u1ebb theo c\u00e1ch truy\u1ec1n th\u1ed1ng n\u1ebfu ch\u00fang l\u00e0 c\u00e1c thread trong c\u00f9ng m\u1ed9t process. \u0110\u1ec3 ti\u1ebft ki\u1ec7m b\u1ed9 nh\u1edb, Chrome \u0111\u1eb7t gi\u1edbi h\u1ea1n v\u1ec1 s\u1ed1 process c\u00f3 th\u1ec3 th\u1ef1c hi\u1ec7n. Gi\u1edbi h\u1ea1n kh\u00e1c nhau tu\u1ef3 v\u00e0o dung l\u01b0\u1ee3ng b\u1ed9 nh\u1edb v\u00e0 s\u1ee9c m\u1ea1nh CPU m\u00e0 thi\u1ebft b\u1ecb c\u00f3, nh\u01b0ng khi Chrome \u0111\u1ea1t gi\u1edbi h\u1ea1n, n\u00f3 s\u1ebd b\u1eaft \u0111\u1ea7u ch\u1ea1y nhi\u1ec1u tab c\u1ee7a c\u00f9ng m\u1ed9t trang tr\u00ean c\u00f9ng m\u1ed9t process.</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#tiet-kiem-nhieu-bo-nho-hon-servicification-trong-chrome","title":"Ti\u1ebft ki\u1ec7m nhi\u1ec1u b\u1ed9 nh\u1edb h\u01a1n - Servicification trong Chrome","text":"<p>C\u00e1ch ti\u1ebfp c\u1eadn t\u01b0\u01a1ng t\u1ef1 c\u0169ng \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng cho process tr\u00ecnh duy\u1ec7t. Chrome \u0111ang ti\u1ebfn h\u00e0nh c\u00e1c thay \u0111\u1ed5i v\u1ec1 ki\u1ebfn tr\u00fac \u0111\u1ec3 ch\u1ea1y t\u1eebng ph\u1ea7n c\u1ee7a tr\u00ecnh duy\u1ec7t d\u01b0\u1edbi d\u1ea1ng m\u1ed9t service cho ph\u00e9p ph\u00e2n chia d\u1ec5 d\u00e0ng c\u00e1c process kh\u00e1c nhau ho\u1eb7c t\u1ed5ng h\u1ee3p th\u00e0nh m\u1ed9t.</p> <p>\u00dd t\u01b0\u1edfng chung l\u00e0 khi Chrome \u0111ang ch\u1ea1y tr\u00ean ph\u1ea7n c\u1ee9ng m\u1ea1nh m\u1ebd, n\u00f3 c\u00f3 th\u1ec3 chia t\u1eebng service th\u00e0nh c\u00e1c process kh\u00e1c nhau \u0111\u1ec3 gi\u1eef t\u00ednh \u1ed5n \u0111\u1ecbnh. Nh\u01b0ng n\u1ebfu ch\u1ea1y tr\u00ean m\u1ed9t thi\u1ebft b\u1ecb h\u1ea1n ch\u1ebf t\u00e0i nguy\u00ean, Chrome s\u1ebd h\u1ee3p nh\u1ea5t c\u00e1c service th\u00e0nh m\u1ed9t process \u0111\u1ec3 ti\u1ebft ki\u1ec7m b\u1ed9 nh\u1edb. C\u00e1ch ti\u1ebfp c\u1eadn t\u01b0\u01a1ng t\u1ef1 v\u1ec1 h\u1ee3p nh\u1ea5t c\u00e1c process \u0111\u1ec3 s\u1eed d\u1ee5ng \u00edt b\u1ed9 nh\u1edb h\u01a1n \u0111\u00e3 \u0111\u01b0\u1ee3c d\u00f9ng tr\u00ean c\u00e1c n\u1ec1n t\u1ea3ng kh\u00e1c nh\u01b0 Android tr\u01b0\u1edbc khi c\u00f3 s\u1ef1 thay \u0111\u1ed5i n\u00e0y.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#renderer-process-tren-moi-frame-site-isolation","title":"Renderer process tr\u00ean m\u1ed7i frame - Site Isolation","text":"<p>Site Isolation (c\u00e1ch ly trang web) l\u00e0 m\u1ed9t t\u00ednh n\u0103ng \u0111\u01b0\u1ee3c gi\u1edbi thi\u1ec7u g\u1ea7n \u0111\u00e2y trong Chrome, n\u00f3 ch\u1ea1y c\u00e1c renderer process kh\u00e1c nhau cho t\u1eebng iframe c\u1ee7a c\u00e1c trang web kh\u00e1c (cross-site iframe) tr\u00ean c\u00f9ng m\u1ed9t tab. Ta \u0111\u00e3 n\u00f3i v\u1ec1 m\u1ed9t renderer process tr\u00ean m\u1ed7i tab cho ph\u00e9p c\u00e1c iframe c\u1ee7a c\u00e1c trang web kh\u00e1c ch\u1ea1y m\u1ed9t renderer process v\u1edbi kh\u00f4ng gian b\u1ed9 nh\u1edb chia s\u1ebb tr\u00ean c\u00e1c site kh\u00e1c nhau. Ch\u1ea1y <code>a.com</code> v\u00e0 <code>b.com</code> tr\u00ean c\u00f9ng m\u1ed9t renderer process nghe c\u00f3 v\u1ebb \u1ed5n. Same Origin Policy (ch\u00ednh s\u00e1ch xu\u1ea5t x\u1ee9 gi\u1ed1ng nhau) l\u00e0 m\u00f4 h\u00ecnh b\u1ea3o m\u1eadt c\u1ed1t l\u00f5i c\u1ee7a web; n\u00f3 b\u1ea3o \u0111\u1ea3m m\u1ed9t trang web kh\u00f4ng th\u1ec3 truy c\u1eadp d\u1eef li\u1ec7u t\u1eeb c\u00e1c web kh\u00e1c m\u00e0 kh\u00f4ng c\u00f3 s\u1ef1 \u0111\u1ed3ng \u00fd. B\u1ecf qua ch\u00ednh s\u00e1ch n\u00e0y l\u00e0 m\u1ed9t l\u1ed7 h\u1ed5ng l\u1edbn cho c\u00e1c cu\u1ed9c t\u1ea5n c\u00f4ng m\u1ea1ng. Vi\u1ec7c c\u00e1ch ly c\u00e1c process l\u00e0 c\u00e1ch hi\u1ec7u qu\u1ea3 nh\u1ea5t \u0111\u1ec3 t\u00e1ch c\u00e1c trang web. V\u1edbi Meltdown v\u00e0 Spectre, r\u00f5 r\u00e0ng h\u01a1n l\u00e0 ch\u00fang ta c\u1ea7n t\u00e1ch c\u00e1c trang web b\u1eb1ng c\u00e1c process. V\u1edbi Site Isolation \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng m\u1eb7c \u0111\u1ecbnh tr\u00ean Chrome desktop t\u1eeb b\u1ea3n 67, m\u1ed7i iframe c\u1ee7a c\u00e1c trang web kh\u00e1c trong m\u1ed9t tab c\u00f3 m\u1ed9t renderer process ri\u00eang.</p> <p></p> <p>Cho ph\u00e9p Site Isolation l\u00e0 m\u1ed9t n\u1ed7 l\u1ef1c trong nhi\u1ec1u n\u0103m c\u1ee7a \u0111\u1ed9i ng\u0169 k\u1ef9 s\u01b0. Site Isolation kh\u00f4ng \u0111\u01a1n gi\u1ea3n ch\u1ec9 l\u00e0 ch\u1ec9 \u0111\u1ecbnh c\u00e1c renderer process kh\u00e1c nhau; v\u1ec1 c\u01a1 b\u1ea3n n\u00f3 thay \u0111\u1ed5i c\u00e1ch c\u00e1c iframe giao ti\u1ebfp v\u1edbi nhau. M\u1edf devtools tr\u00ean m\u1ed9t trang c\u00f3 iframe ch\u1ea1y tr\u00ean c\u00e1c process kh\u00e1c nhau ngh\u0129a l\u00e0 devtools ph\u1ea3i tri\u1ec3n khai c\u00f4ng vi\u1ec7c h\u1eadu tr\u01b0\u1eddng \u0111\u1ec3 l\u00e0m n\u00f3 xu\u1ea5t hi\u1ec7n li\u1ec1n m\u1ea1ch. Ngay c\u1ea3 vi\u1ec7c ch\u1ea1y <code>Ctrl+F</code> \u0111\u01a1n gi\u1ea3n \u0111\u1ec3 t\u00ecm m\u1ed9t t\u1eeb trong trang c\u0169ng c\u00f3 ngh\u0129a l\u00e0 t\u00ecm ki\u1ebfm tr\u00ean nhi\u1ec1u renderer process kh\u00e1c nhau. B\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y v\u00ec sao c\u00e1c k\u1ef9 s\u01b0 tr\u00ecnh duy\u1ec7t n\u00f3i v\u1ec1 vi\u1ec7c ph\u00e1t h\u00e0nh Site Isolation nh\u01b0 l\u00e0 m\u1ed9t c\u1ed9t m\u1ed1c \u0111\u1ec9nh cao!</p>"},{"location":"Misc/chrome_blog/inside_browser_1/inside_browser_1/#ket-phan-1","title":"K\u1ebft ph\u1ea7n 1","text":"<p>Trong ph\u1ea7n n\u00e0y, ta \u0111\u00e3 \u0111i qua g\u00f3c nh\u00ecn c\u01a1 b\u1ea3n c\u1ee7a ki\u1ebfn tr\u00fac tr\u00ecnh duy\u1ec7t v\u00e0 l\u1ee3i \u00edch c\u1ee7a ki\u1ebfn tr\u00fac \u0111a ti\u1ebfn tr\u00ecnh. Ta c\u0169ng \u0111i qua Servicification v\u00e0 Site Isolation trong Chrome, nh\u1eefng th\u1ee9 c\u1ef1c k\u1ef3 li\u00ean quan \u0111\u1ebfn ki\u1ebfn tr\u00fac \u0111a ti\u1ebfn tr\u00ecnh. Trong ph\u1ea7n sau, ta s\u1ebd kh\u00e1m ph\u00e1 chuy\u1ec7n g\u00ec x\u1ea3y ra gi\u1eefa c\u00e1c process v\u00e0 thread n\u00e0y \u0111\u1ec3 hi\u1ec3n th\u1ecb website.</p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/","title":"B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 2)","text":""},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#nguon","title":"Ngu\u1ed3n","text":"<p>Inside look at modern web browser (part 2) - Chrome Developers Blog</p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#chuyen-xay-ra-khi-ieu-huong","title":"Chuy\u1ec7n x\u1ea3y ra khi \u0111i\u1ec1u h\u01b0\u1edbng","text":"<p>\u0110\u00e2y l\u00e0 ph\u1ea7n 2 trong series 4 ph\u1ea7n t\u00ecm hi\u1ec3u v\u1ec1 Chrome. Trong ph\u1ea7n 1, ta t\u00ecm hi\u1ec3u l\u00e0m sao c\u00e1c process v\u00e0 thread kh\u00e1c nhau x\u1eed l\u00fd c\u00e1c ph\u1ea7n kh\u00e1c nhau trong tr\u00ecnh duy\u1ec7t. \u1ede ph\u1ea7n n\u00e0y, ta \u0111i s\u00e2u h\u01a1n v\u1ec1 vi\u1ec7c l\u00e0m th\u1ebf n\u00e0o m\u1ed7i process v\u00e0 thread giao ti\u1ebfp v\u1edbi nhau \u0111\u1ec3 hi\u1ec3n th\u1ecb m\u1ed9t trang web.</p> <p>Ta b\u1eaft \u0111\u1ea7u v\u1edbi m\u1ed9t use case \u0111\u01a1n gi\u1ea3n nh\u01b0 sau: B\u1ea1n \u0111i\u1ec1n URL v\u00e0o tr\u00ecnh duy\u1ec7t, tr\u00ecnh duy\u1ec7t l\u1ea5y data t\u1eeb internet v\u00e0 hi\u1ec3n th\u1ecb trang web. Trong ph\u1ea7n n\u00e0y, ta s\u1ebd t\u1eadp trung v\u00e0o ph\u1ea7n m\u00e0 ng\u01b0\u1eddi d\u00f9ng request m\u1ed9t website v\u00e0 tr\u00ecnh duy\u1ec7t chu\u1ea9n b\u1ecb render m\u1ed9t trang - n\u00f4m na g\u1ecdi l\u00e0 \u0111i\u1ec1u h\u01b0\u1edbng (navigation).</p> <p>L\u01b0u \u00fd: Vui l\u00f2ng b\u1ea5m v\u00e0o h\u00ecnh \u1ea3nh \u0111\u1ec3 xem ch\u00fa th\u00edch c\u1ee7a h\u00ecnh \u1ea3nh \u0111\u00f3.</p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#no-bat-au-voi-browser-process","title":"N\u00f3 b\u1eaft \u0111\u1ea7u v\u1edbi browser process","text":"<p>Nh\u01b0 ta \u0111\u00e3 bi\u1ebft t\u1eeb ph\u1ea7n 1, m\u1ecdi th\u1ee9 kh\u00f4ng trong tab s\u1ebd \u0111\u01b0\u1ee3c x\u1eed l\u00fd b\u1edfi browser process. Browser process n\u00e0y c\u00f3 c\u00e1c thread nh\u01b0 UI thread, n\u00f3 s\u1ebd v\u1ebd c\u00e1c n\u00fat b\u1ea5m v\u00e0 \u00f4 nh\u1eadp li\u1ec7u (nh\u01b0 thanh \u0111\u1ecba ch\u1ec9) c\u1ee7a tr\u00ecnh duy\u1ec7t. browser process c\u00f2n c\u00f3 network thread, n\u00f3 s\u1ebd x\u1eed l\u00fd c\u00e1c network stack \u0111\u1ec3 nh\u1eadn data t\u1eeb internet. Storage thread c\u0169ng l\u00e0 m\u1ed9t th\u00e0nh ph\u1ea7n c\u1ee7a browser process, n\u00f3 ki\u1ec3m so\u00e1t quy\u1ec1n truy c\u1eadp file. V\u00e0 c\u00f2n m\u1ed9t s\u1ed1 lo\u1ea1i thread n\u1eefa. Khi b\u1ea1n nh\u1eadp URL v\u00e0o thanh \u0111\u1ecba ch\u1ec9, n\u00f3 s\u1ebd \u0111\u01b0\u1ee3c x\u1eed l\u00fd b\u1edfi UI thread c\u1ee7a browser process.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#ieu-huong-on-gian","title":"\u0110i\u1ec1u h\u01b0\u1edbng \u0111\u01a1n gi\u1ea3n","text":""},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#buoc-1-xu-ly-input","title":"B\u01b0\u1edbc 1: X\u1eed l\u00fd input","text":"<p>Khi ng\u01b0\u1eddi d\u00f9ng b\u1eaft \u0111\u1ea7u nh\u1eadp v\u00e0o thanh \u0111\u1ecba ch\u1ec9, \u0111\u1ea7u ti\u00ean UI thread s\u1ebd h\u1ecfi l\u00e0 \"\u0110\u00e2y l\u00e0 truy v\u1ea5n t\u00ecm ki\u1ebfm hay URL v\u00e2y?\". Trong Chrome, thanh \u0111\u1ecba ch\u1ec9 c\u0169ng l\u00e0 thanh t\u00ecm ki\u1ebfm, n\u00ean UI thread c\u1ea7n ph\u1ea3i ki\u1ec3m tra v\u00e0 quy\u1ebft \u0111\u1ecbnh xem n\u00ean g\u1eedi ng\u01b0\u1eddi d\u00f9ng \u0111\u1ebfn b\u1ed9 m\u00e1y t\u00ecm ki\u1ebfm hay \u0111i \u0111\u1ebfn c\u00e1i trang m\u00e0 ng\u01b0\u1eddi ta mu\u1ed1n \u0111\u1ebfn.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#buoc-2-bat-au-ieu-huong","title":"B\u01b0\u1edbc 2: B\u1eaft \u0111\u1ea7u \u0111i\u1ec1u h\u01b0\u1edbng","text":"<p>Khi ng\u01b0\u1eddi d\u00f9ng b\u1ea5m Enter, UI thread kh\u1edfi t\u1ea1o network call \u0111\u1ec3 l\u1ea5y n\u1ed9i dung trang web. Bi\u1ec3u t\u01b0\u1ee3ng xoay (loading) s\u1ebd xu\u1ea5t hi\u1ec7n \u1edf g\u00f3c c\u1ee7a tab, v\u00e0 network thread \u0111i qua c\u00e1c giao th\u1ee9c th\u00edch h\u1ee3p nh\u01b0 tra c\u1ee9u DNS v\u00e0 thi\u1ebft l\u1eadp k\u1ebft n\u1ed1i TLS cho request.</p> <p></p> <p>T\u1ea1i th\u1eddi \u0111i\u1ec3m n\u00e0y, network thread c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c nh\u1eadn header chuy\u1ec3n h\u01b0\u1edbng server nh\u01b0 HTTP 301. Trong tr\u01b0\u1eddng h\u1ee3p \u0111\u00f3, network thread giao ti\u1ebfp v\u1edbi UI thread \u0111\u1ec3 n\u00f3i cho UI thread bi\u1ebft l\u00e0 server \u0111ang y\u00eau c\u1ea7u chuy\u1ec3n h\u01b0\u1edbng. Sau \u0111\u00f3, m\u1ed9t URL request kh\u00e1c s\u1ebd \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o.</p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#buoc-3-oc-response","title":"B\u01b0\u1edbc 3: \u0110\u1ecdc response","text":"<p>Khi m\u00e0 response body b\u1eaft \u0111\u1ea7u \u0111\u1ebfn, network thread \u0111\u1ecdc m\u1ed9t v\u00e0i byte \u0111\u1ea7u c\u1ee7a stream n\u1ebfu c\u1ea7n. Content-Type header c\u1ee7a response cho n\u00f3 bi\u1ebft lo\u1ea1i data l\u00e0 g\u00ec, nh\u01b0ng v\u00ec th\u00f4ng t\u00ecn n\u00e0y c\u00f3 th\u1ec3 b\u1ecb thi\u1ebfu ho\u1eb7c sai, ki\u1ec3m tra MIME Type (MIME Type sniffing) s\u1ebd \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n t\u1ea1i \u0111\u00e2y. \u0110\u00e2y l\u00e0 m\u1ed9t \"c\u00f4ng vi\u1ec7c kh\u00f3 kh\u0103n\" nh\u01b0 \u0111\u01b0\u1ee3c comment trong code. B\u1ea1n c\u00f3 th\u1ec3 \u0111\u1ecdc comment \u0111\u1ec3 xem c\u00e1c tr\u00ecnh duy\u1ec7t kh\u00e1c nhau x\u1eed l\u00fd c\u1eb7p Content-Type - response body nh\u01b0 th\u1ebf n\u00e0o.</p> <p></p> <p>N\u1ebfu response l\u00e0 m\u1ed9t file HTML, th\u00ec b\u01b0\u1edbc ti\u1ebfp theo s\u1ebd l\u00e0 chuy\u1ec3n data cho renderer process, nh\u01b0ng n\u1ebfu n\u00f3 l\u00e0 file zip ho\u1eb7c c\u00e1c lo\u1ea1i file kh\u00e1c th\u00ec ngh\u0129a l\u00e0 n\u00f3 l\u00e0 m\u1ed9t request t\u1ea1i file, n\u00ean data \u0111\u01b0\u1ee3c chuy\u1ec3n qua cho b\u00ean download manager.</p> <p></p> <p>\u0110\u00e2y c\u0169ng l\u00e0 n\u01a1i ki\u1ec3m tra SafeBrowsing x\u1ea3y ra. N\u1ebfu domain v\u00e0 response data kh\u1edbp m\u1ed9t c\u00e1i site l\u1eeba \u0111\u1ea3o n\u00e0o \u0111\u00f3, network thread s\u1ebd nh\u1eafc tr\u00ecnh duy\u1ec7t \u0111\u1ec3 hi\u1ec3n th\u1ecb m\u1ed9t trang c\u1ea3nh b\u00e1o. Th\u00eam v\u00e0o \u0111\u00f3, ki\u1ec3m tra Cross Origin Read Blocking (CORB) c\u0169ng \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o th\u00f4ng tin nh\u1ea1y c\u1ea3m xuy\u00ean website kh\u00f4ng \u0111i v\u00e0o renderer process.</p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#buoc-4-tim-mot-renderer-process","title":"B\u01b0\u1edbc 4: T\u00ecm m\u1ed9t renderer process","text":"<p>Sau khi c\u00e1c ki\u1ec3m tra \u0111\u1ec1u \u0111\u00e3 xong v\u00e0 network thread ch\u1eafc ch\u1eafn r\u1eb1ng tr\u00ecnh duy\u1ec7t s\u1ebd \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u1ebfn trang web \u0111\u01b0\u1ee3c y\u00eau c\u1ea7u, network thread s\u1ebd b\u1ea3o UI thread r\u1eb1ng data \u0111\u00e3 s\u1eafn s\u00e0ng. UI thread sau \u0111\u00f3 t\u00ecm m\u1ed9t renderer process \u0111\u1ec3 th\u1ef1c hi\u1ec7n qu\u00e1 tr\u00ecnh render trang web</p> <p></p> <p>V\u00ec network request c\u00f3 th\u1ec3 m\u1ea5t v\u00e0i tr\u0103m mili gi\u00e2y \u0111\u1ec3 nh\u1eadn ph\u1ea3n h\u1ed3i, n\u00ean m\u1ed9t qu\u00e1 tr\u00ecnh t\u1ed1i \u01b0u ho\u00e1 \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng \u0111\u1ec3 t\u0103ng t\u1ed1c qu\u00e1 tr\u00ecnh tr\u00ean. Khi UI thread \u0111ang g\u1eedi URL request cho network thread \u1edf b\u01b0\u1edbc 2, n\u00f3 \u0111\u00e3 bi\u1ebft tr\u00ecnh duy\u1ec7t s\u1ebd \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u1ebfn trang n\u00e0o. UI thread c\u1ed1 g\u1eafng ch\u1ee7 \u0111\u1ed9ng t\u00ecm ho\u1eb7c kh\u1edfi ch\u1ea1y m\u1ed9t renderer process song song v\u1edbi network request. B\u1eb1ng c\u00e1ch n\u00e0y, n\u1ebfu m\u1ecdi vi\u1ec7c di\u1ec5n ra b\u00ecnh th\u01b0\u1eddng, m\u1ed9t renderer process \u0111\u00e3 ch\u1edd s\u1eb5n khi network thread nh\u1eadn \u0111ata. Process d\u1ef1 ph\u00f2ng n\u00e0y c\u00f3 th\u1ec3 kh\u00f4ng \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng n\u1ebfu vi\u1ec7c \u0111i\u1ec1u h\u01b0\u1edbng chuy\u1ec3n h\u01b0\u1edbng gi\u1eefa c\u00e1c trang, trong tr\u01b0\u1eddng h\u1ee3p \u0111\u00f3 th\u00ec ph\u1ea3i c\u1ea7n m\u1ed9t process kh\u00e1c.</p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#buoc-5-ieu-huong","title":"B\u01b0\u1edbc 5: \u0110i\u1ec1u h\u01b0\u1edbng","text":"<p>Gi\u1edd data v\u00e0 renderer process \u0111\u00e3 s\u1eb5n s\u00e0ng, m\u1ed9t IPC \u0111\u01b0\u1ee3c g\u1eedi t\u1eeb browser process \u0111\u1ebfn renderer process \u0111\u1ec3 th\u1ef1c hi\u1ec7n \u0111i\u1ec1u h\u01b0\u1edbng. N\u00f3 c\u0169ng truy\u1ec1n lu\u1ed3ng data \u0111\u1ec3 renderer process c\u00f3 th\u1ec3 ti\u1ebfp t\u1ee5c nh\u1eadn HTML data. M\u1ed9t khi browser process \u0111\u01b0\u1ee3c x\u00e1c nh\u1eadn r\u1eb1ng qu\u00e1 tr\u00ecnh \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u00e3 x\u1ea3y ra trong renderer process, \u0111i\u1ec1u h\u01b0\u1edbng ho\u00e0n t\u1ea5t v\u00e0 giai \u0111o\u1ea1n t\u1ea3i t\u00e0i li\u1ec7u b\u1eaft \u0111\u1ea7u.</p> <p>T\u1ea1i th\u1eddi \u0111i\u1ec3m n\u00e0y, thanh \u0111\u1ecba ch\u1ec9 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt v\u00e0 giao di\u1ec7n ng\u01b0\u1eddi d\u00f9ng c\u00e0i \u0111\u1eb7t trang v\u00e0 ch\u1ec9 b\u00e1o b\u1ea3o m\u1eadt ph\u1ea3n \u00e1nh th\u00f4ng tin trang c\u1ee7a trang m\u1edbi. L\u1ecbch s\u1eed phi\u00ean cho tab s\u1ebd \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt \u0111\u1ec3 c\u00e1c n\u00fat quay l\u1ea1i / chuy\u1ec3n ti\u1ebfp s\u1ebd chuy\u1ec3n qua trang web v\u1eeba \u0111\u01b0\u1ee3c \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u1ebfn. \u0110\u1ec3 t\u1ea1o \u0111i\u1ec1u ki\u1ec7n kh\u00f4i ph\u1ee5c tab / phi\u00ean khi b\u1ea1n \u0111\u00f3ng tab ho\u1eb7c c\u1eeda s\u1ed5 tr\u00ecnh duy\u1ec7t, l\u1ecbch s\u1eed phi\u00ean s\u1ebd \u0111\u01b0\u1ee3c l\u01b0u tr\u00ean \u0111\u0129a.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#buoc-bo-sung-hoan-thanh-viec-tai-ban-au","title":"B\u01b0\u1edbc b\u1ed5 sung: Ho\u00e0n th\u00e0nh vi\u1ec7c t\u1ea3i ban \u0111\u1ea7u","text":"<p>Khi \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u01b0\u1ee3c cam k\u1ebft, renderer process ti\u1ebfp t\u1ee5c t\u1ea3i t\u00e0i nguy\u00ean v\u00e0 render trang. Ta s\u1ebd xem c\u00e1c chi ti\u1ebft v\u1ec1 nh\u1eefng g\u00ec x\u1ea3y ra \u1edf \u0111\u00e2y trong ph\u1ea7n ti\u1ebfp theo. Sau khi renderer process \"ho\u00e0n t\u1ea5t\" vi\u1ec7c render, n\u00f3 g\u1eedi m\u1ed9t IPC tr\u1edf l\u1ea1i browser process (\u0111\u00e2y l\u00e0 sau khi t\u1ea5t c\u1ea3 c\u00e1c event <code>onload</code> \u0111\u00e3 k\u00edch ho\u1ea1t tr\u00ean t\u1ea5t c\u1ea3 c\u00e1c frame tr\u00ean trang v\u00e0 \u0111\u00e3 th\u1ef1c hi\u1ec7n xong). T\u1ea1i th\u1eddi \u0111i\u1ec3m n\u00e0y, UI thread d\u1eebng bi\u1ec3u t\u01b0\u1ee3ng xoay tr\u00ean tab.</p> <p>Ta n\u00f3i \"ho\u00e0n t\u1ea5t\" v\u00ec JavaScript ph\u00eda client v\u1eabn c\u00f3 th\u1ec3 t\u1ea3i c\u00e1c t\u00e0i nguy\u00ean b\u1ed5 sung v\u00e0 render c\u00e1c view m\u1edbi sau b\u01b0\u1edbc n\u00e0y.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#ieu-huong-en-mot-trang-web-khac","title":"\u0110i\u1ec1u h\u01b0\u1edbng \u0111\u1ebfn m\u1ed9t trang web kh\u00e1c","text":"<p>\u0110i\u1ec1u h\u01b0\u1edbng \u0111\u01a1n gi\u1ea3n \u0111\u00e3 ho\u00e0n t\u1ea5t! Nh\u01b0ng \u0111i\u1ec1u g\u00ec x\u1ea3y ra n\u1ebfu ng\u01b0\u1eddi d\u00f9ng nh\u1eadp URL kh\u00e1c v\u00e0o thanh \u0111\u1ecba ch\u1ec9? Browser process s\u1ebd tr\u1ea3i qua c\u00e1c b\u01b0\u1edbc t\u01b0\u01a1ng t\u1ef1 \u0111\u1ec3 \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u1ebfn trang web kh\u00e1c. Nh\u01b0ng tr\u01b0\u1edbc khi c\u00f3 th\u1ec3 l\u00e0m \u0111i\u1ec1u \u0111\u00f3, n\u00f3 c\u1ea7n ki\u1ec3m tra v\u1edbi trang web hi\u1ec7n \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb xem n\u00f3 c\u00f3 quan t\u00e2m \u0111\u1ebfn event []<code>beforeunload</code>](https://developer.mozilla.org/docs/Web/Events/beforeunload) hay kh\u00f4ng.</p> <p><code>beforeunload</code> c\u00f3 th\u1ec3 t\u1ea1o c\u1ea3nh b\u00e1o \"B\u1ea1n mu\u1ed1n r\u1eddi kh\u1ecfi trang web n\u00e0y?\" khi ta c\u1ed1 g\u1eafng \u0111i\u1ec1u h\u01b0\u1edbng \u0111i ho\u1eb7c \u0111\u00f3ng tab. M\u1ecdi th\u1ee9 b\u00ean trong tab bao g\u1ed3m c\u1ea3 code JavaScript c\u1ee7a b\u1ea1n \u0111\u1ec1u \u0111\u01b0\u1ee3c x\u1eed l\u00fd b\u1edfi renderer process, v\u00ec v\u1eady browser process ph\u1ea3i ki\u1ec3m tra v\u1edbi renderer process hi\u1ec7n t\u1ea1i khi c\u00f3 y\u00eau c\u1ea7u \u0111i\u1ec1u h\u01b0\u1edbng m\u1edbi.</p> Ch\u00fa \u00fd <p>Kh\u00f4ng th\u00eam <code>beforeunload</code> handler v\u00f4 \u0111i\u1ec1u ki\u1ec7n. N\u00f3 t\u1ea1o ra \u0111\u1ed9 tr\u1ec5 l\u1edbn h\u01a1n v\u00ec handler c\u1ea7n \u0111\u01b0\u1ee3c th\u1ef1c thi tr\u01b0\u1edbc khi c\u00f3 th\u1ec3 b\u1eaft \u0111\u1ea7u \u0111i\u1ec1u h\u01b0\u1edbng. Ch\u1ec9 n\u00ean th\u00eam event handler n\u00e0y khi c\u1ea7n thi\u1ebft, ch\u1eb3ng h\u1ea1n nh\u01b0 n\u1ebfu ng\u01b0\u1eddi d\u00f9ng c\u1ea7n \u0111\u01b0\u1ee3c c\u1ea3nh b\u00e1o r\u1eb1ng h\u1ecd c\u00f3 th\u1ec3 m\u1ea5t d\u1eef li\u1ec7u \u0111\u00e3 nh\u1eadp tr\u00ean trang.</p> <p></p> <p>N\u1ebfu \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o t\u1eeb renderer process (ch\u1eb3ng h\u1ea1n nh\u01b0 khi ng\u01b0\u1eddi d\u00f9ng \u0111\u00e3 nh\u1ea5p v\u00e0o li\u00ean k\u1ebft ho\u1eb7c client-side JavaScript \u0111\u00e3 ch\u1ea1y <code>window.location = \"https://newsite.com\"</code>) th\u00ec renderer process tr\u01b0\u1edbc ti\u00ean s\u1ebd ki\u1ec3m tra <code>beforeunload</code> handler. Sau \u0111\u00f3, n\u00f3 tr\u1ea3i qua quy tr\u00ecnh t\u01b0\u01a1ng t\u1ef1 nh\u01b0 qu\u00e1 tr\u00ecnh \u0111i\u1ec1u h\u01b0\u1edbng do browser process b\u1eaft \u0111\u1ea7u. S\u1ef1 kh\u00e1c bi\u1ec7t duy nh\u1ea5t l\u00e0 y\u00eau c\u1ea7u \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u01b0\u1ee3c kh\u1edfi t\u1ea1o t\u1eeb renderer process sang browser process.</p> <p>Khi \u0111i\u1ec1u h\u01b0\u1edbng m\u1edbi \u0111\u01b0\u1ee3c t\u1ea1o cho m\u1ed9t trang web kh\u00e1c v\u1edbi trang web \u0111\u01b0\u1ee3c render hi\u1ec7n t\u1ea1i, m\u1ed9t renderer process ri\u00eang bi\u1ec7t s\u1ebd \u0111\u01b0\u1ee3c g\u1ecdi \u0111\u1ec3 x\u1eed l\u00fd \u0111i\u1ec1u h\u01b0\u1edbng m\u1edbi trong khi renderer process hi\u1ec7n t\u1ea1i \u0111\u01b0\u1ee3c gi\u1eef l\u1ea1i \u0111\u1ec3 x\u1eed l\u00fd c\u00e1c event nh\u01b0 <code>unload</code>. \u0110\u1ec3 bi\u1ebft th\u00eam th\u00f4ng tin, vui l\u00f2ng xem t\u1ed5ng quan v\u1ec1 tr\u1ea1ng th\u00e1i v\u00f2ng \u0111\u1eddi c\u1ee7a trang v\u00e0 c\u00e1ch b\u1ea1n c\u00f3 th\u1ec3 k\u1ebft n\u1ed1i v\u1edbi c\u00e1c event b\u1eb1ng Page Lifecycle API.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#truong-hop-cua-service-worker","title":"Tr\u01b0\u1eddng h\u1ee3p c\u1ee7a Service Worker","text":"<p>M\u1ed9t thay \u0111\u1ed5i g\u1ea7n \u0111\u00e2y \u0111\u1ed1i v\u1edbi quy tr\u00ecnh \u0111i\u1ec1u h\u01b0\u1edbng n\u00e0y l\u00e0 vi\u1ec7c gi\u1edbi thi\u1ec7u Service Worker. Service worker l\u00e0 m\u1ed9t c\u00e1ch \u0111\u1ec3 vi\u1ebft proxy m\u1ea1ng trong code; cho ph\u00e9p c\u00e1c nh\u00e0 ph\u00e1t tri\u1ec3n web c\u00f3 nhi\u1ec1u quy\u1ec1n ki\u1ec3m so\u00e1t h\u01a1n \u0111\u1ed1i v\u1edbi nh\u1eefng g\u00ec c\u1ea7n l\u01b0u v\u00e0o b\u1ed9 nh\u1edb cache c\u1ee5c b\u1ed9 v\u00e0 th\u1eddi \u0111i\u1ec3m nh\u1eadn d\u1eef li\u1ec7u m\u1edbi t\u1eeb m\u1ea1ng. N\u1ebfu Service worker \u0111\u01b0\u1ee3c thi\u1ebft l\u1eadp \u0111\u1ec3 t\u1ea3i trang t\u1eeb cache, th\u00ec kh\u00f4ng c\u1ea7n y\u00eau c\u1ea7u data t\u1eeb m\u1ea1ng.</p> <p>\u0110i\u1ec1u quan tr\u1ecdng c\u1ea7n nh\u1edb l\u00e0 Service worker l\u00e0 code JavaScript ch\u1ea1y trong renderer process. Nh\u01b0ng khi c\u00f3 y\u00eau c\u1ea7u \u0111i\u1ec1u h\u01b0\u1edbng, l\u00e0m th\u1ebf n\u00e0o \u0111\u1ec3 tr\u00ecnh duy\u1ec7t bi\u1ebft trang web c\u00f3 Service worker?</p> <p></p> <p>Khi m\u1ed9t Service worker \u0111\u01b0\u1ee3c \u0111\u0103ng k\u00fd, ph\u1ea1m vi c\u1ee7a Service worker \u0111\u01b0\u1ee3c gi\u1eef l\u00e0m tham chi\u1ebfu (b\u1ea1n c\u00f3 th\u1ec3 \u0111\u1ecdc th\u00eam v\u1ec1 ph\u1ea1m vi trong b\u00e0i vi\u1ebft V\u00f2ng \u0111\u1eddi c\u1ee7a Service worker n\u00e0y). Khi m\u1ed9t qu\u00e1 tr\u00ecnh \u0111i\u1ec1u h\u01b0\u1edbng di\u1ec5n ra, network thread s\u1ebd ki\u1ec3m tra mi\u1ec1n d\u1ef1a tr\u00ean ph\u1ea1m vi c\u1ee7a Service worker \u0111\u00e3 \u0111\u0103ng k\u00fd, n\u1ebfu m\u1ed9t Service worker \u0111\u01b0\u1ee3c \u0111\u0103ng k\u00fd cho URL \u0111\u00f3, th\u00ec UI thread s\u1ebd t\u00ecm m\u1ed9t renderer process \u0111\u1ec3 th\u1ef1c thi code c\u1ee7a Service worker. Service worker c\u00f3 th\u1ec3 t\u1ea3i data t\u1eeb cache, lo\u1ea1i b\u1ecf nhu c\u1ea7u y\u00eau c\u1ea7u data t\u1eeb m\u1ea1ng ho\u1eb7c c\u00f3 th\u1ec3 y\u00eau c\u1ea7u t\u00e0i nguy\u00ean m\u1edbi t\u1eeb m\u1ea1ng.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#tai-truoc-ieu-huong","title":"T\u1ea3i tr\u01b0\u1edbc \u0111i\u1ec1u h\u01b0\u1edbng","text":"<p>B\u1ea1n c\u00f3 th\u1ec3 th\u1ea5y round trip n\u00e0y gi\u1eefa browser process v\u00e0 renderer process c\u00f3 th\u1ec3 d\u1eabn \u0111\u1ebfn delay n\u1ebfu Service worker quy\u1ebft \u0111\u1ecbnh y\u00eau c\u1ea7u data t\u1eeb m\u1ea1ng. T\u1ea3i tr\u01b0\u1edbc \u0111i\u1ec1u h\u01b0\u1edbng l\u00e0 m\u1ed9t c\u01a1 ch\u1ebf \u0111\u1ec3 t\u0103ng t\u1ed1c qu\u00e1 tr\u00ecnh n\u00e0y b\u1eb1ng c\u00e1ch t\u1ea3i t\u00e0i nguy\u00ean song song v\u1edbi kh\u1edfi \u0111\u1ed9ng Service worker. N\u00f3 \u0111\u00e1nh d\u1ea5u c\u00e1c request n\u00e0y b\u1eb1ng m\u1ed9t header, cho ph\u00e9p c\u00e1c m\u00e1y ch\u1ee7 quy\u1ebft \u0111\u1ecbnh g\u1eedi n\u1ed9i dung kh\u00e1c nhau cho c\u00e1c request n\u00e0y; v\u00ed d\u1ee5: ch\u1ec9 c\u1eadp nh\u1eadt data thay v\u00ec full data.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_2/inside_browser_2/#ket-phan-2","title":"K\u1ebft ph\u1ea7n 2","text":"<p>Trong ph\u1ea7n n\u00e0y, ta \u0111\u00e3 xem th\u1eed chuy\u1ec7n g\u00ec s\u1ebd x\u1ea3y ra trong khi \u0111i\u1ec1u h\u01b0\u1edbng v\u00e0 l\u00e0m sao code c\u1ee7a \u1ee9ng d\u1ee5ng web nh\u01b0 response header v\u00e0 JavaScript ph\u00eda client giao ti\u1ebfp v\u1edbi tr\u00ecnh duy\u1ec7t. Vi\u1ec7c bi\u1ebft \u0111\u01b0\u1ee3c c\u00e1c b\u01b0\u1edbc tr\u00ecnh duy\u1ec7t ph\u1ea3i th\u1ef1c hi\u1ec7n \u0111\u1ec3 l\u1ea5y data t\u1eeb m\u1ea1ng gi\u00fap ta d\u1ec5 hi\u1ec3u h\u01a1n v\u00ec sao c\u00e1c API nh\u01b0 T\u1ea3i tr\u01b0\u1edbc \u0111i\u1ec1u h\u01b0\u1edbng \u0111\u01b0\u1ee3c ph\u00e1t tri\u1ec3n. Trong b\u00e0i sau, ta s\u1ebd \u0111i v\u00e0o vi\u1ec7c l\u00e0m sao tr\u00ecnh duy\u1ec7t \u0111\u1ecdc code HTML/CSS/JavaScript c\u1ee7a ch\u00fang ta \u0111\u1ec3 hi\u1ec3n th\u1ecb c\u00e1c trang.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/","title":"B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 3)","text":""},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#nguon","title":"Ngu\u1ed3n","text":"<p>Inside look at modern web browser (part 3) - Chrome Developers Blog</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#ben-trong-renderer-process","title":"B\u00ean trong Renderer Process","text":"<p>\u0110\u00e2y l\u00e0 ph\u1ea7n 3 trong series 4 ph\u1ea7n v\u1ec1 c\u00e1ch tr\u00ecnh duy\u1ec7t ho\u1ea1t \u0111\u1ed9ng. Tr\u01b0\u1edbc \u0111\u00f3, ta \u0111\u00e3 \u0111i qua ki\u1ebfn tr\u00fac \u0111a ti\u1ebfn tr\u00ecnh v\u00e0 qu\u00e1 tr\u00ecnh \u0111i\u1ec1u h\u01b0\u1edbng. Trong ph\u1ea7n n\u00e0y, ta s\u1ebd xem \u0111i\u1ec1u g\u00ec x\u1ea3y ra trong renderer process.</p> <p>Renderer process li\u00ean quan \u0111\u1ebfn nhi\u1ec1u kh\u00eda c\u1ea1nh c\u1ee7a hi\u1ec7u su\u1ea5t web. V\u00ec c\u00f3 r\u1ea5t nhi\u1ec1u th\u1ee9 x\u1ea3y ra trong renderer process, ph\u1ea7n n\u00e0y s\u1ebd ch\u1ec9 l\u00e0 kh\u00e1i qu\u00e1t chung. N\u1ebfu b\u1ea1n mu\u1ed1n \u0111i s\u00e2u h\u01a1n, ph\u1ea7n Hi\u1ec7u su\u1ea5t c\u1ee7a Web c\u01a1 b\u1ea3n c\u00f3 r\u1ea5t nhi\u1ec1u t\u00e0i nguy\u00ean.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#cac-renderer-process-xu-ly-noi-dung-web","title":"C\u00e1c renderer process x\u1eed l\u00fd n\u1ed9i dung web","text":"<p>Renderer process ch\u1ecbu tr\u00e1ch nhi\u1ec7m cho t\u1ea5t c\u1ea3 m\u1ecdi th\u1ee9 x\u1ea3y ra trong m\u1ed9t tab tr\u00ean tr\u00ecnh duy\u1ec7t. Trong renderer process, main thread s\u1ebd x\u1eed l\u00fd g\u1ea7n nh\u01b0 m\u1ecdi code b\u1ea1n g\u1eedi cho user. \u0110\u00f4i khi c\u00e1c ph\u1ea7n c\u1ee7a code JavaScript \u0111\u01b0\u1ee3c x\u1eed l\u00fd b\u1edfi c\u00e1c worker thread n\u1ebfu b\u1ea1n d\u00f9ng m\u1ed9t web worker ho\u1eb7c m\u1ed9t service worker. C\u00e1c raster thread v\u00e0 compositor thread c\u0169ng \u0111\u01b0\u1ee3c ch\u1ea1y trong renderer process \u0111\u1ec3 render trang m\u1ed9t c\u00e1ch hi\u1ec7u qu\u1ea3 v\u00e0 m\u01b0\u1ee3t m\u00e0.</p> <p>C\u00f4ng vi\u1ec7c ch\u1ee7 y\u1ebfu c\u1ee7a renderer process l\u00e0 chuy\u1ec3n HTML, CSS v\u00e0 JavaScript th\u00e0nh m\u1ed9t trang web m\u00e0 ng\u01b0\u1eddi d\u00f9ng c\u00f3 th\u1ec3 t\u01b0\u01a1ng t\u00e1c.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#parsing-phan-tich-cu-phap","title":"Parsing (Ph\u00e2n t\u00edch c\u00fa ph\u00e1p)","text":""},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#xay-dung-dom","title":"X\u00e2y d\u1ef1ng DOM","text":"<p>Khi renderer process nh\u1eadn m\u1ed9t th\u00f4ng b\u00e1o commit cho \u0111i\u1ec1u h\u01b0\u1edbng v\u00e0 b\u1eaft \u0111\u1ea7u nh\u1eadn d\u1eef li\u1ec7u HTML, main thread b\u1eaft \u0111\u1ea7u parse (ph\u00e2n t\u00edch c\u00fa ph\u00e1p) chu\u1ed7i v\u0103n b\u1ea3n (HTML) v\u00e0 bi\u1ebfn n\u00f3 th\u00e0nh M\u00f4 h\u00ecnh \u0110\u1ed1i t\u01b0\u1ee3ng T\u00e0i li\u1ec7u - Document Object Model (DOM).</p> <p>DOM l\u00e0 bi\u1ec3u di\u1ec5n b\u00ean trong c\u1ee7a tr\u00ecnh duy\u1ec7t v\u1ec1 trang c\u0169ng nh\u01b0 c\u1ea5u tr\u00fac d\u1eef li\u1ec7u v\u00e0 API m\u00e0 nh\u00e0 ph\u00e1t tri\u1ec3n web c\u00f3 th\u1ec3 t\u01b0\u01a1ng t\u00e1c qua JavaScript.</p> <p>Parse m\u1ed9t t\u00e0i li\u1ec7u HTML th\u00e0nh DOM \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a b\u1edfi Ti\u00eau chu\u1ea9n HTML. B\u1ea1n c\u00f3 th\u1ec3 nh\u1eadn th\u1ea5y r\u1eb1ng vi\u1ec7c cung c\u1ea5p HTML cho tr\u00ecnh duy\u1ec7t kh\u00f4ng bao gi\u1edd g\u00e2y ra l\u1ed7i. V\u00ed d\u1ee5, thi\u1ebfu th\u1ebb \u0111\u00f3ng <code>&lt;/p&gt;</code> l\u00e0 m\u1ed9t HTML h\u1ee3p l\u1ec7. Markup sai nh\u01b0 <code>Hi! &lt;b&gt;I'm &lt;i&gt;Chrome&lt;/b&gt;!&lt;/i&gt;</code> (tag b \u0111\u00f3ng tr\u01b0\u1edbc tag i) s\u1ebd \u0111\u01b0\u1ee3c xem nh\u01b0 b\u1ea1n vi\u1ebft <code>Hi! &lt;b&gt;I'm &lt;i&gt;Chrome&lt;/i&gt;&lt;/b&gt;&lt;i&gt;!&lt;/i&gt;</code>. \u0110i\u1ec1u n\u00e0y l\u00e0 do \u0111\u1eb7c t\u1ea3 HTML \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf \u0111\u1ec3 linh ho\u1ea1t x\u1eed l\u00fd c\u00e1c l\u1ed7i \u0111\u00f3. N\u1ebfu b\u1ea1n mu\u1ed1n bi\u1ebft ch\u00fang \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n nh\u01b0 th\u1ebf n\u00e0o, b\u1ea1n c\u00f3 th\u1ec3 \u0111\u1ecdc ph\u1ea7n \"Gi\u1edbi thi\u1ec7u v\u1ec1 x\u1eed l\u00fd l\u1ed7i v\u00e0 c\u00e1c tr\u01b0\u1eddng h\u1ee3p l\u1ea1 trong parser\" c\u1ee7a \u0111\u1eb7c t\u1ea3 HTML.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#tai-nguon-phu","title":"T\u1ea3i ngu\u1ed3n ph\u1ee5","text":"<p>M\u1ed9t website th\u01b0\u1eddng d\u00f9ng c\u00e1c t\u00e0i nguy\u00ean b\u00ean ngo\u00e0i nh\u01b0 h\u00ecnh \u1ea3nh, CSS v\u00e0 JavaScript. C\u00e1c file n\u00e0y c\u1ea7n \u0111\u01b0\u1ee3c t\u1ea3i t\u1eeb m\u1ea1ng ho\u1eb7c cache. Main thread c\u00f3 th\u1ec3 y\u00eau c\u1ea7u t\u1eebng c\u00e1i m\u1ed9t khi n\u00f3 t\u00ecm ra c\u00e1c t\u00e0i nguy\u00ean \u0111\u00f3 trong l\u00fac parse \u0111\u1ec3 x\u00e2y d\u1ef1ng DOM, nh\u01b0ng \u0111\u1ec3 t\u0103ng t\u1ed1c, \"scanner t\u1ea3i tr\u01b0\u1edbc\" \u0111\u01b0\u1ee3c ch\u1ea1y \u0111\u1ed3ng th\u1eddi. N\u1ebfu c\u00f3 nh\u1eefng th\u1ee9 nh\u01b0 <code>&lt;img&gt;</code> ho\u1eb7c <code>&lt;link&gt;</code> trong t\u00e0i li\u1ec7u HTML, scanner t\u1ea3i tr\u01b0\u1edbc s\u1ebd xem x\u00e9t m\u00e3 th\u00f4ng b\u00e1o do HTML parser t\u1ea1o v\u00e0 g\u1eedi request \u0111\u1ebfn network thread trong browser process.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#javascript-co-the-chan-parsing","title":"JavaScript c\u00f3 th\u1ec3 ch\u1eb7n parsing","text":"<p>Khi HTML parser t\u00ecm th\u1ea5y th\u1ebb <code>&lt;script&gt;</code>, n\u00f3 s\u1ebd t\u1ea1m d\u1eebng vi\u1ec7c parse t\u00e0i li\u1ec7u HTML v\u00e0 ph\u1ea3i t\u1ea3i, parse v\u00e0 th\u1ef1c thi code JavaScript. V\u00ec sao? B\u1edfi v\u00ec JavaScript c\u00f3 th\u1ec3 thay \u0111\u1ed5i t\u00e0i li\u1ec7u HTML v\u1edbi nh\u1eefng th\u1ee9 nh\u01b0 <code>document.write()</code>, n\u00f3 s\u1ebd thay \u0111\u1ed5i to\u00e0n b\u1ed9 c\u1ea5u tr\u00fac DROM (t\u1ed5ng quan v\u1ec1 m\u00f4 h\u00ecnh parsing trong \u0111\u1eb7c t\u1ea3 HTML c\u00f3 m\u1ed9t s\u01a1 \u0111\u1ed3 r\u1ea5t \u0111\u1eb9p). \u0110\u00e2y l\u00e0 l\u00fd do v\u00ec sao HTML parser ph\u1ea3i \u0111\u1ee3i JavaScript ch\u1ea1y tr\u01b0\u1edbc khi ti\u1ebfp t\u1ee5c parse t\u00e0i li\u1ec7u HTML. N\u1ebfu b\u1ea1n t\u00f2 m\u00f2 v\u1ec1 nh\u1eefng th\u1ee9 x\u1ea3y ra trong qu\u00e1 tr\u00ecnh th\u1ef1c thi JavaScript, team V8 \u0111\u00e3 c\u00f3 nh\u1eefng bu\u1ed5i to\u1ea1 \u0111\u00e0m v\u00e0 b\u00e0i vi\u1ebft v\u1ec1 v\u1ea5n \u0111\u1ec1 \u0111\u00f3.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#goi-y-cho-trinh-duyet-rang-ban-muon-tai-tai-nguyen-nhu-the-nao","title":"G\u1ee3i \u00fd cho tr\u00ecnh duy\u1ec7t r\u1eb1ng b\u1ea1n mu\u1ed1n t\u1ea3i t\u00e0i nguy\u00ean nh\u01b0 th\u1ebf n\u00e0o","text":"<p>C\u00f3 nhi\u1ec1u c\u00e1ch \u0111\u1ec3 c\u00e1c nh\u00e0 ph\u00e1t tri\u1ec3n \u1ee9ng d\u1ee5ng web c\u00f3 th\u1ec3 g\u1eedi g\u1ee3i \u00fd \u0111\u1ebfn tr\u00ecnh duy\u1ec7t \u0111\u1ec3 t\u1ea3i t\u00e0i nguy\u00ean theo th\u1ee9 t\u1ef1 n\u00e0o \u0111\u00f3. N\u1ebfu code JavaScript c\u1ee7a b\u1ea1n kh\u00f4ng d\u00f9ng <code>document.write()</code>, b\u1ea1n c\u00f3 th\u1ec3 th\u00eam c\u00e1c thu\u1ed9c t\u00ednh <code>async</code> hay <code>defer</code> cho th\u1ebb <code>&lt;script&gt;</code>. Tr\u00ecnh duy\u1ec7t s\u1ebd t\u1ea3i v\u00e0 ch\u1ea1y code JavaScript m\u1ed9t c\u00e1ch b\u1ea5t \u0111\u1ed3ng b\u1ed9 v\u00e0 kh\u00f4ng l\u00e0m gi\u00e1n \u0111o\u1ea1n vi\u1ec7c parse. B\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng JavaScript module n\u1ebfu th\u1ea5y h\u1ee3p l\u00fd. <code>&lt;link rel=\"preload\"&gt;</code> l\u00e0 m\u1ed9t c\u00e1ch \u0111\u1ec3 b\u00e1o cho tr\u00ecnh duy\u1ec7t r\u1eb1ng t\u00e0i nguy\u00ean l\u00e0 r\u1ea5t c\u1ea7n thi\u1ebft cho vi\u1ec7c \u0111i\u1ec1u h\u01b0\u1edbng b\u00e2y gi\u1edd v\u00e0 b\u1ea1n mu\u1ed1n t\u1ea3i c\u00e0ng s\u1edbm c\u00e0ng t\u1ed1t. B\u1ea1n c\u00f3 th\u1ec3 \u0111\u1ecdc th\u00eam t\u1ea1i \u01afu ti\u00ean t\u00e0i nguy\u00ean - Nh\u1edd tr\u00ecnh duy\u1ec7t gi\u00fap b\u1ea1n.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#tinh-toan-cho-cac-style","title":"T\u00ednh to\u00e1n cho c\u00e1c style","text":"<p>DOM l\u00e0 ch\u01b0a \u0111\u1ee7 \u0111\u1ec3 bi\u1ebft trang web s\u1ebd tr\u00f4ng nh\u01b0 th\u1ebf n\u00e0o v\u00ec ta c\u1ea7n c\u00e1c style trong CSS. Main thread s\u1ebd parse CSS v\u00e0 quy\u1ebft \u0111\u1ecbnh computed style cho t\u1eebng node DOM. \u0110\u00e2y l\u00e0 th\u00f4ng tin v\u1ec1 lo\u1ea1i style \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng cho t\u1eebng element d\u1ef1a tr\u00ean b\u1ed9 ch\u1ecdn CSS. B\u1ea1n c\u00f3 th\u1ec3 xem th\u00f4ng tin n\u00e0y trong ph\u1ea7n <code>computed</code> c\u1ee7a DevTools.</p> <p></p> <p>Ngay c\u1ea3 khi n\u1ebfu b\u1ea1n kh\u00f4ng cung c\u1ea5p CSS, m\u1ed7i DOM node v\u1eabn c\u00f3 m\u1ed9t style \u0111\u01b0\u1ee3c t\u00ednh to\u00e1n. Tag <code>&lt;h1&gt;</code> \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb to h\u01a1n tag <code>&lt;h2&gt;</code> v\u00e0 margin \u0111\u01b0\u1ee3c \u0111\u1ecbnh ngh\u0129a cho m\u1ed7i element. L\u00fd do l\u00e0 v\u00ec browser c\u00f3 CSS m\u1eb7c \u0111\u1ecbnh. N\u1ebfu b\u1ea1n mu\u1ed1n bi\u1ebft CSS m\u1eb7c \u0111\u1ecbnh c\u1ee7a Chrome tr\u00f4ng nh\u01b0 n\u00e0o, b\u1ea1n c\u00f3 th\u1ec3 xem source code \u1edf \u0111\u00e2y.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#layout","title":"Layout","text":"<p>Gi\u1edd renderer process \u0111\u00e3 bi\u1ebft c\u1ea5u tr\u00fac c\u1ee7a t\u00e0i li\u1ec7u v\u00e0 style cho t\u1eebng node, nh\u01b0ng v\u1eabn kh\u00f4ng \u0111\u1ee7 \u0111\u1ec3 render trang. T\u01b0\u1edfng t\u01b0\u1ee3ng b\u1ea1n \u0111ang c\u1ed1 g\u1eafng mi\u00eau t\u1ea3 m\u1ed9t b\u1ee9c v\u1ebd cho b\u1ea1n c\u1ee7a m\u00ecnh qua \u0111i\u1ec7n tho\u1ea1i. \"C\u00f3 m\u1ed9t h\u00ecnh tr\u00f2n l\u1edbn m\u00e0u \u0111\u1ee7 v\u00e0 m\u1ed9t h\u00ecnh vu\u00f4ng nh\u1ecf m\u00e0u xanh\" l\u00e0 kh\u00f4ng \u0111\u1ee7 th\u00f4ng tin \u0111\u1ec3 b\u1ea1n c\u1ee7a b\u1ea1n bi\u1ebft ch\u00ednh x\u00e1c b\u1ee9c v\u1ebd tr\u00f4ng th\u1ebf n\u00e0o.</p> <p></p> <p>Layout (b\u1ed1 c\u1ee5c) l\u00e0 m\u1ed9t process \u0111\u1ec3 t\u00ecm h\u00ecnh d\u1ea1ng c\u1ee7a c\u00e1c element. Main thread s\u1ebd \u0111i qua DOM v\u00e0 c\u00e1c computed style v\u00e0 t\u1ea1o c\u00e2y layout, n\u00f3 s\u1ebd c\u00f3 c\u00e1c th\u00f4ng tin nh\u01b0 to\u1ea1 \u0111\u1ed9 x y v\u00e0 k\u00edch th\u01b0\u1edbc h\u1ed9p gi\u1edbi h\u1ea1n. C\u00e2y layout c\u00f3 c\u1ea5u tr\u00fac t\u01b0\u01a1ng t\u1ef1 c\u00e2y DOM, nh\u01b0ng n\u00f3 ch\u1ec9 ch\u1ee9a th\u00f4ng tin li\u00ean quan \u0111\u1ebfn nh\u1eefng g\u00ec hi\u1ec3n th\u1ecb tr\u00ean trang. N\u1ebfu <code>display: none</code> \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng, element \u0111\u00f3 kh\u00f4ng n\u1eb1m trong layout tree (tuy nhi\u00ean, element v\u1edbi <code>visibility: hidden</code> v\u1eabn n\u1eb1m tr\u00ean c\u00e2y layout). T\u01b0\u01a1ng t\u1ef1, n\u1ebfu m\u1ed9t l\u1edbp gi\u1ea3 v\u1edbi n\u1ed9i dung nh\u01b0 <code>p::before{content:\"Hi!\"}</code> \u0111\u01b0\u1ee3c \u00e1p d\u1ee5ng, n\u00f3 s\u1ebd n\u1eb1m trong c\u00e2y layout m\u1eb7c d\u00f9 n\u00f3 kh\u00f4ng n\u1eb1m trong DOM.</p> <p></p> <p>X\u00e1c \u0111\u1ecbnh layout c\u1ee7a trang l\u00e0 m\u1ed9t vi\u1ec7c kh\u00f3. Ngay c\u1ea3 layout c\u1ee7a trang \u0111\u01a1n gi\u1ea3n nh\u1ea5t nh\u01b0 m\u1ed9t \u0111\u1ed1ng block t\u1eeb tr\u00ean xu\u1ed1ng d\u01b0\u1edbi c\u0169ng ph\u1ea3i xem x\u00e9t \u0111\u1ed9 l\u1edbn c\u1ee7a font ch\u1eef v\u00e0 v\u1ecb tr\u00ed ng\u1eaft d\u00f2ng v\u00ec ch\u00fang \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn k\u00edch th\u01b0\u1edbc v\u00e0 h\u00ecnh d\u1ea1ng c\u1ee7a \u0111o\u1ea1n v\u0103n; m\u00e0 sau \u0111\u00f3 \u1ea3nh h\u01b0\u1edfng \u0111\u1ebfn v\u1ecb tr\u00ed c\u1ee7a \u0111o\u1ea1n sau, nh\u01b0 video d\u01b0\u1edbi \u0111\u00e2y.</p> <p>CSS c\u00f3 th\u1ec3 l\u00e0m cho ph\u1ea7n t\u1eed n\u1ed5i sang m\u1ed9t b\u00ean, che ph\u1ea7n m\u1ee5c tr\u00e0n v\u00e0 thay \u0111\u1ed5i h\u01b0\u1edbng vi\u1ebft. B\u1ea1n c\u00f3 th\u1ec3 t\u01b0\u1edfng t\u01b0\u1ee3ng, giai \u0111o\u1ea1n layout n\u00e0y c\u00f3 m\u1ed9t nhi\u1ec7m v\u1ee5 to l\u1edbn. Trong Chrome, to\u00e0n b\u1ed9 team k\u1ef9 s\u01b0 l\u00e0m vi\u1ec7c tr\u00ean layout. N\u1ebfu b\u1ea1n mu\u1ed1n xem chi ti\u1ebft v\u1ec1 c\u00f4ng vi\u1ec7c c\u1ee7a h\u1ecd, b\u1ea1n c\u00f3 th\u1ec3 xem m\u1ed9t v\u00e0i bu\u1ed5i to\u1ea1 \u0111\u00e0m t\u1eeb H\u1ed9i ngh\u1ecb BlinkOn.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#ve","title":"V\u1ebd","text":"<p>C\u00f3 DOM, style, v\u00e0 layout v\u1eabn ch\u01b0a \u0111\u1ee7 \u0111\u1ec3 render trang. Gi\u1ea3 s\u1eed b\u1ea1n mu\u1ed1n v\u1ebd l\u1ea1i b\u1ee9c tranh \u0111\u00f3. B\u1ea1n bi\u1ebft k\u00edch th\u01b0\u1edbc, h\u00ecnh d\u00e1ng v\u00e0 v\u1ecb tr\u00ed c\u00e1c element, nh\u01b0ng theo th\u1ee9 t\u1ef1 n\u00e0o?</p> <p></p> <p>V\u00ed d\u1ee5, <code>z-index</code> c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c set cho m\u1ed9t s\u1ed1 element nh\u1ea5t \u0111\u1ecbnh, trong tr\u01b0\u1eddng h\u1ee3p \u0111\u00f3, v\u1ebd theo th\u1ee9 t\u1ef1 tr\u00ean HTML s\u1ebd cho ra k\u1ebft qu\u1ea3 sai khi render.</p> <p></p> <p>\u1ede b\u01b0\u1edbc v\u1ebd n\u00e0y, main thread s\u1ebd \u0111i qua c\u00e2y layout \u0111\u1ec3 t\u1ea1o ra c\u00e1c b\u1ea3n ghi v\u1ebd. B\u1ea3n ghi v\u1ebd (paint record) l\u00e0 m\u1ed9t ghi ch\u00fa c\u1ee7a qu\u00e1 tr\u00ecnh v\u1ebd nh\u01b0 \"n\u1ec1n tr\u01b0\u1edbc, r\u1ed3i ch\u1eef, r\u1ed3i \u0111\u1ebfn h\u00ecnh ch\u1eef nh\u1eadt\". N\u1ebfu b\u1ea1n t\u1eebng v\u1ebd tr\u00ean element <code>&lt;canvas&gt;</code> v\u1edbi JavaScript, b\u1ea1n s\u1ebd quen v\u1edbi qu\u00e1 tr\u00ecnh n\u00e0y.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#cap-nhat-rendering-pipeline-rat-ton-kem","title":"C\u1eadp nh\u1eadt rendering pipeline r\u1ea5t t\u1ed1n k\u00e9m.","text":"<p>\u0110i\u1ec1u quan tr\u1ecdng nh\u1ea5t c\u1ea7n n\u1eafm b\u1eaft trong renderer pipeline l\u00e0 \u1edf m\u1ed7i b\u01b0\u1edbc, k\u1ebft qu\u1ea3 c\u1ee7a thao t\u00e1c tr\u01b0\u1edbc \u0111\u00f3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng \u0111\u1ec3 t\u1ea1o d\u1eef li\u1ec7u m\u1edbi. V\u00ed d\u1ee5, n\u1ebfu c\u00f3 g\u00ec \u0111\u00f3 thay \u0111\u1ed5i trong c\u00e2y layout, th\u00ec th\u1ee9 t\u1ef1 v\u1ebd c\u1ea7n \u0111\u01b0\u1ee3c t\u1ea1o l\u1ea1i cho c\u00e1c ph\u1ea7n b\u1ecb \u1ea3nh h\u01b0\u1edfng c\u1ee7a t\u00e0i li\u1ec7u. Video b\u00ean d\u01b0\u1edbi cho th\u1ea5y c\u00e1c c\u00e2y DOM + Style, Layout v\u00e0 Paint theo th\u1ee9 t\u1ef1 ch\u00fang \u0111\u01b0\u1ee3c sinh ra.</p> <p>N\u1ebfu b\u1ea1n \u0111ang t\u1ea1o hi\u1ec7u \u1ee9ng cho c\u00e1c element, tr\u00ecnh duy\u1ec7t ph\u1ea3i ch\u1ea1y c\u00e1c thao t\u00e1c n\u00e0y \u1edf gi\u1eefa m\u1ecdi frame. H\u1ea7u h\u1ebft c\u00e1c display s\u1ebd refresh 60 l\u1ea7n m\u1ed9t gi\u00e2y (60 frame/gi\u00e2y); h\u00ecnh \u1ea3nh \u0111\u1ed9ng s\u1ebd xu\u1ea5t hi\u1ec7n m\u01b0\u1ee3t m\u00e0 \u0111\u1ed1i v\u1edbi m\u1eaft ng\u01b0\u1eddi khi b\u1ea1n di chuy\u1ec3n m\u1ecdi th\u1ee9 tr\u00ean m\u00e0n h\u00ecnh \u1edf m\u1ecdi frame. Tuy nhi\u00ean, n\u1ebfu ho\u1ea1t \u1ea3nh m\u1ea5t \u0111i c\u00e1c frame \u1edf gi\u1eefa, th\u00ec trang s\u1ebd xu\u1ea5t hi\u1ec7n m\u1ed9t c\u00e1ch \"l\u1ed9n x\u1ed9n\".</p> <p></p> <p>Ngay c\u1ea3 khi c\u00e1c ho\u1ea1t \u0111\u1ed9ng render c\u1ee7a b\u1ea1n theo k\u1ecbp qu\u00e1 tr\u00ecnh refresh m\u00e0n h\u00ecnh, th\u00ec c\u00e1c t\u00ednh to\u00e1n n\u00e0y v\u1eabn \u0111ang ch\u1ea1y tr\u00ean main thread, ngh\u0129a l\u00e0 thread n\u00e0y c\u00f3 th\u1ec3 b\u1ecb ch\u1eb7n khi \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n \u0111ang ch\u1ea1y JavaScript.</p> <p></p> <p>B\u1ea1n c\u00f3 th\u1ec3 chia thao t\u00e1c JavaScript th\u00e0nh c\u00e1c ph\u1ea7n nh\u1ecf v\u00e0 l\u00ean l\u1ecbch ch\u1ea1y \u1edf m\u1ecdi frame b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng <code>requestAnimationFrame()</code>. \u0110\u1ec3 bi\u1ebft th\u00eam v\u1ec1 ch\u1ee7 \u0111\u1ec1 n\u00e0y, vui l\u00f2ng xem T\u1ed1i \u01b0u h\u00f3a th\u1ef1c thi JavaScript. B\u1ea1n c\u0169ng c\u00f3 th\u1ec3 ch\u1ea1y JavaScript trong Web Worker \u0111\u1ec3 tr\u00e1nh ch\u1eb7n main thread.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#compositor","title":"Compositor","text":""},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#ban-ve-mot-trang-nhu-the-nao","title":"B\u1ea1n v\u1ebd m\u1ed9t trang nh\u01b0 th\u1ebf n\u00e0o?","text":"<p>B\u00e2y gi\u1edd tr\u00ecnh duy\u1ec7t \u0111\u00e3 bi\u1ebft c\u1ea5u tr\u00fac c\u1ee7a t\u00e0i li\u1ec7u, style c\u1ee7a t\u1eebng element, h\u00ecnh d\u1ea1ng c\u1ee7a trang v\u00e0 th\u1ee9 t\u1ef1 t\u00f4 m\u00e0u, v\u1eady n\u00f3 s\u1ebd v\u1ebd m\u1ed9t trang nh\u01b0 th\u1ebf n\u00e0o? Bi\u1ebfn th\u00f4ng tin n\u00e0y th\u00e0nh pixel tr\u00ean m\u00e0n h\u00ecnh \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 rasterizing.</p> <p>C\u00f3 l\u1ebd m\u1ed9t c\u00e1ch ng\u00e2y th\u01a1 \u0111\u1ec3 x\u1eed l\u00fd vi\u1ec7c n\u00e0y l\u00e0 raster c\u00e1c ph\u1ea7n b\u00ean trong viewport (t\u1ea7m nh\u00ecn c\u1ee7a m\u00e0n h\u00ecnh). N\u1ebfu ng\u01b0\u1eddi d\u00f9ng cu\u1ed9n trang, sau \u0111\u00f3 di chuy\u1ec3n frame \u0111\u00e3 raster v\u00e0 \u0111i\u1ec1n v\u00e0o c\u00e1c ph\u1ea7n c\u00f2n thi\u1ebfu b\u1eb1ng c\u00e1ch raster nhi\u1ec1u h\u01a1n, gi\u1ed1ng video b\u00ean d\u01b0\u1edbi. \u0110\u00e2y l\u00e0 c\u00e1ch Chrome x\u1eed l\u00fd rasterizing khi n\u00f3 \u0111\u01b0\u1ee3c ph\u00e1t h\u00e0nh l\u1ea7n \u0111\u1ea7u ti\u00ean. Tuy nhi\u00ean, tr\u00ecnh duy\u1ec7t hi\u1ec7n \u0111\u1ea1i ch\u1ea1y m\u1ed9t quy tr\u00ecnh ph\u1ee9c t\u1ea1p h\u01a1n \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 compositing (t\u1ed5ng h\u1ee3p).</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#compositing-la-gi","title":"Compositing l\u00e0 g\u00ec?","text":"<p>Compositing l\u00e0 m\u1ed9t k\u1ef9 thu\u1eadt \u0111\u1ec3 t\u00e1ch c\u00e1c ph\u1ea7n c\u1ee7a trang th\u00e0nh c\u00e1c layer, rasterize t\u1eebng layer v\u00e0 t\u1ed5ng h\u1ee3p d\u01b0\u1edbi d\u1ea1ng m\u1ed9t trang trong m\u1ed9t thread ri\u00eang bi\u1ec7t \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 compositor thread. N\u1ebfu cu\u1ed9n trang x\u1ea3y ra, v\u00ec c\u00e1c l\u1edbp \u0111\u00e3 \u0111\u01b0\u1ee3c rasterized, t\u1ea5t c\u1ea3 nh\u1eefng g\u00ec n\u00f3 ph\u1ea3i l\u00e0m l\u00e0 composite m\u1ed9t frame m\u1edbi. Ho\u1ea1t \u1ea3nh c\u00f3 th\u1ec3 \u0111\u1ea1t \u0111\u01b0\u1ee3c theo c\u00e1ch t\u01b0\u01a1ng t\u1ef1 b\u1eb1ng c\u00e1ch di chuy\u1ec3n c\u00e1c layer v\u00e0 composite m\u1ed9t frame m\u1edbi, nh\u01b0 video b\u00ean d\u01b0\u1edbi.</p> <p>B\u1ea1n c\u00f3 th\u1ec3 xem c\u00e1ch trang web c\u1ee7a m\u00ecnh \u0111\u01b0\u1ee3c chia th\u00e0nh c\u00e1c layer trong DevTools b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng b\u1ea3ng Layers.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#chia-ra-thanh-cac-layer","title":"Chia ra th\u00e0nh c\u00e1c layer","text":"<p>\u0110\u1ec3 t\u00ecm ra m\u1ed7i element n\u1eb1m trong layer n\u00e0o, main thread \u0111i qua c\u00e2y layout \u0111\u1ec3 t\u1ea1o c\u00e2y layer (ph\u1ea7n n\u00e0y \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 \"C\u1eadp nh\u1eadt c\u00e2y layer\" trong b\u1ea3ng hi\u1ec7u su\u1ea5t DevTools). N\u1ebfu m\u1ed9t s\u1ed1 ph\u1ea7n c\u1ee7a trang l\u1ebd ra l\u00e0 layer ri\u00eang bi\u1ec7t (nh\u01b0 menu b\u00ean tr\u01b0\u1ee3t v\u00e0o) m\u00e0 kh\u00f4ng c\u00f3 layer ri\u00eang, th\u00ec b\u1ea1n c\u00f3 th\u1ec3 g\u1ee3i \u00fd cho tr\u00ecnh duy\u1ec7t b\u1eb1ng c\u00e1ch s\u1eed d\u1ee5ng thu\u1ed9c t\u00ednh <code>will-change</code> trong CSS.</p> <p></p> <p>B\u1ea1n c\u00f3 th\u1ec3 mu\u1ed1n cung c\u1ea5p c\u00e1c layer cho m\u1ecdi element, nh\u01b0ng vi\u1ec7c composite tr\u00ean m\u1ed9t s\u1ed1 l\u01b0\u1ee3ng l\u1edbn c\u00e1c layer c\u00f3 th\u1ec3 d\u1eabn \u0111\u1ebfn ho\u1ea1t \u0111\u1ed9ng ch\u1eadm h\u01a1n so v\u1edbi vi\u1ec7c rasterizing c\u00e1c ph\u1ea7n nh\u1ecf c\u1ee7a trang tr\u00ean m\u1ed7i frame, v\u00ec v\u1eady, \u0111i\u1ec1u quan tr\u1ecdng l\u00e0 b\u1ea1n ph\u1ea3i \u0111o hi\u1ec7u su\u1ea5t render c\u1ee7a \u1ee9ng d\u1ee5ng c\u1ee7a m\u00ecnh. \u0110\u1ec3 bi\u1ebft th\u00eam v\u1ec1 ch\u1ee7 \u0111\u1ec1 n\u00e0y, h\u00e3y xem B\u00e1m s\u00e1t c\u00e1c thu\u1ed9c t\u00ednh ch\u1ec9 d\u00e0nh cho Compositor v\u00e0 Qu\u1ea3n l\u00fd s\u1ed1 l\u01b0\u1ee3ng Layer.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#raster-va-composite-khong-lien-quan-en-main-thread","title":"Raster v\u00e0 composite kh\u00f4ng li\u00ean quan \u0111\u1ebfn main thread","text":"<p>Khi c\u00e2y layer \u0111\u01b0\u1ee3c t\u1ea1o v\u00e0 th\u1ee9 t\u1ef1 v\u1ebd \u0111\u01b0\u1ee3c x\u00e1c \u0111\u1ecbnh, main thread s\u1ebd commit th\u00f4ng tin \u0111\u00f3 cho compositor thread. Compositor thread sau \u0111\u00f3 rasterize t\u1eebng layer. M\u1ed9t layer c\u00f3 th\u1ec3 l\u1edbn b\u1eb1ng to\u00e0n b\u1ed9 chi\u1ec1u d\u00e0i c\u1ee7a m\u1ed9t trang, do \u0111\u00f3, compositor thread chia ch\u00fang th\u00e0nh c\u00e1c \u00f4 v\u00e0 g\u1eedi t\u1eebng \u00f4 t\u1edbi c\u00e1c raster thread. C\u00e1c raster thread s\u1ebd rasterize t\u1eebng \u00f4 v\u00e0 l\u01b0u ch\u00fang trong b\u1ed9 nh\u1edb GPU.</p> <p></p> <p>Compositor thread c\u00f3 th\u1ec3 \u01b0u ti\u00ean c\u00e1c raster thread kh\u00e1c nhau \u0111\u1ec3 nh\u1eefng th\u1ee9 trong viewport(ho\u1eb7c g\u1ea7n \u0111\u00f3) c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c raster tr\u01b0\u1edbc. M\u1ed9t layer c\u0169ng c\u00f3 nhi\u1ec1u \u00f4 cho c\u00e1c \u0111\u1ed9 ph\u00e2n gi\u1ea3i kh\u00e1c nhau \u0111\u1ec3 x\u1eed l\u00fd nh\u1eefng th\u1ee9 nh\u01b0 ph\u00f3ng to ch\u1eb3ng h\u1ea1n.</p> <p>Sau khi c\u00e1c \u00f4 \u0111\u01b0\u1ee3c raster, compositor thread s\u1ebd thu th\u1eadp th\u00f4ng tin \u00f4 \u0111\u01b0\u1ee3c g\u1ecdi l\u00e0 draw quads \u0111\u1ec3 t\u1ea1o compositor frame.</p> Draw quad Ch\u1ee9a th\u00f4ng tin nh\u01b0 v\u1ecb tr\u00ed c\u1ee7a \u00f4 trong b\u1ed9 nh\u1edb v\u00e0 v\u1ecb tr\u00ed trong trang \u0111\u1ec3 v\u1ebd \u00f4, c\u00f3 t\u00ednh \u0111\u1ebfn vi\u1ec7c composite trang. Compositor frame T\u1eadp c\u00e1c draw quad \u0111\u1ea1i di\u1ec7n cho m\u1ed9t frame c\u1ee7a trang. <p>M\u1ed9t compositor frame sau \u0111\u00f3 \u0111\u01b0\u1ee3c g\u1eedi t\u1edbi browser process th\u00f4ng qua IPC. \u1ede \u0111\u00e2y, m\u1ed9t compositor frame kh\u00e1c c\u00f3 th\u1ec3 \u0111\u01b0\u1ee3c th\u00eam v\u00e0o t\u1eeb UI thread \u0111\u1ec3 thay \u0111\u1ed5i UI c\u1ee7a tr\u00ecnh duy\u1ec7t ho\u1eb7c t\u1eeb c\u00e1c renderer process kh\u00e1c d\u00e0nh cho ti\u1ec7n \u00edch m\u1edf r\u1ed9ng. C\u00e1c compositor frame n\u00e0y \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn GPU \u0111\u1ec3 hi\u1ec3n th\u1ecb tr\u00ean m\u00e0n h\u00ecnh. N\u1ebfu m\u1ed9t s\u1ef1 ki\u1ec7n cu\u1ed9n x\u1ea3y ra, compositor thread s\u1ebd t\u1ea1o m\u1ed9t compositor frame kh\u00e1c \u0111\u1ec3 g\u1eedi t\u1edbi GPU.</p> <p></p> <p>L\u1ee3i \u00edch c\u1ee7a vi\u1ec7c composite l\u00e0 n\u00f3 \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n m\u00e0 kh\u00f4ng li\u00ean quan \u0111\u1ebfn main thread. Compositor thread kh\u00f4ng c\u1ea7n \u0111\u1ee3i t\u00ednh to\u00e1n style ho\u1eb7c th\u1ef1c thi JavaScript. \u0110\u00e2y l\u00e0 l\u00fd do t\u1ea1i sao c\u00e1c ho\u1ea1t-\u1ea3nh-ch\u1ec9-c\u1ea7n-composite \u0111\u01b0\u1ee3c coi l\u00e0 t\u1ed1t nh\u1ea5t \u0111\u1ec3 c\u00f3 hi\u1ec7u su\u1ea5t m\u01b0\u1ee3t m\u00e0. N\u1ebfu layout ho\u1eb7c paint c\u1ea7n \u0111\u01b0\u1ee3c t\u00ednh to\u00e1n l\u1ea1i th\u00ec main thread ph\u1ea3i tham gia.</p>"},{"location":"Misc/chrome_blog/inside_browser_3/inside_browser_3/#ket-phan-3","title":"K\u1ebft ph\u1ea7n 3","text":"<p>Trong ph\u1ea7n n\u00e0y, ta \u0111\u00e3 xem qua rendering pipeline t\u1eeb parsing \u0111\u1ebfn compositing. Hi v\u1ecdng r\u1eb1ng b\u1ea1n \u0111\u00e3 \u0111\u1ee7 kh\u1ea3 n\u0103ng \u0111\u1ec3 \u0111\u1ecdc th\u00eam v\u1ec1 t\u1ed1i \u01b0u ho\u00e1 hi\u1ec7u su\u1ea5t c\u1ee7a m\u1ed9t trang web.</p> <p>Trong ph\u1ea7n ti\u1ebfp theo v\u00e0 c\u0169ng l\u00e0 ph\u1ea7n cu\u1ed1i, ta s\u1ebd nghi\u00ean c\u1ee9u compositor thread chi ti\u1ebft h\u01a1n v\u00e0 xem \u0111i\u1ec1u g\u00ec x\u1ea3y ra khi ng\u01b0\u1eddi d\u00f9ng nh\u1eadp li\u1ec7u c\u0169ng nh\u01b0 di chuy\u1ec3n v\u00e0 nh\u1ea5p chu\u1ed9t.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/","title":"B\u00ean trong c\u00e1c tr\u00ecnh duy\u1ec7t ng\u00e0y nay (Ph\u1ea7n 4)","text":""},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#nguon","title":"Ngu\u1ed3n","text":"<p>Inside look at modern web browser (part 4) - Chrome Developers Blog</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#input-i-en-compositor","title":"Input \u0111i \u0111\u1ebfn Compositor","text":"<p>\u0110\u00e2y l\u00e0 ph\u1ea7n cu\u1ed1i trong series 4 ph\u1ea7n v\u1ec1 b\u00ean trong tr\u00ecnh duy\u1ec7t Chrome, n\u01a1i ta s\u1ebd xem l\u00e0m sao n\u00f3 c\u00f3 th\u1ec3 x\u1eed l\u00fd code \u0111\u1ec3 hi\u1ec7n ra m\u1ed9t trang web. Trong b\u00e0i tr\u01b0\u1edbc, ta \u0111\u00e3 t\u00ecm hi\u1ec3u rendering process v\u00e0 compositor. Trong b\u00e0i n\u00e0y, ta s\u1ebd xem compositor t\u1ea1o ra nh\u1eefng t\u01b0\u01a1ng t\u00e1c m\u01b0\u1ee3t m\u00e0 nh\u01b0 th\u1ebf n\u00e0o khi c\u00f3 input t\u1eeb ng\u01b0\u1eddi d\u00f9ng.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#cac-input-event-tu-goc-nhin-trinh-duyet","title":"C\u00e1c input event t\u1eeb g\u00f3c nh\u00ecn tr\u00ecnh duy\u1ec7t","text":"<p>Khi nghe \"input event\", b\u1ea1n c\u00f3 th\u1ec3 ngh\u0129 ngay \u0111\u1ebfn vi\u1ec7c nh\u1eadp v\u00e0o m\u1ed9t textbox hay click chu\u1ed9t, nh\u01b0ng t\u1eeb g\u00f3c nh\u00ecn c\u1ee7a tr\u00ecnh duy\u1ec7t, input c\u00f3 ngh\u0129a l\u00e0 b\u1ea5t k\u1ef3 h\u00e0nh \u0111\u1ed9ng n\u00e0o t\u1eeb ng\u01b0\u1eddi d\u00f9ng. Cu\u1ed9n c\u0169ng l\u00e0 m\u1ed9t input event, ch\u1ea1m ho\u1eb7c di chu\u1ed9t qua c\u0169ng l\u00e0 m\u1ed9t input event.</p> <p>Khi h\u00e0nh \u0111\u1ed9ng c\u1ee7a ng\u01b0\u1eddi d\u00f9ng nh\u01b0 ch\u1ea1m v\u00e0o m\u00e0n h\u00ecnh x\u1ea3y ra, browser process s\u1ebd nh\u1eadn h\u00e0nh \u0111\u1ed9ng \u0111\u00f3 tr\u01b0\u1edbc. Tuy nhi\u00ean, browser process ch\u1ec9 bi\u1ebft n\u01a1i h\u00e0nh \u0111\u1ed9ng \u0111\u00f3 x\u1ea3y ra do n\u1ed9i dung b\u00ean trong tab \u0111\u01b0\u1ee3c x\u1eed l\u00fd b\u1edfi renderer process. V\u00ec v\u1eady, browser process s\u1ebd g\u1eedi lo\u1ea1i event (nh\u01b0 <code>touchstart</code>) v\u00e0 to\u1ea1 \u0111\u1ed9 c\u1ee7a n\u00f3 \u0111\u1ebfn renderer process. Renderer process x\u1eed l\u00fd event m\u1ed9t c\u00e1ch th\u00edch h\u1ee3p b\u1eb1ng c\u00e1ch t\u00ecm event target v\u00e0 ch\u1ea1y event listener \u0111\u01b0\u1ee3c \u0111\u00ednh k\u00e8m.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#compositor-nhan-cac-input-event","title":"Compositor nh\u1eadn c\u00e1c input event","text":"<p>Trong ph\u1ea7n tr\u01b0\u1edbc, ta \u0111\u00e3 xem c\u00e1ch compositor c\u00f3 th\u1ec3 x\u1eed l\u00fd cu\u1ed9n m\u1ed9t c\u00e1ch m\u01b0\u1ee3t m\u00e0 b\u1eb1ng c\u00e1ch t\u1ed5ng h\u1ee3p c\u00e1c rasterized layer. N\u1ebfu kh\u00f4ng c\u00f3 input event listener n\u00e0o \u0111\u01b0\u1ee3c \u0111\u00ednh k\u00e8m v\u00e0o trang, compositor thread c\u00f3 th\u1ec3 t\u1ea1o m\u1ed9t composite frame m\u1edbi ho\u00e0n to\u00e0n \u0111\u1ed9c l\u1eadp v\u1edbi main thread. Nh\u01b0ng n\u1ebfu c\u00f3 listener th\u00ec sao? L\u00e0m sao compositor thread t\u00ecm ra event c\u1ea7n \u0111\u01b0\u1ee3c x\u1eed l\u00fd.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#hieu-ve-non-fast-scrollable-region","title":"Hi\u1ec3u v\u1ec1 non-fast scrollable region","text":"<p>V\u00ec ch\u1ea1y JavaScript l\u00e0 vi\u1ec7c c\u1ee7a main thread, n\u00ean khi c\u00f3 m\u1ed9t trang \u0111\u01b0\u1ee3c t\u1ed5ng h\u1ee3p (composited), compositor thread s\u1ebd \u0111\u00e1nh d\u1ea5u m\u1ed9t v\u00f9ng c\u1ee7a trang c\u00f3 \u0111\u00ednh k\u00e9m c\u00e1c event handler l\u00e0 \"v\u00f9ng cu\u1ed9n kh\u00f4ng nhanh\" (Non-Fast Scrollable Region). V\u1edbi th\u00f4ng tin n\u00e0y, compositor thread c\u00f3 th\u1ec3 \u0111\u1ea3m b\u1ea3o g\u1eedi input event \u0111\u1ebfn main thread n\u1ebfn event x\u1ea3y ra trong v\u00f9ng \u0111\u00f3. N\u1ebfu input event \u0111\u1ebfn t\u1eeb ngo\u00e0i v\u00f9ng, compositor thread s\u1ebd ti\u1ebfp t\u1ee5c t\u1ed5ng h\u1ee3p frame m\u1edbi m\u00e0 kh\u00f4ng c\u1ea7n \u0111\u1ee3i main thread.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#e-y-khi-viet-event-handler","title":"\u0110\u1ec3 \u00fd khi vi\u1ebft event handler","text":"<p>M\u1ed9t pattern ph\u1ed5 bi\u1ebfn khi x\u1eed l\u00fd event trong ph\u00e1t tri\u1ec3n web l\u00e0 u\u1ef7 quy\u1ec1n event. V\u00ec event chuy\u1ec3n th\u00f4ng tin t\u1eeb node c\u00f3 event \u0111i l\u00ean tr\u00ean c\u00e2y DOM (bubble), ta c\u00f3 th\u1ec3 \u0111\u00ednh k\u00e8m m\u1ed9t event handler \u1edf element tr\u00ean c\u00f9ng v\u00e0 u\u1ef7 quy\u1ec1n c\u00e1c t\u00e1c v\u1ee5 d\u1ef1a tr\u00ean event target. B\u1ea1n c\u00f3 th\u1ec3 \u0111\u00e3 th\u1ea5y ho\u1eb7c vi\u1ebft code nh\u01b0 sau:</p> <pre><code>document.body.addEventListener('touchstart', event =&gt; {\nif (event.target === area) {\nevent.preventDefault();\n}\n});\n</code></pre> <p>V\u00ec ta ch\u1ec9 c\u1ea7n vi\u1ebft m\u1ed9t event handler cho t\u1ea5t c\u1ea3 element, pattern u\u1ef7 quy\u1ec1n event n\u00e0y r\u1ea5t h\u1ea5p d\u1eabn. Tuy nhi\u00ean, n\u1ebfu b\u1ea1n \u1edf g\u00f3c nh\u00ecn c\u1ee7a tr\u00ecnh duy\u1ec7t, to\u00e0n b\u1ed9 trang s\u1ebd \u0111\u01b0\u1ee3c xem nh\u01b0 non-fast scrollable region. Ngh\u0129a l\u00e0 ngay c\u1ea3 khi \u1ee9ng d\u1ee5ng c\u1ee7a b\u1ea1n kh\u00f4ng quan t\u00e2m \u0111\u1ebfn input t\u1eeb m\u1ed9t s\u1ed1 ph\u1ea7n nh\u1ea5t \u0111\u1ecbnh c\u1ee7a trang, compositor thread s\u1ebd ph\u1ea3i giao ti\u1ebfp v\u1edbi main thread v\u00e0 \u0111\u1ee3i n\u00f3 m\u1ed7i khi c\u00f3 input event \u0111\u1ebfn. Do \u0111\u00f3, kh\u1ea3 n\u0103ng cu\u1ed9n m\u01b0\u1ee3t m\u00e0 c\u1ee7a compositor s\u1ebd kh\u00f4ng c\u00f2n.</p> <p></p> <p>\u0110\u1ec3 gi\u1ea3m thi\u1ec3u \u0111i\u1ec1u n\u00e0y, b\u1ea1n c\u00f3 th\u1ec3 truy\u1ec1n <code>passive : true</code> v\u00e0o event listener. N\u00f3 s\u1ebd g\u1ee3i \u00fd cho tr\u00ecnh duy\u1ec7t r\u1eb1ng b\u1ea1n v\u1eabn mu\u1ed1n ti\u1ebfp t\u1ee5c l\u1eafng nghe event \u1edf main thread, nh\u01b0ng compositor v\u1eabn c\u00f3 th\u1ec3 ch\u1ea1y ti\u1ebfp v\u00e0 t\u1ea1o frame m\u1edbi.</p> <pre><code>document.body.addEventListener('touchstart', event =&gt; {\nif (event.target === area) {\nevent.preventDefault()\n}\n}, {passive: true});\n</code></pre>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#kiem-tra-xem-co-huy-event-uoc-khong","title":"Ki\u1ec3m tra xem c\u00f3 hu\u1ef7 event \u0111\u01b0\u1ee3c kh\u00f4ng","text":"<p>Gi\u1ea3 s\u1eed b\u1ea1n c\u00f3 m\u1ed9t c\u00e1i khung trong trang, b\u1ea1n mu\u1ed1n c\u00e1i khung n\u00e0y ch\u1ec9 cu\u1ed9n ngang.</p> <p></p> <p>D\u00f9ng <code>passive: true</code> trong pointer event ngh\u0129a l\u00e0 trang c\u00f3 th\u1ec3 cu\u1ed9n m\u1ed9t c\u00e1ch m\u01b0\u1ee3t m\u00e0, nh\u01b0ng cu\u1ed9n d\u1ecdc c\u00f3 th\u1ec3 \u0111\u00e3 b\u1eaft \u0111\u1ea7u khi b\u1ea1n mu\u1ed1n <code>preventDefault</code> \u0111\u1ec3 ch\u1eb7n cu\u1ed9n d\u1ecdc. B\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m tra b\u1eb1ng c\u00e1ch d\u00f9ng <code>event.cancelable</code>.</p> <pre><code>document.body.addEventListener('pointermove', event =&gt; {\nif (event.cancelable) {\nevent.preventDefault(); // block the native scroll\n/*\n        *  do what you want the application to do here\n        */\n}\n}, {passive: true});\n</code></pre> <p>Thay v\u00e0o \u0111\u00f3, b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng CSS rule nh\u01b0 <code>touch-action</code> \u0111\u1ec3 lo\u1ea1i b\u1ecf ho\u00e0n to\u00e0n event handler.</p> <pre><code>#area {\ntouch-action: pan-x;\n}\n</code></pre>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#tim-event-target","title":"T\u00ecm event target","text":"<p>Khi compositor thread g\u1eedi m\u1ed9t input event \u0111\u1ebfn main thread, n\u00f3 s\u1ebd ch\u1ea1y m\u1ed9t hit test \u0111\u1ec3 t\u00ecm event target. Hit test d\u00f9ng d\u1eef li\u1ec7u paint record, \u0111\u01b0\u1ee3c t\u1ea1o ra trong rendering process \u0111\u1ec3 t\u00ecm hi\u1ec3u nh\u1eefng th\u1ee9 n\u1eb1m d\u01b0\u1edbi to\u1ea1 \u0111\u1ed9 \u0111i\u1ec3m m\u00e0 event x\u1ea3y ra.</p> <p></p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#giam-thieu-viec-gui-event-en-main-thread","title":"Gi\u1ea3m thi\u1ec3u vi\u1ec7c g\u1eedi event \u0111\u1ebfn main thread","text":"<p>Trong b\u00e0i tr\u01b0\u1edbc, ta \u0111\u00e3 xem c\u00e1ch m\u00e0n h\u00ecnh refresh 60 l\u1ea7n tr\u00ean gi\u00e2y v\u00e0 c\u00e1ch m\u00e0 ta c\u1ea7n theo k\u1ecbp \u0111i\u1ec1u \u0111\u00f3 \u0111\u1ec3 c\u00f3 ho\u1ea1t \u1ea3nh m\u01b0\u1ee3t m\u00e0. V\u1edbi input, m\u1ed9t thi\u1ebft b\u1ecb m\u00e0n h\u00ecnh c\u1ea3m \u1ee9ng th\u00f4ng th\u01b0\u1eddng cung c\u1ea5p event ch\u1ea1m 60 - 120 l\u1ea7n m\u1ed7i gi\u00e2y. Input event r\u00f5 r\u00e0ng l\u00e0 nhi\u1ec1u h\u01a1n m\u1ee9c refresh c\u1ee7a m\u00e0n h\u00ecnh.</p> <p>N\u1ebfu m\u1ed9t event li\u00ean t\u1ee5c nh\u01b0 <code>touchmove</code> \u0111\u01b0\u1ee3c g\u1eedi \u0111\u1ebfn main thread 120 l\u1ea7n m\u1ed7i gi\u00e2y, n\u00f3 s\u1ebd k\u00edch ho\u1ea1t qu\u00e1 nhi\u1ec1u hit test v\u00e0 th\u1ef1c thi JavaScript so v\u1edbi m\u1ee9c m\u00e0 m\u00e0n h\u00ecnh c\u00f3 th\u1ec3 refresh.</p> <p></p> <p>\u0110\u1ec3 gi\u1ea3m thi\u1ec3u qu\u00e1 nhi\u1ec1u l\u1ec7nh g\u1ecdi \u0111\u1ebfn main thread, Chrome k\u1ebft h\u1ee3p c\u00e1c event li\u00ean t\u1ee5c (nh\u01b0 <code>wheel</code>, <code>mousewheel</code>, <code>mousemove</code>, <code>pointermove</code>, <code>touchmove</code>) v\u00e0 tr\u00ec ho\u00e3n vi\u1ec7c g\u1eedi \u0111\u1ebfn main thread cho \u0111\u1ebfn ngay tr\u01b0\u1edbc <code>requestAnimationFrame</code> ti\u1ebfp theo.</p> <p></p> <p>C\u00e1c event r\u1eddi r\u1ea1c nh\u01b0 <code>keydown</code>, <code>keyup</code>, <code>mouseup</code>, <code>mousedown</code>, <code>touchstart</code>, v\u00e0 <code>touchend</code> \u0111\u01b0\u1ee3c g\u1eedi ngay l\u1eadp t\u1ee9c.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#su-dung-getcoalescedevents-e-nhan-cac-event-trong-frame","title":"S\u1eed d\u1ee5ng <code>getCoalescedEvents</code> \u0111\u1ec3 nh\u1eadn c\u00e1c event trong frame","text":"<p>V\u1edbi h\u1ea7u h\u1ebft cac \u1ee9ng d\u1ee5ng web, c\u00e1c event \u0111\u01b0\u1ee3c k\u1ebft h\u1ee3p ph\u1ea3i \u0111\u1ee7 \u0111\u1ec3 cung c\u1ea5p tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng t\u1ed1t. Tuy nhi\u00ean, n\u1ebfu b\u1ea1n \u0111ang l\u00e0m nh\u1eefng th\u1ee9 nh\u01b0 \u1ee9ng d\u1ee5ng v\u1ebd v\u00e0 t\u1ea1o m\u1ed9t \u0111\u01b0\u1eddng th\u1eb3ng d\u1ef1a tr\u00ean c\u00e1c to\u1ea1 \u0111\u1ed9 <code>touchmove</code>, b\u1ea1n c\u00f3 th\u1ec3 m\u1ea5t c\u00e1c to\u1ea1 \u0111\u1ed9 \u1edf gi\u1eefa \u0111\u1ec3 v\u1ebd ra m\u1ed9t \u0111\u01b0\u1eddng th\u1eb3ng \u0111\u1eb9p. Trong tr\u01b0\u1eddng h\u1ee3p \u0111\u00f3, b\u1ea1n c\u00f3 th\u1ec3 d\u00f9ng ph\u01b0\u01a1ng th\u1ee9c <code>getCoalescedEvents</code> trong pointer event \u0111\u1ec3 l\u1ea5y th\u00f4ng tin v\u1ec1 c\u00e1c event k\u1ebft h\u1ee3p \u0111\u00f3.</p> <p></p> <pre><code>window.addEventListener('pointermove', event =&gt; {\nconst events = event.getCoalescedEvents();\nfor (let event of events) {\nconst x = event.pageX;\nconst y = event.pageY;\n// draw a line using x and y coordinates.\n}\n});\n</code></pre>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#cac-buoc-tiep-theo","title":"C\u00e1c b\u01b0\u1edbc ti\u1ebfp theo","text":"<p>Trong series n\u00e0y, ta \u0111\u00e3 \u0111\u1ec1 c\u1eadp \u0111\u1ebfn c\u00e1c ho\u1ea1t \u0111\u1ed9ng b\u00ean trong m\u1ed9t tr\u00ecnh duy\u1ec7t web. N\u1ebfu b\u1ea1n ch\u01b0a bao gi\u1edd ngh\u0129 v\u00ec sao DevTools khuy\u00ean b\u1ea1n th\u00eam <code>{passive: true}</code> v\u00e0o event handler ho\u1eb7c v\u00ec sao b\u1ea1n c\u00f3 th\u1ec3 vi\u1ebft thu\u1ed9c t\u00ednh <code>async</code> v\u00e0o th\u1ebb script, m\u00ecnh hi v\u1ecdng series c\u00f3 th\u1ec3 l\u00e0m r\u00f5 v\u00ec sao tr\u00ecnh duy\u1ec7t c\u1ea7n c\u00e1c th\u00f4ng tin \u0111\u00f3 \u0111\u1ec3 cung c\u1ea5p tr\u1ea3i nghi\u1ec7m duy\u1ec7t web m\u01b0\u1ee3t m\u00e0 v\u00e0 nhanh h\u01a1n.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#dung-lighthouse","title":"D\u00f9ng Lighthouse","text":"<p>N\u1ebfu b\u1ea1n mu\u1ed1n l\u00e0m cho code c\u1ee7a m\u00ecnh ph\u00f9 h\u1ee3p v\u1edbi tr\u00ecnh duy\u1ec7t nh\u01b0ng kh\u00f4ng bi\u1ebft b\u1eaft \u0111\u1ea7u t\u1eeb \u0111\u00e2u, th\u00ec Lighthouse l\u00e0 m\u1ed9t c\u00f4ng c\u1ee5 ch\u1ea1y ki\u1ec3m tra b\u1ea5t k\u1ef3 trang web n\u00e0o v\u00e0 cung c\u1ea5p cho b\u1ea1n b\u00e1o c\u00e1o v\u1ec1 nh\u1eefng g\u00ec \u0111ang \u0111\u01b0\u1ee3c th\u1ef1c hi\u1ec7n \u0111\u00fang v\u00e0 nh\u1eefng g\u00ec c\u1ea7n ph\u1ea3i c\u1ea3i thi\u1ec7n. \u0110\u1ecdc qua danh s\u00e1ch ki\u1ec3m tra c\u0169ng cho b\u1ea1n \u00fd t\u01b0\u1edfng v\u1ec1 nh\u1eefng th\u1ee9 m\u00e0 tr\u00ecnh duy\u1ec7t c\u1ea7n.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#hoc-cach-o-luong-hieu-suat","title":"H\u1ecdc c\u00e1ch \u0111o l\u01b0\u1eddng hi\u1ec7u su\u1ea5t","text":"<p>C\u00e1c \u0111i\u1ec1u ch\u1ec9nh hi\u1ec7u su\u1ea5t c\u00f3 th\u1ec3 kh\u00e1c nhau \u0111\u1ed1i v\u1edbi c\u00e1c trang web kh\u00e1c nhau, do \u0111\u00f3, \u0111i\u1ec1u quan tr\u1ecdng l\u00e0 b\u1ea1n ph\u1ea3i \u0111o hi\u1ec7u su\u1ea5t trang web c\u1ee7a m\u00ecnh v\u00e0 quy\u1ebft \u0111\u1ecbnh \u0111i\u1ec1u g\u00ec ph\u00f9 h\u1ee3p nh\u1ea5t cho trang web c\u1ee7a m\u00ecnh. Team Chrome DevTools c\u00f3 m\u1ed9t s\u1ed1 h\u01b0\u1edbng d\u1eabn v\u1ec1 c\u00e1ch \u0111o hi\u1ec7u su\u1ea5t trang web c\u1ee7a b\u1ea1n.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#them-feature-policy-vao-trang-cua-ban","title":"Th\u00eam Feature Policy v\u00e0o trang c\u1ee7a b\u1ea1n","text":"<p>N\u1ebfu b\u1ea1n mu\u1ed1n \u0111i xa h\u01a1n, Feature Policy l\u00e0 m\u1ed9t t\u00ednh n\u0103ng web m\u1edbi c\u00f3 th\u1ec3 l\u00e0 r\u00e0o c\u1ea3n cho b\u1ea1n khi b\u1ea1n \u0111ang t\u1ea1o ra website cho m\u00ecnh. Vi\u1ec7c b\u1eadt feature policy s\u1ebd \u0111\u1ea3m b\u1ea3o h\u00e0nh vi nh\u1ea5t \u0111\u1ecbnh c\u1ee7a \u1ee9ng d\u1ee5ng v\u00e0 ng\u0103n b\u1ea1n m\u1eafc l\u1ed7i. V\u00ed d\u1ee5, n\u1ebfu mu\u1ed1n \u0111\u1ea3m b\u1ea3o \u1ee9ng d\u1ee5ng c\u1ee7a m\u00ecnh s\u1ebd kh\u00f4ng bao gi\u1edd ch\u1eb7n parsing, th\u00ec b\u1ea1n c\u00f3 th\u1ec3 ch\u1ea1y \u1ee9ng d\u1ee5ng c\u1ee7a m\u00ecnh theo synchronous scripts policy. Khi c\u00f3 <code>sync-script: 'none'</code>, \u0111o\u1ea1n code JavaScript ch\u1eb7n parser s\u1ebd b\u1ecb ch\u1eb7n th\u1ef1c thi. \u0110i\u1ec1u n\u00e0y ng\u0103n b\u1ea5t k\u1ef3 code n\u00e0o c\u1ee7a b\u1ea1n ch\u1eb7n parser v\u00e0 tr\u00ecnh duy\u1ec7t kh\u00f4ng c\u1ea7n ph\u1ea3i lo v\u1ec1 vi\u1ec7c t\u1ea1m d\u1eebng parse.</p>"},{"location":"Misc/chrome_blog/inside_browser_4/inside_browser_4/#ket-phan-4","title":"K\u1ebft ph\u1ea7n 4","text":"<p>Khi m\u1edbi b\u1eaft \u0111\u1ea7u x\u00e2y d\u1ef1ng website, m\u00ecnh g\u1ea7n nh\u01b0 ch\u1ec9 quan t\u00e2m \u0111\u1ebfn vi\u1ec7c l\u00e0m sao \u0111\u1ec3 vi\u1ebft code v\u00e0 l\u00e0m g\u00ec \u0111\u1ec3 tr\u1edf n\u00ean n\u0103ng su\u1ea5t h\u01a1n. Nh\u1eefng th\u1ee9 \u0111\u00f3 quan tr\u1ecdng th\u1eadt, nh\u01b0ng ta c\u0169ng c\u1ea7n bi\u1ebft l\u00e0m sao tr\u00ecnh duy\u1ec7t \u0111\u1ecdc \u0111\u01b0\u1ee3c code c\u1ee7a ch\u00fang ta. Tr\u00ecnh duy\u1ec7t hi\u1ec7n \u0111\u1ea1i \u0111\u00e3 v\u00e0 \u0111ang ti\u1ebfp t\u1ee5c n\u00e2ng cao tr\u1ea3i nghi\u1ec7m web cho ng\u01b0\u1eddi d\u00f9ng. \u0110\u1ed1i x\u1eed t\u1ed1t v\u1edbi tr\u00ecnh duy\u1ec7t b\u1eb1ng c\u00e1ch t\u1ed5 ch\u1ee9c t\u1ed1t code c\u1ee7a ch\u00fang ta s\u1ebd d\u1eabn \u0111\u1ebfn vi\u1ec7c c\u1ea3i thi\u1ec7n tr\u1ea3i nghi\u1ec7m ng\u01b0\u1eddi d\u00f9ng. M\u00ecnh hi v\u1ecdng c\u00e1c b\u1ea1n s\u1ebd tham gia c\u00f9ng m\u00ecnh trong vi\u1ec7c \u0111\u1ed1i x\u1eed t\u1ed1t v\u1edbi tr\u00ecnh duy\u1ec7t!</p>"}]}